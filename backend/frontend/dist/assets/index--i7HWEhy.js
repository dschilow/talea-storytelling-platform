function KA(e,t){for(var s=0;s<t.length;s++){const r=t[s];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const c=Object.getOwnPropertyDescriptor(r,i);c&&Object.defineProperty(e,i,c.get?c:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function s(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(i){if(i.ep)return;i.ep=!0;const c=s(i);fetch(i.href,c)}})();function Dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nm={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function YA(){if(Mb)return Zo;Mb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,i,c){var u=null;if(c!==void 0&&(u=""+c),i.key!==void 0&&(u=""+i.key),"key"in i){c={};for(var h in i)h!=="key"&&(c[h]=i[h])}else c=i;return i=c.ref,{$$typeof:e,type:r,key:u,ref:i!==void 0?i:null,props:c}}return Zo.Fragment=t,Zo.jsx=s,Zo.jsxs=s,Zo}var _b;function JA(){return _b||(_b=1,nm.exports=YA()),nm.exports}var o=JA(),rm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function XA(){if(Ob)return De;Ob=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function E(z,X,Z){this.props=z,this.context=X,this.refs=k,this.updater=Z||j}E.prototype.isReactComponent={},E.prototype.setState=function(z,X){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,X,"setState")},E.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function C(){}C.prototype=E.prototype;function R(z,X,Z){this.props=z,this.context=X,this.refs=k,this.updater=Z||j}var N=R.prototype=new C;N.constructor=R,A(N,E.prototype),N.isPureReactComponent=!0;var D=Array.isArray,P={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function U(z,X,Z,F,ie,oe){return Z=oe.ref,{$$typeof:e,type:z,key:X,ref:Z!==void 0?Z:null,props:oe}}function _(z,X){return U(z.type,X,void 0,void 0,void 0,z.props)}function I(z){return typeof z=="object"&&z!==null&&z.$$typeof===e}function W(z){var X={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(Z){return X[Z]})}var H=/\/+/g;function se(z,X){return typeof z=="object"&&z!==null&&z.key!=null?W(""+z.key):X.toString(36)}function K(){}function re(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(K,K):(z.status="pending",z.then(function(X){z.status==="pending"&&(z.status="fulfilled",z.value=X)},function(X){z.status==="pending"&&(z.status="rejected",z.reason=X)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,X,Z,F,ie){var oe=typeof z;(oe==="undefined"||oe==="boolean")&&(z=null);var he=!1;if(z===null)he=!0;else switch(oe){case"bigint":case"string":case"number":he=!0;break;case"object":switch(z.$$typeof){case e:case t:he=!0;break;case g:return he=z._init,Q(he(z._payload),X,Z,F,ie)}}if(he)return ie=ie(z),he=F===""?"."+se(z,0):F,D(ie)?(Z="",he!=null&&(Z=he.replace(H,"$&/")+"/"),Q(ie,X,Z,"",function(Qe){return Qe})):ie!=null&&(I(ie)&&(ie=_(ie,Z+(ie.key==null||z&&z.key===ie.key?"":(""+ie.key).replace(H,"$&/")+"/")+he)),X.push(ie)),1;he=0;var ye=F===""?".":F+":";if(D(z))for(var pe=0;pe<z.length;pe++)F=z[pe],oe=ye+se(F,pe),he+=Q(F,X,Z,oe,ie);else if(pe=v(z),typeof pe=="function")for(z=pe.call(z),pe=0;!(F=z.next()).done;)F=F.value,oe=ye+se(F,pe++),he+=Q(F,X,Z,oe,ie);else if(oe==="object"){if(typeof z.then=="function")return Q(re(z),X,Z,F,ie);throw X=String(z),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return he}function B(z,X,Z){if(z==null)return z;var F=[],ie=0;return Q(z,F,"","",function(oe){return X.call(Z,oe,ie++)}),F}function L(z){if(z._status===-1){var X=z._result;X=X(),X.then(function(Z){(z._status===0||z._status===-1)&&(z._status=1,z._result=Z)},function(Z){(z._status===0||z._status===-1)&&(z._status=2,z._result=Z)}),z._status===-1&&(z._status=0,z._result=X)}if(z._status===1)return z._result.default;throw z._result}var V=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Y(){}return De.Children={map:B,forEach:function(z,X,Z){B(z,function(){X.apply(this,arguments)},Z)},count:function(z){var X=0;return B(z,function(){X++}),X},toArray:function(z){return B(z,function(X){return X})||[]},only:function(z){if(!I(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},De.Component=E,De.Fragment=s,De.Profiler=i,De.PureComponent=R,De.StrictMode=r,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,De.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},De.cache=function(z){return function(){return z.apply(null,arguments)}},De.cloneElement=function(z,X,Z){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var F=A({},z.props),ie=z.key,oe=void 0;if(X!=null)for(he in X.ref!==void 0&&(oe=void 0),X.key!==void 0&&(ie=""+X.key),X)!M.call(X,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&X.ref===void 0||(F[he]=X[he]);var he=arguments.length-2;if(he===1)F.children=Z;else if(1<he){for(var ye=Array(he),pe=0;pe<he;pe++)ye[pe]=arguments[pe+2];F.children=ye}return U(z.type,ie,void 0,void 0,oe,F)},De.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:c,_context:z},z},De.createElement=function(z,X,Z){var F,ie={},oe=null;if(X!=null)for(F in X.key!==void 0&&(oe=""+X.key),X)M.call(X,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ie[F]=X[F]);var he=arguments.length-2;if(he===1)ie.children=Z;else if(1<he){for(var ye=Array(he),pe=0;pe<he;pe++)ye[pe]=arguments[pe+2];ie.children=ye}if(z&&z.defaultProps)for(F in he=z.defaultProps,he)ie[F]===void 0&&(ie[F]=he[F]);return U(z,oe,void 0,void 0,null,ie)},De.createRef=function(){return{current:null}},De.forwardRef=function(z){return{$$typeof:h,render:z}},De.isValidElement=I,De.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:L}},De.memo=function(z,X){return{$$typeof:m,type:z,compare:X===void 0?null:X}},De.startTransition=function(z){var X=P.T,Z={};P.T=Z;try{var F=z(),ie=P.S;ie!==null&&ie(Z,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Y,V)}catch(oe){V(oe)}finally{P.T=X}},De.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},De.use=function(z){return P.H.use(z)},De.useActionState=function(z,X,Z){return P.H.useActionState(z,X,Z)},De.useCallback=function(z,X){return P.H.useCallback(z,X)},De.useContext=function(z){return P.H.useContext(z)},De.useDebugValue=function(){},De.useDeferredValue=function(z,X){return P.H.useDeferredValue(z,X)},De.useEffect=function(z,X,Z){var F=P.H;if(typeof Z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(z,X)},De.useId=function(){return P.H.useId()},De.useImperativeHandle=function(z,X,Z){return P.H.useImperativeHandle(z,X,Z)},De.useInsertionEffect=function(z,X){return P.H.useInsertionEffect(z,X)},De.useLayoutEffect=function(z,X){return P.H.useLayoutEffect(z,X)},De.useMemo=function(z,X){return P.H.useMemo(z,X)},De.useOptimistic=function(z,X){return P.H.useOptimistic(z,X)},De.useReducer=function(z,X,Z){return P.H.useReducer(z,X,Z)},De.useRef=function(z){return P.H.useRef(z)},De.useState=function(z){return P.H.useState(z)},De.useSyncExternalStore=function(z,X,Z){return P.H.useSyncExternalStore(z,X,Z)},De.useTransition=function(){return P.H.useTransition()},De.version="19.1.1",De}var Db;function Ol(){return Db||(Db=1,rm.exports=XA()),rm.exports}var b=Ol();const $=Dg(b),Pg=KA({__proto__:null,default:$},[b]);var sm={exports:{}},Qo={},am={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pb;function ZA(){return Pb||(Pb=1,(function(e){function t(B,L){var V=B.length;B.push(L);e:for(;0<V;){var Y=V-1>>>1,z=B[Y];if(0<i(z,L))B[Y]=L,B[V]=z,V=Y;else break e}}function s(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var L=B[0],V=B.pop();if(V!==L){B[0]=V;e:for(var Y=0,z=B.length,X=z>>>1;Y<X;){var Z=2*(Y+1)-1,F=B[Z],ie=Z+1,oe=B[ie];if(0>i(F,V))ie<z&&0>i(oe,F)?(B[Y]=oe,B[ie]=V,Y=ie):(B[Y]=F,B[Z]=V,Y=Z);else if(ie<z&&0>i(oe,V))B[Y]=oe,B[ie]=V,Y=ie;else break e}}return L}function i(B,L){var V=B.sortIndex-L.sortIndex;return V!==0?V:B.id-L.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var p=[],m=[],g=1,y=null,v=3,j=!1,A=!1,k=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var L=s(m);L!==null;){if(L.callback===null)r(m);else if(L.startTime<=B)r(m),L.sortIndex=L.expirationTime,t(p,L);else break;L=s(m)}}function P(B){if(k=!1,D(B),!A)if(s(p)!==null)A=!0,M||(M=!0,se());else{var L=s(m);L!==null&&Q(P,L.startTime-B)}}var M=!1,U=-1,_=5,I=-1;function W(){return E?!0:!(e.unstable_now()-I<_)}function H(){if(E=!1,M){var B=e.unstable_now();I=B;var L=!0;try{e:{A=!1,k&&(k=!1,R(U),U=-1),j=!0;var V=v;try{t:{for(D(B),y=s(p);y!==null&&!(y.expirationTime>B&&W());){var Y=y.callback;if(typeof Y=="function"){y.callback=null,v=y.priorityLevel;var z=Y(y.expirationTime<=B);if(B=e.unstable_now(),typeof z=="function"){y.callback=z,D(B),L=!0;break t}y===s(p)&&r(p),D(B)}else r(p);y=s(p)}if(y!==null)L=!0;else{var X=s(m);X!==null&&Q(P,X.startTime-B),L=!1}}break e}finally{y=null,v=V,j=!1}L=void 0}}finally{L?se():M=!1}}}var se;if(typeof N=="function")se=function(){N(H)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=H,se=function(){re.postMessage(null)}}else se=function(){C(H,0)};function Q(B,L){U=C(function(){B(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var L=3;break;default:L=v}var V=v;v=L;try{return B()}finally{v=V}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(B,L){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=v;v=B;try{return L()}finally{v=V}},e.unstable_scheduleCallback=function(B,L,V){var Y=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Y+V:Y):V=Y,B){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=V+z,B={id:g++,callback:L,priorityLevel:B,startTime:V,expirationTime:z,sortIndex:-1},V>Y?(B.sortIndex=V,t(m,B),s(p)===null&&B===s(m)&&(k?(R(U),U=-1):k=!0,Q(P,V-Y))):(B.sortIndex=z,t(p,B),A||j||(A=!0,M||(M=!0,se()))),B},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(B){var L=v;return function(){var V=v;v=L;try{return B.apply(this,arguments)}finally{v=V}}}})(im)),im}var zb;function QA(){return zb||(zb=1,am.exports=ZA()),am.exports}var om={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function eN(){if(Lb)return pn;Lb=1;var e=Ol();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},i=Symbol.for("react.portal");function c(p,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:p,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(p,m,null,g)},pn.flushSync=function(p){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=m,r.p=g,r.d.f()}},pn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},pn.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,j=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:j}):g==="script"&&r.d.X(p,{crossOrigin:y,integrity:v,fetchPriority:j,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},pn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=h(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},pn.requestFormReset=function(p){r.d.r(p)},pn.unstable_batchedUpdates=function(p,m){return p(m)},pn.useFormState=function(p,m,g){return u.H.useFormState(p,m,g)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.1",pn}var Ub;function VS(){if(Ub)return om.exports;Ub=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),om.exports=eN(),om.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b;function tN(){if($b)return Qo;$b=1;var e=QA(),t=Ol(),s=VS();function r(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var a=n,l=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(l=a.return),n=a.return;while(n)}return a.tag===3?l:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(c(n)!==n)throw Error(r(188))}function p(n){var a=n.alternate;if(!a){if(a=c(n),a===null)throw Error(r(188));return a!==n?null:n}for(var l=n,d=a;;){var f=l.return;if(f===null)break;var x=f.alternate;if(x===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===l)return h(f),n;if(x===d)return h(f),a;x=x.sibling}throw Error(r(188))}if(l.return!==d.return)l=f,d=x;else{for(var T=!1,O=f.child;O;){if(O===l){T=!0,l=f,d=x;break}if(O===d){T=!0,d=f,l=x;break}O=O.sibling}if(!T){for(O=x.child;O;){if(O===l){T=!0,l=x,d=f;break}if(O===d){T=!0,d=x,l=f;break}O=O.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:a}function m(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=m(n),a!==null)return a;n=n.sibling}return null}var g=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function se(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var K=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===K?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case E:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case j:return"Portal";case N:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case D:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return a=n.displayName||null,a!==null?a:re(n.type)||"Memo";case _:a=n._payload,n=n._init;try{return re(n(a))}catch{}}return null}var Q=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Y=[],z=-1;function X(n){return{current:n}}function Z(n){0>z||(n.current=Y[z],Y[z]=null,z--)}function F(n,a){z++,Y[z]=n.current,n.current=a}var ie=X(null),oe=X(null),he=X(null),ye=X(null);function pe(n,a){switch(F(he,a),F(oe,n),F(ie,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?ab(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=ab(a),n=ib(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Z(ie),F(ie,n)}function Qe(){Z(ie),Z(oe),Z(he)}function xt(n){n.memoizedState!==null&&F(ye,n);var a=ie.current,l=ib(a,n.type);a!==l&&(F(oe,n),F(ie,l))}function jt(n){oe.current===n&&(Z(ie),Z(oe)),ye.current===n&&(Z(ye),qo._currentValue=V)}var Wt=Object.prototype.hasOwnProperty,He=e.unstable_scheduleCallback,ge=e.unstable_cancelCallback,kt=e.unstable_shouldYield,tt=e.unstable_requestPaint,qe=e.unstable_now,On=e.unstable_getCurrentPriorityLevel,Ke=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,$t=e.unstable_LowPriority,en=e.unstable_IdlePriority,vs=e.log,Kt=e.unstable_setDisableYieldValue,Mt=null,Pt=null;function tn(n){if(typeof vs=="function"&&Kt(n),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Mt,n)}catch{}}var Tt=Math.clz32?Math.clz32:Tn,cr=Math.log,Ua=Math.LN2;function Tn(n){return n>>>=0,n===0?32:31-(cr(n)/Ua|0)|0}var Ir=256,bs=4194304;function Gn(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Fr(n,a,l){var d=n.pendingLanes;if(d===0)return 0;var f=0,x=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var O=d&134217727;return O!==0?(d=O&~x,d!==0?f=Gn(d):(T&=O,T!==0?f=Gn(T):l||(l=O&~n,l!==0&&(f=Gn(l))))):(O=d&~x,O!==0?f=Gn(O):T!==0?f=Gn(T):l||(l=d&~n,l!==0&&(f=Gn(l)))),f===0?0:a!==0&&a!==f&&(a&x)===0&&(x=f&-f,l=a&-a,x>=l||x===32&&(l&4194048)!==0)?a:f}function Vr(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function sa(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ke(){var n=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),n}function Ge(){var n=bs;return bs<<=1,(bs&62914560)===0&&(bs=4194304),n}function Ye(n){for(var a=[],l=0;31>l;l++)a.push(n);return a}function Oe(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function mt(n,a,l,d,f,x){var T=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var O=n.entanglements,G=n.expirationTimes,ne=n.hiddenUpdates;for(l=T&~l;0<l;){var ce=31-Tt(l),de=1<<ce;O[ce]=0,G[ce]=-1;var ae=ne[ce];if(ae!==null)for(ne[ce]=null,ce=0;ce<ae.length;ce++){var le=ae[ce];le!==null&&(le.lane&=-536870913)}l&=~de}d!==0&&Te(n,d,0),x!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=x&~(T&~a))}function Te(n,a,l){n.pendingLanes|=a,n.suspendedLanes&=~a;var d=31-Tt(a);n.entangledLanes|=a,n.entanglements[d]=n.entanglements[d]|1073741824|l&4194090}function Be(n,a){var l=n.entangledLanes|=a;for(n=n.entanglements;l;){var d=31-Tt(l),f=1<<d;f&a|n[d]&a&&(n[d]|=a),l&=~f}}function nt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function rt(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vn(){var n=L.p;return n!==0?n:(n=window.event,n===void 0?32:Tb(n.type))}function ot(n,a){var l=L.p;try{return L.p=n,a()}finally{L.p=l}}var Je=Math.random().toString(36).slice(2),pt="__reactFiber$"+Je,st="__reactProps$"+Je,nn="__reactContainer$"+Je,$a="__reactEvents$"+Je,Hr="__reactListeners$"+Je,Wy="__reactHandles$"+Je,qy="__reactResources$"+Je,ro="__reactMarker$"+Je;function Kd(n){delete n[pt],delete n[st],delete n[$a],delete n[Hr],delete n[Wy]}function Ba(n){var a=n[pt];if(a)return a;for(var l=n.parentNode;l;){if(a=l[nn]||l[pt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(n=ub(n);n!==null;){if(l=n[pt])return l;n=ub(n)}return a}n=l,l=n.parentNode}return null}function Ia(n){if(n=n[pt]||n[nn]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function so(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(r(33))}function Fa(n){var a=n[qy];return a||(a=n[qy]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function rn(n){n[ro]=!0}var Ky=new Set,Yy={};function aa(n,a){Va(n,a),Va(n+"Capture",a)}function Va(n,a){for(Yy[n]=a,n=0;n<a.length;n++)Ky.add(a[n])}var BC=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jy={},Xy={};function IC(n){return Wt.call(Xy,n)?!0:Wt.call(Jy,n)?!1:BC.test(n)?Xy[n]=!0:(Jy[n]=!0,!1)}function Kl(n,a,l){if(IC(a))if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+l)}}function Yl(n,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+l)}}function Gr(n,a,l,d){if(d===null)n.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(a,l,""+d)}}var Yd,Zy;function Ha(n){if(Yd===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Yd=a&&a[1]||"",Zy=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yd+n+Zy}var Jd=!1;function Xd(n,a){if(!n||Jd)return"";Jd=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(le){var ae=le}Reflect.construct(n,[],de)}else{try{de.call()}catch(le){ae=le}n.call(de.prototype)}}else{try{throw Error()}catch(le){ae=le}(de=n())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),T=x[0],O=x[1];if(T&&O){var G=T.split(`
`),ne=O.split(`
`);for(f=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;f<ne.length&&!ne[f].includes("DetermineComponentFrameRoot");)f++;if(d===G.length||f===ne.length)for(d=G.length-1,f=ne.length-1;1<=d&&0<=f&&G[d]!==ne[f];)f--;for(;1<=d&&0<=f;d--,f--)if(G[d]!==ne[f]){if(d!==1||f!==1)do if(d--,f--,0>f||G[d]!==ne[f]){var ce=`
`+G[d].replace(" at new "," at ");return n.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",n.displayName)),ce}while(1<=d&&0<=f);break}}}finally{Jd=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Ha(l):""}function FC(n){switch(n.tag){case 26:case 27:case 5:return Ha(n.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return Xd(n.type,!1);case 11:return Xd(n.type.render,!1);case 1:return Xd(n.type,!0);case 31:return Ha("Activity");default:return""}}function Qy(n){try{var a="";do a+=FC(n),n=n.return;while(n);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Wn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function e0(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function VC(n){var a=e0(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),d=""+n[a];if(!n.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,x=l.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(T){d=""+T,x.call(this,T)}}),Object.defineProperty(n,a,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function Jl(n){n._valueTracker||(n._valueTracker=VC(n))}function t0(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var l=a.getValue(),d="";return n&&(d=e0(n)?n.checked?"true":"false":n.value),n=d,n!==l?(a.setValue(n),!0):!1}function Xl(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var HC=/[\n"\\]/g;function qn(n){return n.replace(HC,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Zd(n,a,l,d,f,x,T,O){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),a!=null?T==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Wn(a)):n.value!==""+Wn(a)&&(n.value=""+Wn(a)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),a!=null?Qd(n,T,Wn(a)):l!=null?Qd(n,T,Wn(l)):d!=null&&n.removeAttribute("value"),f==null&&x!=null&&(n.defaultChecked=!!x),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?n.name=""+Wn(O):n.removeAttribute("name")}function n0(n,a,l,d,f,x,T,O){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.type=x),a!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||a!=null))return;l=l!=null?""+Wn(l):"",a=a!=null?""+Wn(a):l,O||a===n.value||(n.value=a),n.defaultValue=a}d=d??f,d=typeof d!="function"&&typeof d!="symbol"&&!!d,n.checked=O?n.checked:!!d,n.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Qd(n,a,l){a==="number"&&Xl(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ga(n,a,l,d){if(n=n.options,a){a={};for(var f=0;f<l.length;f++)a["$"+l[f]]=!0;for(l=0;l<n.length;l++)f=a.hasOwnProperty("$"+n[l].value),n[l].selected!==f&&(n[l].selected=f),f&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Wn(l),a=null,f=0;f<n.length;f++){if(n[f].value===l){n[f].selected=!0,d&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function r0(n,a,l){if(a!=null&&(a=""+Wn(a),a!==n.value&&(n.value=a),l==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=l!=null?""+Wn(l):""}function s0(n,a,l,d){if(a==null){if(d!=null){if(l!=null)throw Error(r(92));if(Q(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),a=l}l=Wn(a),n.defaultValue=l,d=n.textContent,d===l&&d!==""&&d!==null&&(n.value=d)}function Wa(n,a){if(a){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=a;return}}n.textContent=a}var GC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a0(n,a,l){var d=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":d?n.setProperty(a,l):typeof l!="number"||l===0||GC.has(a)?a==="float"?n.cssFloat=l:n[a]=(""+l).trim():n[a]=l+"px"}function i0(n,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(n=n.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?n.setProperty(d,""):d==="float"?n.cssFloat="":n[d]="");for(var f in a)d=a[f],a.hasOwnProperty(f)&&l[f]!==d&&a0(n,f,d)}else for(var x in a)a.hasOwnProperty(x)&&a0(n,x,a[x])}function eh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var WC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zl(n){return qC.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var th=null;function nh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qa=null,Ka=null;function o0(n){var a=Ia(n);if(a&&(n=a.stateNode)){var l=n[st]||null;e:switch(n=a.stateNode,a.type){case"input":if(Zd(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var d=l[a];if(d!==n&&d.form===n.form){var f=d[st]||null;if(!f)throw Error(r(90));Zd(d,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<l.length;a++)d=l[a],d.form===n.form&&t0(d)}break e;case"textarea":r0(n,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ga(n,!!l.multiple,a,!1)}}}var rh=!1;function l0(n,a,l){if(rh)return n(a,l);rh=!0;try{var d=n(a);return d}finally{if(rh=!1,(qa!==null||Ka!==null)&&(Lc(),qa&&(a=qa,n=Ka,Ka=qa=null,o0(a),n)))for(a=0;a<n.length;a++)o0(n[a])}}function ao(n,a){var l=n.stateNode;if(l===null)return null;var d=l[st]||null;if(d===null)return null;l=d[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sh=!1;if(Wr)try{var io={};Object.defineProperty(io,"passive",{get:function(){sh=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{sh=!1}var ws=null,ah=null,Ql=null;function c0(){if(Ql)return Ql;var n,a=ah,l=a.length,d,f="value"in ws?ws.value:ws.textContent,x=f.length;for(n=0;n<l&&a[n]===f[n];n++);var T=l-n;for(d=1;d<=T&&a[l-d]===f[x-d];d++);return Ql=f.slice(n,1<d?1-d:void 0)}function ec(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function tc(){return!0}function u0(){return!1}function Cn(n){function a(l,d,f,x,T){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var O in n)n.hasOwnProperty(O)&&(l=n[O],this[O]=l?l(x):x[O]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?tc:u0,this.isPropagationStopped=u0,this}return g(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=tc)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=tc)},persist:function(){},isPersistent:tc}),a}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nc=Cn(ia),oo=g({},ia,{view:0,detail:0}),KC=Cn(oo),ih,oh,lo,rc=g({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ch,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==lo&&(lo&&n.type==="mousemove"?(ih=n.screenX-lo.screenX,oh=n.screenY-lo.screenY):oh=ih=0,lo=n),ih)},movementY:function(n){return"movementY"in n?n.movementY:oh}}),d0=Cn(rc),YC=g({},rc,{dataTransfer:0}),JC=Cn(YC),XC=g({},oo,{relatedTarget:0}),lh=Cn(XC),ZC=g({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),QC=Cn(ZC),eE=g({},ia,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tE=Cn(eE),nE=g({},ia,{data:0}),h0=Cn(nE),rE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iE(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=aE[n])?!!a[n]:!1}function ch(){return iE}var oE=g({},oo,{key:function(n){if(n.key){var a=rE[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=ec(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ch,charCode:function(n){return n.type==="keypress"?ec(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ec(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lE=Cn(oE),cE=g({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f0=Cn(cE),uE=g({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ch}),dE=Cn(uE),hE=g({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),fE=Cn(hE),mE=g({},rc,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pE=Cn(mE),gE=g({},ia,{newState:0,oldState:0}),yE=Cn(gE),xE=[9,13,27,32],uh=Wr&&"CompositionEvent"in window,co=null;Wr&&"documentMode"in document&&(co=document.documentMode);var vE=Wr&&"TextEvent"in window&&!co,m0=Wr&&(!uh||co&&8<co&&11>=co),p0=" ",g0=!1;function y0(n,a){switch(n){case"keyup":return xE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ya=!1;function bE(n,a){switch(n){case"compositionend":return x0(a);case"keypress":return a.which!==32?null:(g0=!0,p0);case"textInput":return n=a.data,n===p0&&g0?null:n;default:return null}}function wE(n,a){if(Ya)return n==="compositionend"||!uh&&y0(n,a)?(n=c0(),Ql=ah=ws=null,Ya=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return m0&&a.locale!=="ko"?null:a.data;default:return null}}var SE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v0(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!SE[n.type]:a==="textarea"}function b0(n,a,l,d){qa?Ka?Ka.push(d):Ka=[d]:qa=d,a=Vc(a,"onChange"),0<a.length&&(l=new nc("onChange","change",null,l,d),n.push({event:l,listeners:a}))}var uo=null,ho=null;function jE(n){eb(n,0)}function sc(n){var a=so(n);if(t0(a))return n}function w0(n,a){if(n==="change")return a}var S0=!1;if(Wr){var dh;if(Wr){var hh="oninput"in document;if(!hh){var j0=document.createElement("div");j0.setAttribute("oninput","return;"),hh=typeof j0.oninput=="function"}dh=hh}else dh=!1;S0=dh&&(!document.documentMode||9<document.documentMode)}function k0(){uo&&(uo.detachEvent("onpropertychange",T0),ho=uo=null)}function T0(n){if(n.propertyName==="value"&&sc(ho)){var a=[];b0(a,ho,n,nh(n)),l0(jE,a)}}function kE(n,a,l){n==="focusin"?(k0(),uo=a,ho=l,uo.attachEvent("onpropertychange",T0)):n==="focusout"&&k0()}function TE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sc(ho)}function CE(n,a){if(n==="click")return sc(a)}function EE(n,a){if(n==="input"||n==="change")return sc(a)}function AE(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Dn=typeof Object.is=="function"?Object.is:AE;function fo(n,a){if(Dn(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var l=Object.keys(n),d=Object.keys(a);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!Wt.call(a,f)||!Dn(n[f],a[f]))return!1}return!0}function C0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function E0(n,a){var l=C0(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=a&&d>=a)return{node:l,offset:a-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=C0(l)}}function A0(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?A0(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function N0(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Xl(n.document);a instanceof n.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)n=a.contentWindow;else break;a=Xl(n.document)}return a}function fh(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var NE=Wr&&"documentMode"in document&&11>=document.documentMode,Ja=null,mh=null,mo=null,ph=!1;function R0(n,a,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ph||Ja==null||Ja!==Xl(d)||(d=Ja,"selectionStart"in d&&fh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),mo&&fo(mo,d)||(mo=d,d=Vc(mh,"onSelect"),0<d.length&&(a=new nc("onSelect","select",null,a,l),n.push({event:a,listeners:d}),a.target=Ja)))}function oa(n,a){var l={};return l[n.toLowerCase()]=a.toLowerCase(),l["Webkit"+n]="webkit"+a,l["Moz"+n]="moz"+a,l}var Xa={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},gh={},M0={};Wr&&(M0=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function la(n){if(gh[n])return gh[n];if(!Xa[n])return n;var a=Xa[n],l;for(l in a)if(a.hasOwnProperty(l)&&l in M0)return gh[n]=a[l];return n}var _0=la("animationend"),O0=la("animationiteration"),D0=la("animationstart"),RE=la("transitionrun"),ME=la("transitionstart"),_E=la("transitioncancel"),P0=la("transitionend"),z0=new Map,yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yh.push("scrollEnd");function ur(n,a){z0.set(n,a),aa(a,[n])}var L0=new WeakMap;function Kn(n,a){if(typeof n=="object"&&n!==null){var l=L0.get(n);return l!==void 0?l:(a={value:n,source:a,stack:Qy(a)},L0.set(n,a),a)}return{value:n,source:a,stack:Qy(a)}}var Yn=[],Za=0,xh=0;function ac(){for(var n=Za,a=xh=Za=0;a<n;){var l=Yn[a];Yn[a++]=null;var d=Yn[a];Yn[a++]=null;var f=Yn[a];Yn[a++]=null;var x=Yn[a];if(Yn[a++]=null,d!==null&&f!==null){var T=d.pending;T===null?f.next=f:(f.next=T.next,T.next=f),d.pending=f}x!==0&&U0(l,f,x)}}function ic(n,a,l,d){Yn[Za++]=n,Yn[Za++]=a,Yn[Za++]=l,Yn[Za++]=d,xh|=d,n.lanes|=d,n=n.alternate,n!==null&&(n.lanes|=d)}function vh(n,a,l,d){return ic(n,a,l,d),oc(n)}function Qa(n,a){return ic(n,null,null,a),oc(n)}function U0(n,a,l){n.lanes|=l;var d=n.alternate;d!==null&&(d.lanes|=l);for(var f=!1,x=n.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(n=x.stateNode,n===null||n._visibility&1||(f=!0)),n=x,x=x.return;return n.tag===3?(x=n.stateNode,f&&a!==null&&(f=31-Tt(l),n=x.hiddenUpdates,d=n[f],d===null?n[f]=[a]:d.push(a),a.lane=l|536870912),x):null}function oc(n){if(50<$o)throw $o=0,Cf=null,Error(r(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var ei={};function OE(n,a,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(n,a,l,d){return new OE(n,a,l,d)}function bh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function qr(n,a){var l=n.alternate;return l===null?(l=Pn(n.tag,a,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=a,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,a=n.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function $0(n,a){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,a=l.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function lc(n,a,l,d,f,x){var T=0;if(d=n,typeof n=="function")bh(n)&&(T=1);else if(typeof n=="string")T=PA(n,l,ie.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=Pn(31,l,a,f),n.elementType=I,n.lanes=x,n;case A:return ca(l.children,f,x,a);case k:T=8,f|=24;break;case E:return n=Pn(12,l,a,f|2),n.elementType=E,n.lanes=x,n;case P:return n=Pn(13,l,a,f),n.elementType=P,n.lanes=x,n;case M:return n=Pn(19,l,a,f),n.elementType=M,n.lanes=x,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case N:T=10;break e;case R:T=9;break e;case D:T=11;break e;case U:T=14;break e;case _:T=16,d=null;break e}T=29,l=Error(r(130,n===null?"null":typeof n,"")),d=null}return a=Pn(T,l,a,f),a.elementType=n,a.type=d,a.lanes=x,a}function ca(n,a,l,d){return n=Pn(7,n,d,a),n.lanes=l,n}function wh(n,a,l){return n=Pn(6,n,null,a),n.lanes=l,n}function Sh(n,a,l){return a=Pn(4,n.children!==null?n.children:[],n.key,a),a.lanes=l,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var ti=[],ni=0,cc=null,uc=0,Jn=[],Xn=0,ua=null,Kr=1,Yr="";function da(n,a){ti[ni++]=uc,ti[ni++]=cc,cc=n,uc=a}function B0(n,a,l){Jn[Xn++]=Kr,Jn[Xn++]=Yr,Jn[Xn++]=ua,ua=n;var d=Kr;n=Yr;var f=32-Tt(d)-1;d&=~(1<<f),l+=1;var x=32-Tt(a)+f;if(30<x){var T=f-f%5;x=(d&(1<<T)-1).toString(32),d>>=T,f-=T,Kr=1<<32-Tt(a)+f|l<<f|d,Yr=x+n}else Kr=1<<x|l<<f|d,Yr=n}function jh(n){n.return!==null&&(da(n,1),B0(n,1,0))}function kh(n){for(;n===cc;)cc=ti[--ni],ti[ni]=null,uc=ti[--ni],ti[ni]=null;for(;n===ua;)ua=Jn[--Xn],Jn[Xn]=null,Yr=Jn[--Xn],Jn[Xn]=null,Kr=Jn[--Xn],Jn[Xn]=null}var bn=null,_t=null,Ze=!1,ha=null,wr=!1,Th=Error(r(519));function fa(n){var a=Error(r(418,""));throw yo(Kn(a,n)),Th}function I0(n){var a=n.stateNode,l=n.type,d=n.memoizedProps;switch(a[pt]=n,a[st]=d,l){case"dialog":Fe("cancel",a),Fe("close",a);break;case"iframe":case"object":case"embed":Fe("load",a);break;case"video":case"audio":for(l=0;l<Io.length;l++)Fe(Io[l],a);break;case"source":Fe("error",a);break;case"img":case"image":case"link":Fe("error",a),Fe("load",a);break;case"details":Fe("toggle",a);break;case"input":Fe("invalid",a),n0(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Jl(a);break;case"select":Fe("invalid",a);break;case"textarea":Fe("invalid",a),s0(a,d.value,d.defaultValue,d.children),Jl(a)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||d.suppressHydrationWarning===!0||sb(a.textContent,l)?(d.popover!=null&&(Fe("beforetoggle",a),Fe("toggle",a)),d.onScroll!=null&&Fe("scroll",a),d.onScrollEnd!=null&&Fe("scrollend",a),d.onClick!=null&&(a.onclick=Hc),a=!0):a=!1,a||fa(n)}function F0(n){for(bn=n.return;bn;)switch(bn.tag){case 5:case 13:wr=!1;return;case 27:case 3:wr=!0;return;default:bn=bn.return}}function po(n){if(n!==bn)return!1;if(!Ze)return F0(n),Ze=!0,!1;var a=n.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Ff(n.type,n.memoizedProps)),l=!l),l&&_t&&fa(n),F0(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(a===0){_t=hr(n.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;n=n.nextSibling}_t=null}}else a===27?(a=_t,Ls(n.type)?(n=Wf,Wf=null,_t=n):_t=a):_t=bn?hr(n.stateNode.nextSibling):null;return!0}function go(){_t=bn=null,Ze=!1}function V0(){var n=ha;return n!==null&&(Nn===null?Nn=n:Nn.push.apply(Nn,n),ha=null),n}function yo(n){ha===null?ha=[n]:ha.push(n)}var Ch=X(null),ma=null,Jr=null;function Ss(n,a,l){F(Ch,a._currentValue),a._currentValue=l}function Xr(n){n._currentValue=Ch.current,Z(Ch)}function Eh(n,a,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),n===l)break;n=n.return}}function Ah(n,a,l,d){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var x=f.dependencies;if(x!==null){var T=f.child;x=x.firstContext;e:for(;x!==null;){var O=x;x=f;for(var G=0;G<a.length;G++)if(O.context===a[G]){x.lanes|=l,O=x.alternate,O!==null&&(O.lanes|=l),Eh(x.return,l,n),d||(T=null);break e}x=O.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(r(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),Eh(T,l,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function xo(n,a,l,d){n=null;for(var f=a,x=!1;f!==null;){if(!x){if((f.flags&524288)!==0)x=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var O=f.type;Dn(f.pendingProps.value,T.value)||(n!==null?n.push(O):n=[O])}}else if(f===ye.current){if(T=f.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(qo):n=[qo])}f=f.return}n!==null&&Ah(a,n,l,d),a.flags|=262144}function dc(n){for(n=n.firstContext;n!==null;){if(!Dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function pa(n){ma=n,Jr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function mn(n){return H0(ma,n)}function hc(n,a){return ma===null&&pa(n),H0(n,a)}function H0(n,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Jr===null){if(n===null)throw Error(r(308));Jr=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Jr=Jr.next=a;return l}var DE=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(l,d){n.push(d)}};this.abort=function(){a.aborted=!0,n.forEach(function(l){return l()})}},PE=e.unstable_scheduleCallback,zE=e.unstable_NormalPriority,Yt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nh(){return{controller:new DE,data:new Map,refCount:0}}function vo(n){n.refCount--,n.refCount===0&&PE(zE,function(){n.controller.abort()})}var bo=null,Rh=0,ri=0,si=null;function LE(n,a){if(bo===null){var l=bo=[];Rh=0,ri=Of(),si={status:"pending",value:void 0,then:function(d){l.push(d)}}}return Rh++,a.then(G0,G0),a}function G0(){if(--Rh===0&&bo!==null){si!==null&&(si.status="fulfilled");var n=bo;bo=null,ri=0,si=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function UE(n,a){var l=[],d={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return n.then(function(){d.status="fulfilled",d.value=a;for(var f=0;f<l.length;f++)(0,l[f])(a)},function(f){for(d.status="rejected",d.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),d}var W0=B.S;B.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&LE(n,a),W0!==null&&W0(n,a)};var ga=X(null);function Mh(){var n=ga.current;return n!==null?n:gt.pooledCache}function fc(n,a){a===null?F(ga,ga.current):F(ga,a.pool)}function q0(){var n=Mh();return n===null?null:{parent:Yt._currentValue,pool:n}}var wo=Error(r(460)),K0=Error(r(474)),mc=Error(r(542)),_h={then:function(){}};function Y0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function pc(){}function J0(n,a,l){switch(l=n[l],l===void 0?n.push(a):l!==a&&(a.then(pc,pc),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Z0(n),n;default:if(typeof a.status=="string")a.then(pc,pc);else{if(n=gt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=a,n.status="pending",n.then(function(d){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=d}},function(d){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Z0(n),n}throw So=a,wo}}var So=null;function X0(){if(So===null)throw Error(r(459));var n=So;return So=null,n}function Z0(n){if(n===wo||n===mc)throw Error(r(483))}var js=!1;function Oh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dh(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ks(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ts(n,a,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(at&2)!==0){var f=d.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),d.pending=a,a=oc(n),U0(n,null,l),a}return ic(n,d,a,l),oc(n)}function jo(n,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Be(n,l)}}function Ph(n,a){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?f=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?f=x=a:x=x.next=a}else f=x=a;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=a:n.next=a,l.lastBaseUpdate=a}var zh=!1;function ko(){if(zh){var n=si;if(n!==null)throw n}}function To(n,a,l,d){zh=!1;var f=n.updateQueue;js=!1;var x=f.firstBaseUpdate,T=f.lastBaseUpdate,O=f.shared.pending;if(O!==null){f.shared.pending=null;var G=O,ne=G.next;G.next=null,T===null?x=ne:T.next=ne,T=G;var ce=n.alternate;ce!==null&&(ce=ce.updateQueue,O=ce.lastBaseUpdate,O!==T&&(O===null?ce.firstBaseUpdate=ne:O.next=ne,ce.lastBaseUpdate=G))}if(x!==null){var de=f.baseState;T=0,ce=ne=G=null,O=x;do{var ae=O.lane&-536870913,le=ae!==O.lane;if(le?(We&ae)===ae:(d&ae)===ae){ae!==0&&ae===ri&&(zh=!0),ce!==null&&(ce=ce.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Re=n,Ae=O;ae=a;var ut=l;switch(Ae.tag){case 1:if(Re=Ae.payload,typeof Re=="function"){de=Re.call(ut,de,ae);break e}de=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ae.payload,ae=typeof Re=="function"?Re.call(ut,de,ae):Re,ae==null)break e;de=g({},de,ae);break e;case 2:js=!0}}ae=O.callback,ae!==null&&(n.flags|=64,le&&(n.flags|=8192),le=f.callbacks,le===null?f.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ce===null?(ne=ce=le,G=de):ce=ce.next=le,T|=ae;if(O=O.next,O===null){if(O=f.shared.pending,O===null)break;le=O,O=le.next,le.next=null,f.lastBaseUpdate=le,f.shared.pending=null}}while(!0);ce===null&&(G=de),f.baseState=G,f.firstBaseUpdate=ne,f.lastBaseUpdate=ce,x===null&&(f.shared.lanes=0),Os|=T,n.lanes=T,n.memoizedState=de}}function Q0(n,a){if(typeof n!="function")throw Error(r(191,n));n.call(a)}function ex(n,a){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)Q0(l[n],a)}var ai=X(null),gc=X(0);function tx(n,a){n=ss,F(gc,n),F(ai,a),ss=n|a.baseLanes}function Lh(){F(gc,ss),F(ai,ai.current)}function Uh(){ss=gc.current,Z(ai),Z(gc)}var Cs=0,ze=null,lt=null,Bt=null,yc=!1,ii=!1,ya=!1,xc=0,Co=0,oi=null,$E=0;function zt(){throw Error(r(321))}function $h(n,a){if(a===null)return!1;for(var l=0;l<a.length&&l<n.length;l++)if(!Dn(n[l],a[l]))return!1;return!0}function Bh(n,a,l,d,f,x){return Cs=x,ze=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=n===null||n.memoizedState===null?Ux:$x,ya=!1,x=l(d,f),ya=!1,ii&&(x=rx(a,l,d,f)),nx(n),x}function nx(n){B.H=kc;var a=lt!==null&&lt.next!==null;if(Cs=0,Bt=lt=ze=null,yc=!1,Co=0,oi=null,a)throw Error(r(300));n===null||sn||(n=n.dependencies,n!==null&&dc(n)&&(sn=!0))}function rx(n,a,l,d){ze=n;var f=0;do{if(ii&&(oi=null),Co=0,ii=!1,25<=f)throw Error(r(301));if(f+=1,Bt=lt=null,n.updateQueue!=null){var x=n.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=WE,x=a(l,d)}while(ii);return x}function BE(){var n=B.H,a=n.useState()[0];return a=typeof a.then=="function"?Eo(a):a,n=n.useState()[0],(lt!==null?lt.memoizedState:null)!==n&&(ze.flags|=1024),a}function Ih(){var n=xc!==0;return xc=0,n}function Fh(n,a,l){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~l}function Vh(n){if(yc){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}yc=!1}Cs=0,Bt=lt=ze=null,ii=!1,Co=xc=0,oi=null}function En(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?ze.memoizedState=Bt=n:Bt=Bt.next=n,Bt}function It(){if(lt===null){var n=ze.alternate;n=n!==null?n.memoizedState:null}else n=lt.next;var a=Bt===null?ze.memoizedState:Bt.next;if(a!==null)Bt=a,lt=n;else{if(n===null)throw ze.alternate===null?Error(r(467)):Error(r(310));lt=n,n={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Bt===null?ze.memoizedState=Bt=n:Bt=Bt.next=n}return Bt}function Hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(n){var a=Co;return Co+=1,oi===null&&(oi=[]),n=J0(oi,n,a),a=ze,(Bt===null?a.memoizedState:Bt.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?Ux:$x),n}function vc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Eo(n);if(n.$$typeof===N)return mn(n)}throw Error(r(438,String(n)))}function Gh(n){var a=null,l=ze.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var d=ze.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Hh(),ze.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(n),d=0;d<n;d++)l[d]=W;return a.index++,l}function Zr(n,a){return typeof a=="function"?a(n):a}function bc(n){var a=It();return Wh(a,lt,n)}function Wh(n,a,l){var d=n.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var f=n.baseQueue,x=d.pending;if(x!==null){if(f!==null){var T=f.next;f.next=x.next,x.next=T}a.baseQueue=f=x,d.pending=null}if(x=n.baseState,f===null)n.memoizedState=x;else{a=f.next;var O=T=null,G=null,ne=a,ce=!1;do{var de=ne.lane&-536870913;if(de!==ne.lane?(We&de)===de:(Cs&de)===de){var ae=ne.revertLane;if(ae===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),de===ri&&(ce=!0);else if((Cs&ae)===ae){ne=ne.next,ae===ri&&(ce=!0);continue}else de={lane:0,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(O=G=de,T=x):G=G.next=de,ze.lanes|=ae,Os|=ae;de=ne.action,ya&&l(x,de),x=ne.hasEagerState?ne.eagerState:l(x,de)}else ae={lane:de,revertLane:ne.revertLane,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},G===null?(O=G=ae,T=x):G=G.next=ae,ze.lanes|=de,Os|=de;ne=ne.next}while(ne!==null&&ne!==a);if(G===null?T=x:G.next=O,!Dn(x,n.memoizedState)&&(sn=!0,ce&&(l=si,l!==null)))throw l;n.memoizedState=x,n.baseState=T,n.baseQueue=G,d.lastRenderedState=x}return f===null&&(d.lanes=0),[n.memoizedState,d.dispatch]}function qh(n){var a=It(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=l.dispatch,f=l.pending,x=a.memoizedState;if(f!==null){l.pending=null;var T=f=f.next;do x=n(x,T.action),T=T.next;while(T!==f);Dn(x,a.memoizedState)||(sn=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),l.lastRenderedState=x}return[x,d]}function sx(n,a,l){var d=ze,f=It(),x=Ze;if(x){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!Dn((lt||f).memoizedState,l);T&&(f.memoizedState=l,sn=!0),f=f.queue;var O=ox.bind(null,d,f,n);if(Ao(2048,8,O,[n]),f.getSnapshot!==a||T||Bt!==null&&Bt.memoizedState.tag&1){if(d.flags|=2048,li(9,wc(),ix.bind(null,d,f,l,a),null),gt===null)throw Error(r(349));x||(Cs&124)!==0||ax(d,a,l)}return l}function ax(n,a,l){n.flags|=16384,n={getSnapshot:a,value:l},a=ze.updateQueue,a===null?(a=Hh(),ze.updateQueue=a,a.stores=[n]):(l=a.stores,l===null?a.stores=[n]:l.push(n))}function ix(n,a,l,d){a.value=l,a.getSnapshot=d,lx(a)&&cx(n)}function ox(n,a,l){return l(function(){lx(a)&&cx(n)})}function lx(n){var a=n.getSnapshot;n=n.value;try{var l=a();return!Dn(n,l)}catch{return!0}}function cx(n){var a=Qa(n,2);a!==null&&Bn(a,n,2)}function Kh(n){var a=En();if(typeof n=="function"){var l=n;if(n=l(),ya){tn(!0);try{l()}finally{tn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:n},a}function ux(n,a,l,d){return n.baseState=l,Wh(n,lt,typeof d=="function"?d:Zr)}function IE(n,a,l,d,f){if(jc(n))throw Error(r(485));if(n=a.action,n!==null){var x={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};B.T!==null?l(!0):x.isTransition=!1,d(x),l=a.pending,l===null?(x.next=a.pending=x,dx(a,x)):(x.next=l.next,a.pending=l.next=x)}}function dx(n,a){var l=a.action,d=a.payload,f=n.state;if(a.isTransition){var x=B.T,T={};B.T=T;try{var O=l(f,d),G=B.S;G!==null&&G(T,O),hx(n,a,O)}catch(ne){Yh(n,a,ne)}finally{B.T=x}}else try{x=l(f,d),hx(n,a,x)}catch(ne){Yh(n,a,ne)}}function hx(n,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){fx(n,a,d)},function(d){return Yh(n,a,d)}):fx(n,a,l)}function fx(n,a,l){a.status="fulfilled",a.value=l,mx(a),n.state=l,a=n.pending,a!==null&&(l=a.next,l===a?n.pending=null:(l=l.next,a.next=l,dx(n,l)))}function Yh(n,a,l){var d=n.pending;if(n.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=l,mx(a),a=a.next;while(a!==d)}n.action=null}function mx(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function px(n,a){return a}function gx(n,a){if(Ze){var l=gt.formState;if(l!==null){e:{var d=ze;if(Ze){if(_t){t:{for(var f=_t,x=wr;f.nodeType!==8;){if(!x){f=null;break t}if(f=hr(f.nextSibling),f===null){f=null;break t}}x=f.data,f=x==="F!"||x==="F"?f:null}if(f){_t=hr(f.nextSibling),d=f.data==="F!";break e}}fa(d)}d=!1}d&&(a=l[0])}}return l=En(),l.memoizedState=l.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:px,lastRenderedState:a},l.queue=d,l=Px.bind(null,ze,d),d.dispatch=l,d=Kh(!1),x=ef.bind(null,ze,!1,d.queue),d=En(),f={state:a,dispatch:null,action:n,pending:null},d.queue=f,l=IE.bind(null,ze,f,x,l),f.dispatch=l,d.memoizedState=n,[a,l,!1]}function yx(n){var a=It();return xx(a,lt,n)}function xx(n,a,l){if(a=Wh(n,a,px)[0],n=bc(Zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Eo(a)}catch(T){throw T===wo?mc:T}else d=a;a=It();var f=a.queue,x=f.dispatch;return l!==a.memoizedState&&(ze.flags|=2048,li(9,wc(),FE.bind(null,f,l),null)),[d,x,n]}function FE(n,a){n.action=a}function vx(n){var a=It(),l=lt;if(l!==null)return xx(a,l,n);It(),a=a.memoizedState,l=It();var d=l.queue.dispatch;return l.memoizedState=n,[a,d,!1]}function li(n,a,l,d){return n={tag:n,create:l,deps:d,inst:a,next:null},a=ze.updateQueue,a===null&&(a=Hh(),ze.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,a.lastEffect=n),n}function wc(){return{destroy:void 0,resource:void 0}}function bx(){return It().memoizedState}function Sc(n,a,l,d){var f=En();d=d===void 0?null:d,ze.flags|=n,f.memoizedState=li(1|a,wc(),l,d)}function Ao(n,a,l,d){var f=It();d=d===void 0?null:d;var x=f.memoizedState.inst;lt!==null&&d!==null&&$h(d,lt.memoizedState.deps)?f.memoizedState=li(a,x,l,d):(ze.flags|=n,f.memoizedState=li(1|a,x,l,d))}function wx(n,a){Sc(8390656,8,n,a)}function Sx(n,a){Ao(2048,8,n,a)}function jx(n,a){return Ao(4,2,n,a)}function kx(n,a){return Ao(4,4,n,a)}function Tx(n,a){if(typeof a=="function"){n=n();var l=a(n);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Cx(n,a,l){l=l!=null?l.concat([n]):null,Ao(4,4,Tx.bind(null,a,n),l)}function Jh(){}function Ex(n,a){var l=It();a=a===void 0?null:a;var d=l.memoizedState;return a!==null&&$h(a,d[1])?d[0]:(l.memoizedState=[n,a],n)}function Ax(n,a){var l=It();a=a===void 0?null:a;var d=l.memoizedState;if(a!==null&&$h(a,d[1]))return d[0];if(d=n(),ya){tn(!0);try{n()}finally{tn(!1)}}return l.memoizedState=[d,a],d}function Xh(n,a,l){return l===void 0||(Cs&1073741824)!==0?n.memoizedState=a:(n.memoizedState=l,n=Mv(),ze.lanes|=n,Os|=n,l)}function Nx(n,a,l,d){return Dn(l,a)?l:ai.current!==null?(n=Xh(n,l,d),Dn(n,a)||(sn=!0),n):(Cs&42)===0?(sn=!0,n.memoizedState=l):(n=Mv(),ze.lanes|=n,Os|=n,a)}function Rx(n,a,l,d,f){var x=L.p;L.p=x!==0&&8>x?x:8;var T=B.T,O={};B.T=O,ef(n,!1,a,l);try{var G=f(),ne=B.S;if(ne!==null&&ne(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ce=UE(G,d);No(n,a,ce,$n(n))}else No(n,a,d,$n(n))}catch(de){No(n,a,{then:function(){},status:"rejected",reason:de},$n())}finally{L.p=x,B.T=T}}function VE(){}function Zh(n,a,l,d){if(n.tag!==5)throw Error(r(476));var f=Mx(n).queue;Rx(n,f,a,V,l===null?VE:function(){return _x(n),l(d)})}function Mx(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:V},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:l},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function _x(n){var a=Mx(n).next.queue;No(n,a,{},$n())}function Qh(){return mn(qo)}function Ox(){return It().memoizedState}function Dx(){return It().memoizedState}function HE(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var l=$n();n=ks(l);var d=Ts(a,n,l);d!==null&&(Bn(d,a,l),jo(d,a,l)),a={cache:Nh()},n.payload=a;return}a=a.return}}function GE(n,a,l){var d=$n();l={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},jc(n)?zx(a,l):(l=vh(n,a,l,d),l!==null&&(Bn(l,n,d),Lx(l,a,d)))}function Px(n,a,l){var d=$n();No(n,a,l,d)}function No(n,a,l,d){var f={lane:d,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(jc(n))zx(a,f);else{var x=n.alternate;if(n.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var T=a.lastRenderedState,O=x(T,l);if(f.hasEagerState=!0,f.eagerState=O,Dn(O,T))return ic(n,a,f,0),gt===null&&ac(),!1}catch{}finally{}if(l=vh(n,a,f,d),l!==null)return Bn(l,n,d),Lx(l,a,d),!0}return!1}function ef(n,a,l,d){if(d={lane:2,revertLane:Of(),action:d,hasEagerState:!1,eagerState:null,next:null},jc(n)){if(a)throw Error(r(479))}else a=vh(n,l,d,2),a!==null&&Bn(a,n,2)}function jc(n){var a=n.alternate;return n===ze||a!==null&&a===ze}function zx(n,a){ii=yc=!0;var l=n.pending;l===null?a.next=a:(a.next=l.next,l.next=a),n.pending=a}function Lx(n,a,l){if((l&4194048)!==0){var d=a.lanes;d&=n.pendingLanes,l|=d,a.lanes=l,Be(n,l)}}var kc={readContext:mn,use:vc,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},Ux={readContext:mn,use:vc,useCallback:function(n,a){return En().memoizedState=[n,a===void 0?null:a],n},useContext:mn,useEffect:wx,useImperativeHandle:function(n,a,l){l=l!=null?l.concat([n]):null,Sc(4194308,4,Tx.bind(null,a,n),l)},useLayoutEffect:function(n,a){return Sc(4194308,4,n,a)},useInsertionEffect:function(n,a){Sc(4,2,n,a)},useMemo:function(n,a){var l=En();a=a===void 0?null:a;var d=n();if(ya){tn(!0);try{n()}finally{tn(!1)}}return l.memoizedState=[d,a],d},useReducer:function(n,a,l){var d=En();if(l!==void 0){var f=l(a);if(ya){tn(!0);try{l(a)}finally{tn(!1)}}}else f=a;return d.memoizedState=d.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},d.queue=n,n=n.dispatch=GE.bind(null,ze,n),[d.memoizedState,n]},useRef:function(n){var a=En();return n={current:n},a.memoizedState=n},useState:function(n){n=Kh(n);var a=n.queue,l=Px.bind(null,ze,a);return a.dispatch=l,[n.memoizedState,l]},useDebugValue:Jh,useDeferredValue:function(n,a){var l=En();return Xh(l,n,a)},useTransition:function(){var n=Kh(!1);return n=Rx.bind(null,ze,n.queue,!0,!1),En().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,l){var d=ze,f=En();if(Ze){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),gt===null)throw Error(r(349));(We&124)!==0||ax(d,a,l)}f.memoizedState=l;var x={value:l,getSnapshot:a};return f.queue=x,wx(ox.bind(null,d,x,n),[n]),d.flags|=2048,li(9,wc(),ix.bind(null,d,x,l,a),null),l},useId:function(){var n=En(),a=gt.identifierPrefix;if(Ze){var l=Yr,d=Kr;l=(d&~(1<<32-Tt(d)-1)).toString(32)+l,a=""+a+"R"+l,l=xc++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=$E++,a=""+a+"r"+l.toString(32)+"";return n.memoizedState=a},useHostTransitionStatus:Qh,useFormState:gx,useActionState:gx,useOptimistic:function(n){var a=En();a.memoizedState=a.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=ef.bind(null,ze,!0,l),l.dispatch=a,[n,a]},useMemoCache:Gh,useCacheRefresh:function(){return En().memoizedState=HE.bind(null,ze)}},$x={readContext:mn,use:vc,useCallback:Ex,useContext:mn,useEffect:Sx,useImperativeHandle:Cx,useInsertionEffect:jx,useLayoutEffect:kx,useMemo:Ax,useReducer:bc,useRef:bx,useState:function(){return bc(Zr)},useDebugValue:Jh,useDeferredValue:function(n,a){var l=It();return Nx(l,lt.memoizedState,n,a)},useTransition:function(){var n=bc(Zr)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Eo(n),a]},useSyncExternalStore:sx,useId:Ox,useHostTransitionStatus:Qh,useFormState:yx,useActionState:yx,useOptimistic:function(n,a){var l=It();return ux(l,lt,n,a)},useMemoCache:Gh,useCacheRefresh:Dx},WE={readContext:mn,use:vc,useCallback:Ex,useContext:mn,useEffect:Sx,useImperativeHandle:Cx,useInsertionEffect:jx,useLayoutEffect:kx,useMemo:Ax,useReducer:qh,useRef:bx,useState:function(){return qh(Zr)},useDebugValue:Jh,useDeferredValue:function(n,a){var l=It();return lt===null?Xh(l,n,a):Nx(l,lt.memoizedState,n,a)},useTransition:function(){var n=qh(Zr)[0],a=It().memoizedState;return[typeof n=="boolean"?n:Eo(n),a]},useSyncExternalStore:sx,useId:Ox,useHostTransitionStatus:Qh,useFormState:vx,useActionState:vx,useOptimistic:function(n,a){var l=It();return lt!==null?ux(l,lt,n,a):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Gh,useCacheRefresh:Dx},ci=null,Ro=0;function Tc(n){var a=Ro;return Ro+=1,ci===null&&(ci=[]),J0(ci,n,a)}function Mo(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function Cc(n,a){throw a.$$typeof===y?Error(r(525)):(n=Object.prototype.toString.call(a),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function Bx(n){var a=n._init;return a(n._payload)}function Ix(n){function a(J,q){if(n){var te=J.deletions;te===null?(J.deletions=[q],J.flags|=16):te.push(q)}}function l(J,q){if(!n)return null;for(;q!==null;)a(J,q),q=q.sibling;return null}function d(J){for(var q=new Map;J!==null;)J.key!==null?q.set(J.key,J):q.set(J.index,J),J=J.sibling;return q}function f(J,q){return J=qr(J,q),J.index=0,J.sibling=null,J}function x(J,q,te){return J.index=te,n?(te=J.alternate,te!==null?(te=te.index,te<q?(J.flags|=67108866,q):te):(J.flags|=67108866,q)):(J.flags|=1048576,q)}function T(J){return n&&J.alternate===null&&(J.flags|=67108866),J}function O(J,q,te,ue){return q===null||q.tag!==6?(q=wh(te,J.mode,ue),q.return=J,q):(q=f(q,te),q.return=J,q)}function G(J,q,te,ue){var ve=te.type;return ve===A?ce(J,q,te.props.children,ue,te.key):q!==null&&(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&Bx(ve)===q.type)?(q=f(q,te.props),Mo(q,te),q.return=J,q):(q=lc(te.type,te.key,te.props,null,J.mode,ue),Mo(q,te),q.return=J,q)}function ne(J,q,te,ue){return q===null||q.tag!==4||q.stateNode.containerInfo!==te.containerInfo||q.stateNode.implementation!==te.implementation?(q=Sh(te,J.mode,ue),q.return=J,q):(q=f(q,te.children||[]),q.return=J,q)}function ce(J,q,te,ue,ve){return q===null||q.tag!==7?(q=ca(te,J.mode,ue,ve),q.return=J,q):(q=f(q,te),q.return=J,q)}function de(J,q,te){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=wh(""+q,J.mode,te),q.return=J,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return te=lc(q.type,q.key,q.props,null,J.mode,te),Mo(te,q),te.return=J,te;case j:return q=Sh(q,J.mode,te),q.return=J,q;case _:var ue=q._init;return q=ue(q._payload),de(J,q,te)}if(Q(q)||se(q))return q=ca(q,J.mode,te,null),q.return=J,q;if(typeof q.then=="function")return de(J,Tc(q),te);if(q.$$typeof===N)return de(J,hc(J,q),te);Cc(J,q)}return null}function ae(J,q,te,ue){var ve=q!==null?q.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return ve!==null?null:O(J,q,""+te,ue);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case v:return te.key===ve?G(J,q,te,ue):null;case j:return te.key===ve?ne(J,q,te,ue):null;case _:return ve=te._init,te=ve(te._payload),ae(J,q,te,ue)}if(Q(te)||se(te))return ve!==null?null:ce(J,q,te,ue,null);if(typeof te.then=="function")return ae(J,q,Tc(te),ue);if(te.$$typeof===N)return ae(J,q,hc(J,te),ue);Cc(J,te)}return null}function le(J,q,te,ue,ve){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return J=J.get(te)||null,O(q,J,""+ue,ve);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return J=J.get(ue.key===null?te:ue.key)||null,G(q,J,ue,ve);case j:return J=J.get(ue.key===null?te:ue.key)||null,ne(q,J,ue,ve);case _:var Ue=ue._init;return ue=Ue(ue._payload),le(J,q,te,ue,ve)}if(Q(ue)||se(ue))return J=J.get(te)||null,ce(q,J,ue,ve,null);if(typeof ue.then=="function")return le(J,q,te,Tc(ue),ve);if(ue.$$typeof===N)return le(J,q,te,hc(q,ue),ve);Cc(q,ue)}return null}function Re(J,q,te,ue){for(var ve=null,Ue=null,Ce=q,Ne=q=0,on=null;Ce!==null&&Ne<te.length;Ne++){Ce.index>Ne?(on=Ce,Ce=null):on=Ce.sibling;var Xe=ae(J,Ce,te[Ne],ue);if(Xe===null){Ce===null&&(Ce=on);break}n&&Ce&&Xe.alternate===null&&a(J,Ce),q=x(Xe,q,Ne),Ue===null?ve=Xe:Ue.sibling=Xe,Ue=Xe,Ce=on}if(Ne===te.length)return l(J,Ce),Ze&&da(J,Ne),ve;if(Ce===null){for(;Ne<te.length;Ne++)Ce=de(J,te[Ne],ue),Ce!==null&&(q=x(Ce,q,Ne),Ue===null?ve=Ce:Ue.sibling=Ce,Ue=Ce);return Ze&&da(J,Ne),ve}for(Ce=d(Ce);Ne<te.length;Ne++)on=le(Ce,J,Ne,te[Ne],ue),on!==null&&(n&&on.alternate!==null&&Ce.delete(on.key===null?Ne:on.key),q=x(on,q,Ne),Ue===null?ve=on:Ue.sibling=on,Ue=on);return n&&Ce.forEach(function(Fs){return a(J,Fs)}),Ze&&da(J,Ne),ve}function Ae(J,q,te,ue){if(te==null)throw Error(r(151));for(var ve=null,Ue=null,Ce=q,Ne=q=0,on=null,Xe=te.next();Ce!==null&&!Xe.done;Ne++,Xe=te.next()){Ce.index>Ne?(on=Ce,Ce=null):on=Ce.sibling;var Fs=ae(J,Ce,Xe.value,ue);if(Fs===null){Ce===null&&(Ce=on);break}n&&Ce&&Fs.alternate===null&&a(J,Ce),q=x(Fs,q,Ne),Ue===null?ve=Fs:Ue.sibling=Fs,Ue=Fs,Ce=on}if(Xe.done)return l(J,Ce),Ze&&da(J,Ne),ve;if(Ce===null){for(;!Xe.done;Ne++,Xe=te.next())Xe=de(J,Xe.value,ue),Xe!==null&&(q=x(Xe,q,Ne),Ue===null?ve=Xe:Ue.sibling=Xe,Ue=Xe);return Ze&&da(J,Ne),ve}for(Ce=d(Ce);!Xe.done;Ne++,Xe=te.next())Xe=le(Ce,J,Ne,Xe.value,ue),Xe!==null&&(n&&Xe.alternate!==null&&Ce.delete(Xe.key===null?Ne:Xe.key),q=x(Xe,q,Ne),Ue===null?ve=Xe:Ue.sibling=Xe,Ue=Xe);return n&&Ce.forEach(function(qA){return a(J,qA)}),Ze&&da(J,Ne),ve}function ut(J,q,te,ue){if(typeof te=="object"&&te!==null&&te.type===A&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case v:e:{for(var ve=te.key;q!==null;){if(q.key===ve){if(ve=te.type,ve===A){if(q.tag===7){l(J,q.sibling),ue=f(q,te.props.children),ue.return=J,J=ue;break e}}else if(q.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===_&&Bx(ve)===q.type){l(J,q.sibling),ue=f(q,te.props),Mo(ue,te),ue.return=J,J=ue;break e}l(J,q);break}else a(J,q);q=q.sibling}te.type===A?(ue=ca(te.props.children,J.mode,ue,te.key),ue.return=J,J=ue):(ue=lc(te.type,te.key,te.props,null,J.mode,ue),Mo(ue,te),ue.return=J,J=ue)}return T(J);case j:e:{for(ve=te.key;q!==null;){if(q.key===ve)if(q.tag===4&&q.stateNode.containerInfo===te.containerInfo&&q.stateNode.implementation===te.implementation){l(J,q.sibling),ue=f(q,te.children||[]),ue.return=J,J=ue;break e}else{l(J,q);break}else a(J,q);q=q.sibling}ue=Sh(te,J.mode,ue),ue.return=J,J=ue}return T(J);case _:return ve=te._init,te=ve(te._payload),ut(J,q,te,ue)}if(Q(te))return Re(J,q,te,ue);if(se(te)){if(ve=se(te),typeof ve!="function")throw Error(r(150));return te=ve.call(te),Ae(J,q,te,ue)}if(typeof te.then=="function")return ut(J,q,Tc(te),ue);if(te.$$typeof===N)return ut(J,q,hc(J,te),ue);Cc(J,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,q!==null&&q.tag===6?(l(J,q.sibling),ue=f(q,te),ue.return=J,J=ue):(l(J,q),ue=wh(te,J.mode,ue),ue.return=J,J=ue),T(J)):l(J,q)}return function(J,q,te,ue){try{Ro=0;var ve=ut(J,q,te,ue);return ci=null,ve}catch(Ce){if(Ce===wo||Ce===mc)throw Ce;var Ue=Pn(29,Ce,null,J.mode);return Ue.lanes=ue,Ue.return=J,Ue}finally{}}}var ui=Ix(!0),Fx=Ix(!1),Zn=X(null),Sr=null;function Es(n){var a=n.alternate;F(Jt,Jt.current&1),F(Zn,n),Sr===null&&(a===null||ai.current!==null||a.memoizedState!==null)&&(Sr=n)}function Vx(n){if(n.tag===22){if(F(Jt,Jt.current),F(Zn,n),Sr===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(Sr=n)}}else As()}function As(){F(Jt,Jt.current),F(Zn,Zn.current)}function Qr(n){Z(Zn),Sr===n&&(Sr=null),Z(Jt)}var Jt=X(0);function Ec(n){for(var a=n;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Gf(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function tf(n,a,l,d){a=n.memoizedState,l=l(d,a),l=l==null?a:g({},a,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var nf={enqueueSetState:function(n,a,l){n=n._reactInternals;var d=$n(),f=ks(d);f.payload=a,l!=null&&(f.callback=l),a=Ts(n,f,d),a!==null&&(Bn(a,n,d),jo(a,n,d))},enqueueReplaceState:function(n,a,l){n=n._reactInternals;var d=$n(),f=ks(d);f.tag=1,f.payload=a,l!=null&&(f.callback=l),a=Ts(n,f,d),a!==null&&(Bn(a,n,d),jo(a,n,d))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var l=$n(),d=ks(l);d.tag=2,a!=null&&(d.callback=a),a=Ts(n,d,l),a!==null&&(Bn(a,n,l),jo(a,n,l))}};function Hx(n,a,l,d,f,x,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,x,T):a.prototype&&a.prototype.isPureReactComponent?!fo(l,d)||!fo(f,x):!0}function Gx(n,a,l,d){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,d),a.state!==n&&nf.enqueueReplaceState(a,a.state,null)}function xa(n,a){var l=a;if("ref"in a){l={};for(var d in a)d!=="ref"&&(l[d]=a[d])}if(n=n.defaultProps){l===a&&(l=g({},l));for(var f in n)l[f]===void 0&&(l[f]=n[f])}return l}var Ac=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Wx(n){Ac(n)}function qx(n){console.error(n)}function Kx(n){Ac(n)}function Nc(n,a){try{var l=n.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function Yx(n,a,l){try{var d=n.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rf(n,a,l){return l=ks(l),l.tag=3,l.payload={element:null},l.callback=function(){Nc(n,a)},l}function Jx(n){return n=ks(n),n.tag=3,n}function Xx(n,a,l,d){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var x=d.value;n.payload=function(){return f(x)},n.callback=function(){Yx(a,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Yx(a,l,d),typeof f!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var O=d.stack;this.componentDidCatch(d.value,{componentStack:O!==null?O:""})})}function qE(n,a,l,d,f){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=l.alternate,a!==null&&xo(a,l,f,!0),l=Zn.current,l!==null){switch(l.tag){case 13:return Sr===null?Af():l.alternate===null&&Ot===0&&(Ot=3),l.flags&=-257,l.flags|=65536,l.lanes=f,d===_h?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([d]):a.add(d),Rf(n,d,f)),!1;case 22:return l.flags|=65536,d===_h?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([d]):l.add(d)),Rf(n,d,f)),!1}throw Error(r(435,l.tag))}return Rf(n,d,f),Af(),!1}if(Ze)return a=Zn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,d!==Th&&(n=Error(r(422),{cause:d}),yo(Kn(n,l)))):(d!==Th&&(a=Error(r(423),{cause:d}),yo(Kn(a,l))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,d=Kn(d,l),f=rf(n.stateNode,d,f),Ph(n,f),Ot!==4&&(Ot=2)),!1;var x=Error(r(520),{cause:d});if(x=Kn(x,l),Uo===null?Uo=[x]:Uo.push(x),Ot!==4&&(Ot=2),a===null)return!0;d=Kn(d,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,n=f&-f,l.lanes|=n,n=rf(l.stateNode,d,n),Ph(l,n),!1;case 1:if(a=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ds===null||!Ds.has(x))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Jx(f),Xx(f,n,l,d),Ph(l,f),!1}l=l.return}while(l!==null);return!1}var Zx=Error(r(461)),sn=!1;function un(n,a,l,d){a.child=n===null?Fx(a,null,l,d):ui(a,n.child,l,d)}function Qx(n,a,l,d,f){l=l.render;var x=a.ref;if("ref"in d){var T={};for(var O in d)O!=="ref"&&(T[O]=d[O])}else T=d;return pa(a),d=Bh(n,a,l,T,x,f),O=Ih(),n!==null&&!sn?(Fh(n,a,f),es(n,a,f)):(Ze&&O&&jh(a),a.flags|=1,un(n,a,d,f),a.child)}function ev(n,a,l,d,f){if(n===null){var x=l.type;return typeof x=="function"&&!bh(x)&&x.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=x,tv(n,a,x,d,f)):(n=lc(l.type,null,d,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(x=n.child,!hf(n,f)){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:fo,l(T,d)&&n.ref===a.ref)return es(n,a,f)}return a.flags|=1,n=qr(x,d),n.ref=a.ref,n.return=a,a.child=n}function tv(n,a,l,d,f){if(n!==null){var x=n.memoizedProps;if(fo(x,d)&&n.ref===a.ref)if(sn=!1,a.pendingProps=d=x,hf(n,f))(n.flags&131072)!==0&&(sn=!0);else return a.lanes=n.lanes,es(n,a,f)}return sf(n,a,l,d,f)}function nv(n,a,l){var d=a.pendingProps,f=d.children,x=n!==null?n.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=x!==null?x.baseLanes|l:l,n!==null){for(f=a.child=n.child,x=0;f!==null;)x=x|f.lanes|f.childLanes,f=f.sibling;a.childLanes=x&~d}else a.childLanes=0,a.child=null;return rv(n,a,d,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&fc(a,x!==null?x.cachePool:null),x!==null?tx(a,x):Lh(),Vx(a);else return a.lanes=a.childLanes=536870912,rv(n,a,x!==null?x.baseLanes|l:l,l)}else x!==null?(fc(a,x.cachePool),tx(a,x),As(),a.memoizedState=null):(n!==null&&fc(a,null),Lh(),As());return un(n,a,f,l),a.child}function rv(n,a,l,d){var f=Mh();return f=f===null?null:{parent:Yt._currentValue,pool:f},a.memoizedState={baseLanes:l,cachePool:f},n!==null&&fc(a,null),Lh(),Vx(a),n!==null&&xo(n,a,d,!0),null}function Rc(n,a){var l=a.ref;if(l===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(n===null||n.ref!==l)&&(a.flags|=4194816)}}function sf(n,a,l,d,f){return pa(a),l=Bh(n,a,l,d,void 0,f),d=Ih(),n!==null&&!sn?(Fh(n,a,f),es(n,a,f)):(Ze&&d&&jh(a),a.flags|=1,un(n,a,l,f),a.child)}function sv(n,a,l,d,f,x){return pa(a),a.updateQueue=null,l=rx(a,d,l,f),nx(n),d=Ih(),n!==null&&!sn?(Fh(n,a,x),es(n,a,x)):(Ze&&d&&jh(a),a.flags|=1,un(n,a,l,x),a.child)}function av(n,a,l,d,f){if(pa(a),a.stateNode===null){var x=ei,T=l.contextType;typeof T=="object"&&T!==null&&(x=mn(T)),x=new l(d,x),a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=nf,a.stateNode=x,x._reactInternals=a,x=a.stateNode,x.props=d,x.state=a.memoizedState,x.refs={},Oh(a),T=l.contextType,x.context=typeof T=="object"&&T!==null?mn(T):ei,x.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(tf(a,l,T,d),x.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&nf.enqueueReplaceState(x,x.state,null),To(a,d,x,f),ko(),x.state=a.memoizedState),typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(n===null){x=a.stateNode;var O=a.memoizedProps,G=xa(l,O);x.props=G;var ne=x.context,ce=l.contextType;T=ei,typeof ce=="object"&&ce!==null&&(T=mn(ce));var de=l.getDerivedStateFromProps;ce=typeof de=="function"||typeof x.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ce||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O||ne!==T)&&Gx(a,x,d,T),js=!1;var ae=a.memoizedState;x.state=ae,To(a,d,x,f),ko(),ne=a.memoizedState,O||ae!==ne||js?(typeof de=="function"&&(tf(a,l,de,d),ne=a.memoizedState),(G=js||Hx(a,l,G,d,ae,ne,T))?(ce||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(a.flags|=4194308)):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=ne),x.props=d,x.state=ne,x.context=T,d=G):(typeof x.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{x=a.stateNode,Dh(n,a),T=a.memoizedProps,ce=xa(l,T),x.props=ce,de=a.pendingProps,ae=x.context,ne=l.contextType,G=ei,typeof ne=="object"&&ne!==null&&(G=mn(ne)),O=l.getDerivedStateFromProps,(ne=typeof O=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==de||ae!==G)&&Gx(a,x,d,G),js=!1,ae=a.memoizedState,x.state=ae,To(a,d,x,f),ko();var le=a.memoizedState;T!==de||ae!==le||js||n!==null&&n.dependencies!==null&&dc(n.dependencies)?(typeof O=="function"&&(tf(a,l,O,d),le=a.memoizedState),(ce=js||Hx(a,l,ce,d,ae,le,G)||n!==null&&n.dependencies!==null&&dc(n.dependencies))?(ne||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,le,G),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,le,G)),typeof x.componentDidUpdate=="function"&&(a.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=le),x.props=d,x.state=le,x.context=G,d=ce):(typeof x.componentDidUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(a.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&ae===n.memoizedState||(a.flags|=1024),d=!1)}return x=d,Rc(n,a),d=(a.flags&128)!==0,x||d?(x=a.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),a.flags|=1,n!==null&&d?(a.child=ui(a,n.child,null,f),a.child=ui(a,null,l,f)):un(n,a,l,f),a.memoizedState=x.state,n=a.child):n=es(n,a,f),n}function iv(n,a,l,d){return go(),a.flags|=256,un(n,a,l,d),a.child}var af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(n){return{baseLanes:n,cachePool:q0()}}function lf(n,a,l){return n=n!==null?n.childLanes&~l:0,a&&(n|=Qn),n}function ov(n,a,l){var d=a.pendingProps,f=!1,x=(a.flags&128)!==0,T;if((T=x)||(T=n!==null&&n.memoizedState===null?!1:(Jt.current&2)!==0),T&&(f=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,n===null){if(Ze){if(f?Es(a):As(),Ze){var O=_t,G;if(G=O){e:{for(G=O,O=wr;G.nodeType!==8;){if(!O){O=null;break e}if(G=hr(G.nextSibling),G===null){O=null;break e}}O=G}O!==null?(a.memoizedState={dehydrated:O,treeContext:ua!==null?{id:Kr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},G=Pn(18,null,null,0),G.stateNode=O,G.return=a,a.child=G,bn=a,_t=null,G=!0):G=!1}G||fa(a)}if(O=a.memoizedState,O!==null&&(O=O.dehydrated,O!==null))return Gf(O)?a.lanes=32:a.lanes=536870912,null;Qr(a)}return O=d.children,d=d.fallback,f?(As(),f=a.mode,O=Mc({mode:"hidden",children:O},f),d=ca(d,f,l,null),O.return=a,d.return=a,O.sibling=d,a.child=O,f=a.child,f.memoizedState=of(l),f.childLanes=lf(n,T,l),a.memoizedState=af,d):(Es(a),cf(a,O))}if(G=n.memoizedState,G!==null&&(O=G.dehydrated,O!==null)){if(x)a.flags&256?(Es(a),a.flags&=-257,a=uf(n,a,l)):a.memoizedState!==null?(As(),a.child=n.child,a.flags|=128,a=null):(As(),f=d.fallback,O=a.mode,d=Mc({mode:"visible",children:d.children},O),f=ca(f,O,l,null),f.flags|=2,d.return=a,f.return=a,d.sibling=f,a.child=d,ui(a,n.child,null,l),d=a.child,d.memoizedState=of(l),d.childLanes=lf(n,T,l),a.memoizedState=af,a=f);else if(Es(a),Gf(O)){if(T=O.nextSibling&&O.nextSibling.dataset,T)var ne=T.dgst;T=ne,d=Error(r(419)),d.stack="",d.digest=T,yo({value:d,source:null,stack:null}),a=uf(n,a,l)}else if(sn||xo(n,a,l,!1),T=(l&n.childLanes)!==0,sn||T){if(T=gt,T!==null&&(d=l&-l,d=(d&42)!==0?1:nt(d),d=(d&(T.suspendedLanes|l))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,Qa(n,d),Bn(T,n,d),Zx;O.data==="$?"||Af(),a=uf(n,a,l)}else O.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=G.treeContext,_t=hr(O.nextSibling),bn=a,Ze=!0,ha=null,wr=!1,n!==null&&(Jn[Xn++]=Kr,Jn[Xn++]=Yr,Jn[Xn++]=ua,Kr=n.id,Yr=n.overflow,ua=a),a=cf(a,d.children),a.flags|=4096);return a}return f?(As(),f=d.fallback,O=a.mode,G=n.child,ne=G.sibling,d=qr(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,ne!==null?f=qr(ne,f):(f=ca(f,O,l,null),f.flags|=2),f.return=a,d.return=a,d.sibling=f,a.child=d,d=f,f=a.child,O=n.child.memoizedState,O===null?O=of(l):(G=O.cachePool,G!==null?(ne=Yt._currentValue,G=G.parent!==ne?{parent:ne,pool:ne}:G):G=q0(),O={baseLanes:O.baseLanes|l,cachePool:G}),f.memoizedState=O,f.childLanes=lf(n,T,l),a.memoizedState=af,d):(Es(a),l=n.child,n=l.sibling,l=qr(l,{mode:"visible",children:d.children}),l.return=a,l.sibling=null,n!==null&&(T=a.deletions,T===null?(a.deletions=[n],a.flags|=16):T.push(n)),a.child=l,a.memoizedState=null,l)}function cf(n,a){return a=Mc({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function Mc(n,a){return n=Pn(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function uf(n,a,l){return ui(a,n.child,null,l),n=cf(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function lv(n,a,l){n.lanes|=a;var d=n.alternate;d!==null&&(d.lanes|=a),Eh(n.return,a,l)}function df(n,a,l,d,f){var x=n.memoizedState;x===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=f)}function cv(n,a,l){var d=a.pendingProps,f=d.revealOrder,x=d.tail;if(un(n,a,d.children,l),d=Jt.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&lv(n,l,a);else if(n.tag===19)lv(n,l,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break e;for(;n.sibling===null;){if(n.return===null||n.return===a)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}switch(F(Jt,d),f){case"forwards":for(l=a.child,f=null;l!==null;)n=l.alternate,n!==null&&Ec(n)===null&&(f=l),l=l.sibling;l=f,l===null?(f=a.child,a.child=null):(f=l.sibling,l.sibling=null),df(a,!1,f,l,x);break;case"backwards":for(l=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){a.child=f;break}n=f.sibling,f.sibling=l,l=f,f=n}df(a,!0,l,null,x);break;case"together":df(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function es(n,a,l){if(n!==null&&(a.dependencies=n.dependencies),Os|=a.lanes,(l&a.childLanes)===0)if(n!==null){if(xo(n,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(r(153));if(a.child!==null){for(n=a.child,l=qr(n,n.pendingProps),a.child=l,l.return=a;n.sibling!==null;)n=n.sibling,l=l.sibling=qr(n,n.pendingProps),l.return=a;l.sibling=null}return a.child}function hf(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&dc(n)))}function KE(n,a,l){switch(a.tag){case 3:pe(a,a.stateNode.containerInfo),Ss(a,Yt,n.memoizedState.cache),go();break;case 27:case 5:xt(a);break;case 4:pe(a,a.stateNode.containerInfo);break;case 10:Ss(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Es(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ov(n,a,l):(Es(a),n=es(n,a,l),n!==null?n.sibling:null);Es(a);break;case 19:var f=(n.flags&128)!==0;if(d=(l&a.childLanes)!==0,d||(xo(n,a,l,!1),d=(l&a.childLanes)!==0),f){if(d)return cv(n,a,l);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(Jt,Jt.current),d)break;return null;case 22:case 23:return a.lanes=0,nv(n,a,l);case 24:Ss(a,Yt,n.memoizedState.cache)}return es(n,a,l)}function uv(n,a,l){if(n!==null)if(n.memoizedProps!==a.pendingProps)sn=!0;else{if(!hf(n,l)&&(a.flags&128)===0)return sn=!1,KE(n,a,l);sn=(n.flags&131072)!==0}else sn=!1,Ze&&(a.flags&1048576)!==0&&B0(a,uc,a.index);switch(a.lanes=0,a.tag){case 16:e:{n=a.pendingProps;var d=a.elementType,f=d._init;if(d=f(d._payload),a.type=d,typeof d=="function")bh(d)?(n=xa(d,n),a.tag=1,a=av(null,a,d,n,l)):(a.tag=0,a=sf(null,a,d,n,l));else{if(d!=null){if(f=d.$$typeof,f===D){a.tag=11,a=Qx(null,a,d,n,l);break e}else if(f===U){a.tag=14,a=ev(null,a,d,n,l);break e}}throw a=re(d)||d,Error(r(306,a,""))}}return a;case 0:return sf(n,a,a.type,a.pendingProps,l);case 1:return d=a.type,f=xa(d,a.pendingProps),av(n,a,d,f,l);case 3:e:{if(pe(a,a.stateNode.containerInfo),n===null)throw Error(r(387));d=a.pendingProps;var x=a.memoizedState;f=x.element,Dh(n,a),To(a,d,null,l);var T=a.memoizedState;if(d=T.cache,Ss(a,Yt,d),d!==x.cache&&Ah(a,[Yt],l,!0),ko(),d=T.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){a=iv(n,a,d,l);break e}else if(d!==f){f=Kn(Error(r(424)),a),yo(f),a=iv(n,a,d,l);break e}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(_t=hr(n.firstChild),bn=a,Ze=!0,ha=null,wr=!0,l=Fx(a,null,d,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(go(),d===f){a=es(n,a,l);break e}un(n,a,d,l)}a=a.child}return a;case 26:return Rc(n,a),n===null?(l=mb(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ze||(l=a.type,n=a.pendingProps,d=Gc(he.current).createElement(l),d[pt]=a,d[st]=n,hn(d,l,n),rn(d),a.stateNode=d):a.memoizedState=mb(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return xt(a),n===null&&Ze&&(d=a.stateNode=db(a.type,a.pendingProps,he.current),bn=a,wr=!0,f=_t,Ls(a.type)?(Wf=f,_t=hr(d.firstChild)):_t=f),un(n,a,a.pendingProps.children,l),Rc(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Ze&&((f=d=_t)&&(d=SA(d,a.type,a.pendingProps,wr),d!==null?(a.stateNode=d,bn=a,_t=hr(d.firstChild),wr=!1,f=!0):f=!1),f||fa(a)),xt(a),f=a.type,x=a.pendingProps,T=n!==null?n.memoizedProps:null,d=x.children,Ff(f,x)?d=null:T!==null&&Ff(f,T)&&(a.flags|=32),a.memoizedState!==null&&(f=Bh(n,a,BE,null,null,l),qo._currentValue=f),Rc(n,a),un(n,a,d,l),a.child;case 6:return n===null&&Ze&&((n=l=_t)&&(l=jA(l,a.pendingProps,wr),l!==null?(a.stateNode=l,bn=a,_t=null,n=!0):n=!1),n||fa(a)),null;case 13:return ov(n,a,l);case 4:return pe(a,a.stateNode.containerInfo),d=a.pendingProps,n===null?a.child=ui(a,null,d,l):un(n,a,d,l),a.child;case 11:return Qx(n,a,a.type,a.pendingProps,l);case 7:return un(n,a,a.pendingProps,l),a.child;case 8:return un(n,a,a.pendingProps.children,l),a.child;case 12:return un(n,a,a.pendingProps.children,l),a.child;case 10:return d=a.pendingProps,Ss(a,a.type,d.value),un(n,a,d.children,l),a.child;case 9:return f=a.type._context,d=a.pendingProps.children,pa(a),f=mn(f),d=d(f),a.flags|=1,un(n,a,d,l),a.child;case 14:return ev(n,a,a.type,a.pendingProps,l);case 15:return tv(n,a,a.type,a.pendingProps,l);case 19:return cv(n,a,l);case 31:return d=a.pendingProps,l=a.mode,d={mode:d.mode,children:d.children},n===null?(l=Mc(d,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=qr(n.child,d),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return nv(n,a,l);case 24:return pa(a),d=mn(Yt),n===null?(f=Mh(),f===null&&(f=gt,x=Nh(),f.pooledCache=x,x.refCount++,x!==null&&(f.pooledCacheLanes|=l),f=x),a.memoizedState={parent:d,cache:f},Oh(a),Ss(a,Yt,f)):((n.lanes&l)!==0&&(Dh(n,a),To(a,null,null,l),ko()),f=n.memoizedState,x=a.memoizedState,f.parent!==d?(f={parent:d,cache:d},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Ss(a,Yt,d)):(d=x.cache,Ss(a,Yt,d),d!==f.cache&&Ah(a,[Yt],l,!0))),un(n,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ts(n){n.flags|=4}function dv(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!vb(a)){if(a=Zn.current,a!==null&&((We&4194048)===We?Sr!==null:(We&62914560)!==We&&(We&536870912)===0||a!==Sr))throw So=_h,K0;n.flags|=8192}}function _c(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?Ge():536870912,n.lanes|=a,mi|=a)}function _o(n,a){if(!Ze)switch(n.tailMode){case"hidden":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Ct(n){var a=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(a)for(var f=n.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&65011712,d|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=d,n.childLanes=l,a}function YE(n,a,l){var d=a.pendingProps;switch(kh(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(a),null;case 1:return Ct(a),null;case 3:return l=a.stateNode,d=null,n!==null&&(d=n.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Xr(Yt),Qe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(po(a)?ts(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,V0())),Ct(a),null;case 26:return l=a.memoizedState,n===null?(ts(a),l!==null?(Ct(a),dv(a,l)):(Ct(a),a.flags&=-16777217)):l?l!==n.memoizedState?(ts(a),Ct(a),dv(a,l)):(Ct(a),a.flags&=-16777217):(n.memoizedProps!==d&&ts(a),Ct(a),a.flags&=-16777217),null;case 27:jt(a),l=he.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==d&&ts(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}n=ie.current,po(a)?I0(a):(n=db(f,d,l),a.stateNode=n,ts(a))}return Ct(a),null;case 5:if(jt(a),l=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==d&&ts(a);else{if(!d){if(a.stateNode===null)throw Error(r(166));return Ct(a),null}if(n=ie.current,po(a))I0(a);else{switch(f=Gc(he.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof d.is=="string"?f.createElement("select",{is:d.is}):f.createElement("select"),d.multiple?n.multiple=!0:d.size&&(n.size=d.size);break;default:n=typeof d.is=="string"?f.createElement(l,{is:d.is}):f.createElement(l)}}n[pt]=a,n[st]=d;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;e:switch(hn(n,l,d),l){case"button":case"input":case"select":case"textarea":n=!!d.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ts(a)}}return Ct(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==d&&ts(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(r(166));if(n=he.current,po(a)){if(n=a.stateNode,l=a.memoizedProps,d=null,f=bn,f!==null)switch(f.tag){case 27:case 5:d=f.memoizedProps}n[pt]=a,n=!!(n.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||sb(n.nodeValue,l)),n||fa(a)}else n=Gc(n).createTextNode(d),n[pt]=a,a.stateNode=n}return Ct(a),null;case 13:if(d=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=po(a),d!==null&&d.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[pt]=a}else go(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ct(a),f=!1}else f=V0(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Qr(a),a):(Qr(a),null)}if(Qr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=d!==null,n=n!==null&&n.memoizedState!==null,l){d=a.child,f=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(f=d.alternate.memoizedState.cachePool.pool);var x=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==f&&(d.flags|=2048)}return l!==n&&l&&(a.child.flags|=8192),_c(a,a.updateQueue),Ct(a),null;case 4:return Qe(),n===null&&Lf(a.stateNode.containerInfo),Ct(a),null;case 10:return Xr(a.type),Ct(a),null;case 19:if(Z(Jt),f=a.memoizedState,f===null)return Ct(a),null;if(d=(a.flags&128)!==0,x=f.rendering,x===null)if(d)_o(f,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(x=Ec(n),x!==null){for(a.flags|=128,_o(f,!1),n=x.updateQueue,a.updateQueue=n,_c(a,n),a.subtreeFlags=0,n=l,l=a.child;l!==null;)$0(l,n),l=l.sibling;return F(Jt,Jt.current&1|2),a.child}n=n.sibling}f.tail!==null&&qe()>Pc&&(a.flags|=128,d=!0,_o(f,!1),a.lanes=4194304)}else{if(!d)if(n=Ec(x),n!==null){if(a.flags|=128,d=!0,n=n.updateQueue,a.updateQueue=n,_c(a,n),_o(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!Ze)return Ct(a),null}else 2*qe()-f.renderingStartTime>Pc&&l!==536870912&&(a.flags|=128,d=!0,_o(f,!1),a.lanes=4194304);f.isBackwards?(x.sibling=a.child,a.child=x):(n=f.last,n!==null?n.sibling=x:a.child=x,f.last=x)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=qe(),a.sibling=null,n=Jt.current,F(Jt,d?n&1|2:n&1),a):(Ct(a),null);case 22:case 23:return Qr(a),Uh(),d=a.memoizedState!==null,n!==null?n.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(l&536870912)!==0&&(a.flags&128)===0&&(Ct(a),a.subtreeFlags&6&&(a.flags|=8192)):Ct(a),l=a.updateQueue,l!==null&&_c(a,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==l&&(a.flags|=2048),n!==null&&Z(ga),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Xr(Yt),Ct(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function JE(n,a){switch(kh(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Xr(Yt),Qe(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return jt(a),null;case 13:if(Qr(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(r(340));go()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return Z(Jt),null;case 4:return Qe(),null;case 10:return Xr(a.type),null;case 22:case 23:return Qr(a),Uh(),n!==null&&Z(ga),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Xr(Yt),null;case 25:return null;default:return null}}function hv(n,a){switch(kh(a),a.tag){case 3:Xr(Yt),Qe();break;case 26:case 27:case 5:jt(a);break;case 4:Qe();break;case 13:Qr(a);break;case 19:Z(Jt);break;case 10:Xr(a.type);break;case 22:case 23:Qr(a),Uh(),n!==null&&Z(ga);break;case 24:Xr(Yt)}}function Oo(n,a){try{var l=a.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){d=void 0;var x=l.create,T=l.inst;d=x(),T.destroy=d}l=l.next}while(l!==f)}}catch(O){ht(a,a.return,O)}}function Ns(n,a,l){try{var d=a.updateQueue,f=d!==null?d.lastEffect:null;if(f!==null){var x=f.next;d=x;do{if((d.tag&n)===n){var T=d.inst,O=T.destroy;if(O!==void 0){T.destroy=void 0,f=a;var G=l,ne=O;try{ne()}catch(ce){ht(f,G,ce)}}}d=d.next}while(d!==x)}}catch(ce){ht(a,a.return,ce)}}function fv(n){var a=n.updateQueue;if(a!==null){var l=n.stateNode;try{ex(a,l)}catch(d){ht(n,n.return,d)}}}function mv(n,a,l){l.props=xa(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(d){ht(n,a,d)}}function Do(n,a){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var d=n.stateNode;break;case 30:d=n.stateNode;break;default:d=n.stateNode}typeof l=="function"?n.refCleanup=l(d):l.current=d}}catch(f){ht(n,a,f)}}function jr(n,a){var l=n.ref,d=n.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(f){ht(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){ht(n,a,f)}else l.current=null}function pv(n){var a=n.type,l=n.memoizedProps,d=n.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(f){ht(n,n.return,f)}}function ff(n,a,l){try{var d=n.stateNode;yA(d,n.type,l,a),d[st]=a}catch(f){ht(n,n.return,f)}}function gv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ls(n.type)||n.tag===4}function mf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||gv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pf(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(n),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Hc));else if(d!==4&&(d===27&&Ls(n.type)&&(l=n.stateNode,a=null),n=n.child,n!==null))for(pf(n,a,l),n=n.sibling;n!==null;)pf(n,a,l),n=n.sibling}function Oc(n,a,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,a?l.insertBefore(n,a):l.appendChild(n);else if(d!==4&&(d===27&&Ls(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Oc(n,a,l),n=n.sibling;n!==null;)Oc(n,a,l),n=n.sibling}function yv(n){var a=n.stateNode,l=n.memoizedProps;try{for(var d=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);hn(a,d,l),a[pt]=n,a[st]=l}catch(x){ht(n,n.return,x)}}var ns=!1,Lt=!1,gf=!1,xv=typeof WeakSet=="function"?WeakSet:Set,an=null;function XE(n,a){if(n=n.containerInfo,Bf=Xc,n=N0(n),fh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,O=-1,G=-1,ne=0,ce=0,de=n,ae=null;t:for(;;){for(var le;de!==l||f!==0&&de.nodeType!==3||(O=T+f),de!==x||d!==0&&de.nodeType!==3||(G=T+d),de.nodeType===3&&(T+=de.nodeValue.length),(le=de.firstChild)!==null;)ae=de,de=le;for(;;){if(de===n)break t;if(ae===l&&++ne===f&&(O=T),ae===x&&++ce===d&&(G=T),(le=de.nextSibling)!==null)break;de=ae,ae=de.parentNode}de=le}l=O===-1||G===-1?null:{start:O,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(If={focusedElem:n,selectionRange:l},Xc=!1,an=a;an!==null;)if(a=an,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,an=n;else for(;an!==null;){switch(a=an,x=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&x!==null){n=void 0,l=a,f=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var Re=xa(l.type,f,l.elementType===l.type);n=d.getSnapshotBeforeUpdate(Re,x),d.__reactInternalSnapshotBeforeUpdate=n}catch(Ae){ht(l,l.return,Ae)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,l=n.nodeType,l===9)Hf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Hf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=a.sibling,n!==null){n.return=a.return,an=n;break}an=a.return}}function vv(n,a,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:Rs(n,l),d&4&&Oo(5,l);break;case 1:if(Rs(n,l),d&4)if(n=l.stateNode,a===null)try{n.componentDidMount()}catch(T){ht(l,l.return,T)}else{var f=xa(l.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ht(l,l.return,T)}}d&64&&fv(l),d&512&&Do(l,l.return);break;case 3:if(Rs(n,l),d&64&&(n=l.updateQueue,n!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ex(n,a)}catch(T){ht(l,l.return,T)}}break;case 27:a===null&&d&4&&yv(l);case 26:case 5:Rs(n,l),a===null&&d&4&&pv(l),d&512&&Do(l,l.return);break;case 12:Rs(n,l);break;case 13:Rs(n,l),d&4&&Sv(n,l),d&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=iA.bind(null,l),kA(n,l))));break;case 22:if(d=l.memoizedState!==null||ns,!d){a=a!==null&&a.memoizedState!==null||Lt,f=ns;var x=Lt;ns=d,(Lt=a)&&!x?Ms(n,l,(l.subtreeFlags&8772)!==0):Rs(n,l),ns=f,Lt=x}break;case 30:break;default:Rs(n,l)}}function bv(n){var a=n.alternate;a!==null&&(n.alternate=null,bv(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Kd(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var vt=null,An=!1;function rs(n,a,l){for(l=l.child;l!==null;)wv(n,a,l),l=l.sibling}function wv(n,a,l){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Mt,l)}catch{}switch(l.tag){case 26:Lt||jr(l,a),rs(n,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Lt||jr(l,a);var d=vt,f=An;Ls(l.type)&&(vt=l.stateNode,An=!1),rs(n,a,l),Vo(l.stateNode),vt=d,An=f;break;case 5:Lt||jr(l,a);case 6:if(d=vt,f=An,vt=null,rs(n,a,l),vt=d,An=f,vt!==null)if(An)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(l.stateNode)}catch(x){ht(l,a,x)}else try{vt.removeChild(l.stateNode)}catch(x){ht(l,a,x)}break;case 18:vt!==null&&(An?(n=vt,cb(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Xo(n)):cb(vt,l.stateNode));break;case 4:d=vt,f=An,vt=l.stateNode.containerInfo,An=!0,rs(n,a,l),vt=d,An=f;break;case 0:case 11:case 14:case 15:Lt||Ns(2,l,a),Lt||Ns(4,l,a),rs(n,a,l);break;case 1:Lt||(jr(l,a),d=l.stateNode,typeof d.componentWillUnmount=="function"&&mv(l,a,d)),rs(n,a,l);break;case 21:rs(n,a,l);break;case 22:Lt=(d=Lt)||l.memoizedState!==null,rs(n,a,l),Lt=d;break;default:rs(n,a,l)}}function Sv(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xo(n)}catch(l){ht(a,a.return,l)}}function ZE(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new xv),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new xv),a;default:throw Error(r(435,n.tag))}}function yf(n,a){var l=ZE(n);a.forEach(function(d){var f=oA.bind(null,n,d);l.has(d)||(l.add(d),d.then(f,f))})}function zn(n,a){var l=a.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d],x=n,T=a,O=T;e:for(;O!==null;){switch(O.tag){case 27:if(Ls(O.type)){vt=O.stateNode,An=!1;break e}break;case 5:vt=O.stateNode,An=!1;break e;case 3:case 4:vt=O.stateNode.containerInfo,An=!0;break e}O=O.return}if(vt===null)throw Error(r(160));wv(x,T,f),vt=null,An=!1,x=f.alternate,x!==null&&(x.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jv(a,n),a=a.sibling}var dr=null;function jv(n,a){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zn(a,n),Ln(n),d&4&&(Ns(3,n,n.return),Oo(3,n),Ns(5,n,n.return));break;case 1:zn(a,n),Ln(n),d&512&&(Lt||l===null||jr(l,l.return)),d&64&&ns&&(n=n.updateQueue,n!==null&&(d=n.callbacks,d!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var f=dr;if(zn(a,n),Ln(n),d&512&&(Lt||l===null||jr(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=n.memoizedState,l===null)if(d===null)if(n.stateNode===null){e:{d=n.type,l=n.memoizedProps,f=f.ownerDocument||f;t:switch(d){case"title":x=f.getElementsByTagName("title")[0],(!x||x[ro]||x[pt]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=f.createElement(d),f.head.insertBefore(x,f.querySelector("head > title"))),hn(x,d,l),x[pt]=n,rn(x),d=x;break e;case"link":var T=yb("link","href",f).get(d+(l.href||""));if(T){for(var O=0;O<T.length;O++)if(x=T[O],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(O,1);break t}}x=f.createElement(d),hn(x,d,l),f.head.appendChild(x);break;case"meta":if(T=yb("meta","content",f).get(d+(l.content||""))){for(O=0;O<T.length;O++)if(x=T[O],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(O,1);break t}}x=f.createElement(d),hn(x,d,l),f.head.appendChild(x);break;default:throw Error(r(468,d))}x[pt]=n,rn(x),d=x}n.stateNode=d}else xb(f,n.type,n.stateNode);else n.stateNode=gb(f,d,n.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?xb(f,n.type,n.stateNode):gb(f,d,n.memoizedProps)):d===null&&n.stateNode!==null&&ff(n,n.memoizedProps,l.memoizedProps)}break;case 27:zn(a,n),Ln(n),d&512&&(Lt||l===null||jr(l,l.return)),l!==null&&d&4&&ff(n,n.memoizedProps,l.memoizedProps);break;case 5:if(zn(a,n),Ln(n),d&512&&(Lt||l===null||jr(l,l.return)),n.flags&32){f=n.stateNode;try{Wa(f,"")}catch(le){ht(n,n.return,le)}}d&4&&n.stateNode!=null&&(f=n.memoizedProps,ff(n,f,l!==null?l.memoizedProps:f)),d&1024&&(gf=!0);break;case 6:if(zn(a,n),Ln(n),d&4){if(n.stateNode===null)throw Error(r(162));d=n.memoizedProps,l=n.stateNode;try{l.nodeValue=d}catch(le){ht(n,n.return,le)}}break;case 3:if(Kc=null,f=dr,dr=Wc(a.containerInfo),zn(a,n),dr=f,Ln(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Xo(a.containerInfo)}catch(le){ht(n,n.return,le)}gf&&(gf=!1,kv(n));break;case 4:d=dr,dr=Wc(n.stateNode.containerInfo),zn(a,n),Ln(n),dr=d;break;case 12:zn(a,n),Ln(n);break;case 13:zn(a,n),Ln(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(jf=qe()),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,yf(n,d)));break;case 22:f=n.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,ne=ns,ce=Lt;if(ns=ne||f,Lt=ce||G,zn(a,n),Lt=ce,ns=ne,Ln(n),d&8192)e:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(l===null||G||ns||Lt||va(n)),l=null,a=n;;){if(a.tag===5||a.tag===26){if(l===null){G=l=a;try{if(x=G.stateNode,f)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{O=G.stateNode;var de=G.memoizedProps.style,ae=de!=null&&de.hasOwnProperty("display")?de.display:null;O.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(le){ht(G,G.return,le)}}}else if(a.tag===6){if(l===null){G=a;try{G.stateNode.nodeValue=f?"":G.memoizedProps}catch(le){ht(G,G.return,le)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break e;for(;a.sibling===null;){if(a.return===null||a.return===n)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=n.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,yf(n,l))));break;case 19:zn(a,n),Ln(n),d&4&&(d=n.updateQueue,d!==null&&(n.updateQueue=null,yf(n,d)));break;case 30:break;case 21:break;default:zn(a,n),Ln(n)}}function Ln(n){var a=n.flags;if(a&2){try{for(var l,d=n.return;d!==null;){if(gv(d)){l=d;break}d=d.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var f=l.stateNode,x=mf(n);Oc(n,x,f);break;case 5:var T=l.stateNode;l.flags&32&&(Wa(T,""),l.flags&=-33);var O=mf(n);Oc(n,O,T);break;case 3:case 4:var G=l.stateNode.containerInfo,ne=mf(n);pf(n,ne,G);break;default:throw Error(r(161))}}catch(ce){ht(n,n.return,ce)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function kv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;kv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function Rs(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)vv(n,a.alternate,a),a=a.sibling}function va(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:Ns(4,a,a.return),va(a);break;case 1:jr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&mv(a,a.return,l),va(a);break;case 27:Vo(a.stateNode);case 26:case 5:jr(a,a.return),va(a);break;case 22:a.memoizedState===null&&va(a);break;case 30:va(a);break;default:va(a)}n=n.sibling}}function Ms(n,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,f=n,x=a,T=x.flags;switch(x.tag){case 0:case 11:case 15:Ms(f,x,l),Oo(4,x);break;case 1:if(Ms(f,x,l),d=x,f=d.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ne){ht(d,d.return,ne)}if(d=x,f=d.updateQueue,f!==null){var O=d.stateNode;try{var G=f.shared.hiddenCallbacks;if(G!==null)for(f.shared.hiddenCallbacks=null,f=0;f<G.length;f++)Q0(G[f],O)}catch(ne){ht(d,d.return,ne)}}l&&T&64&&fv(x),Do(x,x.return);break;case 27:yv(x);case 26:case 5:Ms(f,x,l),l&&d===null&&T&4&&pv(x),Do(x,x.return);break;case 12:Ms(f,x,l);break;case 13:Ms(f,x,l),l&&T&4&&Sv(f,x);break;case 22:x.memoizedState===null&&Ms(f,x,l),Do(x,x.return);break;case 30:break;default:Ms(f,x,l)}a=a.sibling}}function xf(n,a){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&vo(l))}function vf(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&vo(n))}function kr(n,a,l,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tv(n,a,l,d),a=a.sibling}function Tv(n,a,l,d){var f=a.flags;switch(a.tag){case 0:case 11:case 15:kr(n,a,l,d),f&2048&&Oo(9,a);break;case 1:kr(n,a,l,d);break;case 3:kr(n,a,l,d),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&vo(n)));break;case 12:if(f&2048){kr(n,a,l,d),n=a.stateNode;try{var x=a.memoizedProps,T=x.id,O=x.onPostCommit;typeof O=="function"&&O(T,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(G){ht(a,a.return,G)}}else kr(n,a,l,d);break;case 13:kr(n,a,l,d);break;case 23:break;case 22:x=a.stateNode,T=a.alternate,a.memoizedState!==null?x._visibility&2?kr(n,a,l,d):Po(n,a):x._visibility&2?kr(n,a,l,d):(x._visibility|=2,di(n,a,l,d,(a.subtreeFlags&10256)!==0)),f&2048&&xf(T,a);break;case 24:kr(n,a,l,d),f&2048&&vf(a.alternate,a);break;default:kr(n,a,l,d)}}function di(n,a,l,d,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var x=n,T=a,O=l,G=d,ne=T.flags;switch(T.tag){case 0:case 11:case 15:di(x,T,O,G,f),Oo(8,T);break;case 23:break;case 22:var ce=T.stateNode;T.memoizedState!==null?ce._visibility&2?di(x,T,O,G,f):Po(x,T):(ce._visibility|=2,di(x,T,O,G,f)),f&&ne&2048&&xf(T.alternate,T);break;case 24:di(x,T,O,G,f),f&&ne&2048&&vf(T.alternate,T);break;default:di(x,T,O,G,f)}a=a.sibling}}function Po(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=n,d=a,f=d.flags;switch(d.tag){case 22:Po(l,d),f&2048&&xf(d.alternate,d);break;case 24:Po(l,d),f&2048&&vf(d.alternate,d);break;default:Po(l,d)}a=a.sibling}}var zo=8192;function hi(n){if(n.subtreeFlags&zo)for(n=n.child;n!==null;)Cv(n),n=n.sibling}function Cv(n){switch(n.tag){case 26:hi(n),n.flags&zo&&n.memoizedState!==null&&LA(dr,n.memoizedState,n.memoizedProps);break;case 5:hi(n);break;case 3:case 4:var a=dr;dr=Wc(n.stateNode.containerInfo),hi(n),dr=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=zo,zo=16777216,hi(n),zo=a):hi(n));break;default:hi(n)}}function Ev(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function Lo(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];an=d,Nv(d,n)}Ev(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Av(n),n=n.sibling}function Av(n){switch(n.tag){case 0:case 11:case 15:Lo(n),n.flags&2048&&Ns(9,n,n.return);break;case 3:Lo(n);break;case 12:Lo(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,Dc(n)):Lo(n);break;default:Lo(n)}}function Dc(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var d=a[l];an=d,Nv(d,n)}Ev(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:Ns(8,a,a.return),Dc(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Dc(a));break;default:Dc(a)}n=n.sibling}}function Nv(n,a){for(;an!==null;){var l=an;switch(l.tag){case 0:case 11:case 15:Ns(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:vo(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,an=d;else e:for(l=n;an!==null;){d=an;var f=d.sibling,x=d.return;if(bv(d),d===l){an=null;break e}if(f!==null){f.return=x,an=f;break e}an=x}}}var QE={getCacheForType:function(n){var a=mn(Yt),l=a.data.get(n);return l===void 0&&(l=n(),a.data.set(n,l)),l}},eA=typeof WeakMap=="function"?WeakMap:Map,at=0,gt=null,Ie=null,We=0,it=0,Un=null,_s=!1,fi=!1,bf=!1,ss=0,Ot=0,Os=0,ba=0,wf=0,Qn=0,mi=0,Uo=null,Nn=null,Sf=!1,jf=0,Pc=1/0,zc=null,Ds=null,dn=0,Ps=null,pi=null,gi=0,kf=0,Tf=null,Rv=null,$o=0,Cf=null;function $n(){if((at&2)!==0&&We!==0)return We&-We;if(B.T!==null){var n=ri;return n!==0?n:Of()}return vn()}function Mv(){Qn===0&&(Qn=(We&536870912)===0||Ze?ke():536870912);var n=Zn.current;return n!==null&&(n.flags|=32),Qn}function Bn(n,a,l){(n===gt&&(it===2||it===9)||n.cancelPendingCommit!==null)&&(yi(n,0),zs(n,We,Qn,!1)),Oe(n,l),((at&2)===0||n!==gt)&&(n===gt&&((at&2)===0&&(ba|=l),Ot===4&&zs(n,We,Qn,!1)),Tr(n))}function _v(n,a,l){if((at&6)!==0)throw Error(r(327));var d=!l&&(a&124)===0&&(a&n.expiredLanes)===0||Vr(n,a),f=d?rA(n,a):Nf(n,a,!0),x=d;do{if(f===0){fi&&!d&&zs(n,a,0,!1);break}else{if(l=n.current.alternate,x&&!tA(l)){f=Nf(n,a,!1),x=!1;continue}if(f===2){if(x=a,n.errorRecoveryDisabledLanes&x)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var O=n;f=Uo;var G=O.current.memoizedState.isDehydrated;if(G&&(yi(O,T).flags|=256),T=Nf(O,T,!1),T!==2){if(bf&&!G){O.errorRecoveryDisabledLanes|=x,ba|=x,f=4;break e}x=Nn,Nn=f,x!==null&&(Nn===null?Nn=x:Nn.push.apply(Nn,x))}f=T}if(x=!1,f!==2)continue}}if(f===1){yi(n,0),zs(n,a,0,!0);break}e:{switch(d=n,x=f,x){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:zs(d,a,Qn,!_s);break e;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(f=jf+300-qe(),10<f)){if(zs(d,a,Qn,!_s),Fr(d,0,!0)!==0)break e;d.timeoutHandle=ob(Ov.bind(null,d,l,Nn,zc,Sf,a,Qn,ba,mi,_s,x,2,-0,0),f);break e}Ov(d,l,Nn,zc,Sf,a,Qn,ba,mi,_s,x,0,-0,0)}}break}while(!0);Tr(n)}function Ov(n,a,l,d,f,x,T,O,G,ne,ce,de,ae,le){if(n.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&(Wo={stylesheets:null,count:0,unsuspend:zA},Cv(a),de=UA(),de!==null)){n.cancelPendingCommit=de(Bv.bind(null,n,a,x,l,d,f,T,O,G,ce,1,ae,le)),zs(n,x,T,!ne);return}Bv(n,a,x,l,d,f,T,O,G)}function tA(n){for(var a=n;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var f=l[d],x=f.getSnapshot;f=f.value;try{if(!Dn(x(),f))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function zs(n,a,l,d){a&=~wf,a&=~ba,n.suspendedLanes|=a,n.pingedLanes&=~a,d&&(n.warmLanes|=a),d=n.expirationTimes;for(var f=a;0<f;){var x=31-Tt(f),T=1<<x;d[x]=-1,f&=~T}l!==0&&Te(n,l,a)}function Lc(){return(at&6)===0?(Bo(0),!1):!0}function Ef(){if(Ie!==null){if(it===0)var n=Ie.return;else n=Ie,Jr=ma=null,Vh(n),ci=null,Ro=0,n=Ie;for(;n!==null;)hv(n.alternate,n),n=n.return;Ie=null}}function yi(n,a){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,vA(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Ef(),gt=n,Ie=l=qr(n.current,null),We=a,it=0,Un=null,_s=!1,fi=Vr(n,a),bf=!1,mi=Qn=wf=ba=Os=Ot=0,Nn=Uo=null,Sf=!1,(a&8)!==0&&(a|=a&32);var d=n.entangledLanes;if(d!==0)for(n=n.entanglements,d&=a;0<d;){var f=31-Tt(d),x=1<<f;a|=n[f],d&=~x}return ss=a,ac(),l}function Dv(n,a){ze=null,B.H=kc,a===wo||a===mc?(a=X0(),it=3):a===K0?(a=X0(),it=4):it=a===Zx?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Un=a,Ie===null&&(Ot=1,Nc(n,Kn(a,n.current)))}function Pv(){var n=B.H;return B.H=kc,n===null?kc:n}function zv(){var n=B.A;return B.A=QE,n}function Af(){Ot=4,_s||(We&4194048)!==We&&Zn.current!==null||(fi=!0),(Os&134217727)===0&&(ba&134217727)===0||gt===null||zs(gt,We,Qn,!1)}function Nf(n,a,l){var d=at;at|=2;var f=Pv(),x=zv();(gt!==n||We!==a)&&(zc=null,yi(n,a)),a=!1;var T=Ot;e:do try{if(it!==0&&Ie!==null){var O=Ie,G=Un;switch(it){case 8:Ef(),T=6;break e;case 3:case 2:case 9:case 6:Zn.current===null&&(a=!0);var ne=it;if(it=0,Un=null,xi(n,O,G,ne),l&&fi){T=0;break e}break;default:ne=it,it=0,Un=null,xi(n,O,G,ne)}}nA(),T=Ot;break}catch(ce){Dv(n,ce)}while(!0);return a&&n.shellSuspendCounter++,Jr=ma=null,at=d,B.H=f,B.A=x,Ie===null&&(gt=null,We=0,ac()),T}function nA(){for(;Ie!==null;)Lv(Ie)}function rA(n,a){var l=at;at|=2;var d=Pv(),f=zv();gt!==n||We!==a?(zc=null,Pc=qe()+500,yi(n,a)):fi=Vr(n,a);e:do try{if(it!==0&&Ie!==null){a=Ie;var x=Un;t:switch(it){case 1:it=0,Un=null,xi(n,a,x,1);break;case 2:case 9:if(Y0(x)){it=0,Un=null,Uv(a);break}a=function(){it!==2&&it!==9||gt!==n||(it=7),Tr(n)},x.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Y0(x)?(it=0,Un=null,Uv(a)):(it=0,Un=null,xi(n,a,x,7));break;case 5:var T=null;switch(Ie.tag){case 26:T=Ie.memoizedState;case 5:case 27:var O=Ie;if(!T||vb(T)){it=0,Un=null;var G=O.sibling;if(G!==null)Ie=G;else{var ne=O.return;ne!==null?(Ie=ne,Uc(ne)):Ie=null}break t}}it=0,Un=null,xi(n,a,x,5);break;case 6:it=0,Un=null,xi(n,a,x,6);break;case 8:Ef(),Ot=6;break e;default:throw Error(r(462))}}sA();break}catch(ce){Dv(n,ce)}while(!0);return Jr=ma=null,B.H=d,B.A=f,at=l,Ie!==null?0:(gt=null,We=0,ac(),Ot)}function sA(){for(;Ie!==null&&!kt();)Lv(Ie)}function Lv(n){var a=uv(n.alternate,n,ss);n.memoizedProps=n.pendingProps,a===null?Uc(n):Ie=a}function Uv(n){var a=n,l=a.alternate;switch(a.tag){case 15:case 0:a=sv(l,a,a.pendingProps,a.type,void 0,We);break;case 11:a=sv(l,a,a.pendingProps,a.type.render,a.ref,We);break;case 5:Vh(a);default:hv(l,a),a=Ie=$0(a,ss),a=uv(l,a,ss)}n.memoizedProps=n.pendingProps,a===null?Uc(n):Ie=a}function xi(n,a,l,d){Jr=ma=null,Vh(a),ci=null,Ro=0;var f=a.return;try{if(qE(n,f,a,l,We)){Ot=1,Nc(n,Kn(l,n.current)),Ie=null;return}}catch(x){if(f!==null)throw Ie=f,x;Ot=1,Nc(n,Kn(l,n.current)),Ie=null;return}a.flags&32768?(Ze||d===1?n=!0:fi||(We&536870912)!==0?n=!1:(_s=n=!0,(d===2||d===9||d===3||d===6)&&(d=Zn.current,d!==null&&d.tag===13&&(d.flags|=16384))),$v(a,n)):Uc(a)}function Uc(n){var a=n;do{if((a.flags&32768)!==0){$v(a,_s);return}n=a.return;var l=YE(a.alternate,a,ss);if(l!==null){Ie=l;return}if(a=a.sibling,a!==null){Ie=a;return}Ie=a=n}while(a!==null);Ot===0&&(Ot=5)}function $v(n,a){do{var l=JE(n.alternate,n);if(l!==null){l.flags&=32767,Ie=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(n=n.sibling,n!==null)){Ie=n;return}Ie=n=l}while(n!==null);Ot=6,Ie=null}function Bv(n,a,l,d,f,x,T,O,G){n.cancelPendingCommit=null;do $c();while(dn!==0);if((at&6)!==0)throw Error(r(327));if(a!==null){if(a===n.current)throw Error(r(177));if(x=a.lanes|a.childLanes,x|=xh,mt(n,l,x,T,O,G),n===gt&&(Ie=gt=null,We=0),pi=a,Ps=n,gi=l,kf=x,Tf=f,Rv=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lA(qt,function(){return Gv(),null})):(n.callbackNode=null,n.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,f=L.p,L.p=2,T=at,at|=4;try{XE(n,a,l)}finally{at=T,L.p=f,B.T=d}}dn=1,Iv(),Fv(),Vv()}}function Iv(){if(dn===1){dn=0;var n=Ps,a=pi,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var d=L.p;L.p=2;var f=at;at|=4;try{jv(a,n);var x=If,T=N0(n.containerInfo),O=x.focusedElem,G=x.selectionRange;if(T!==O&&O&&O.ownerDocument&&A0(O.ownerDocument.documentElement,O)){if(G!==null&&fh(O)){var ne=G.start,ce=G.end;if(ce===void 0&&(ce=ne),"selectionStart"in O)O.selectionStart=ne,O.selectionEnd=Math.min(ce,O.value.length);else{var de=O.ownerDocument||document,ae=de&&de.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),Re=O.textContent.length,Ae=Math.min(G.start,Re),ut=G.end===void 0?Ae:Math.min(G.end,Re);!le.extend&&Ae>ut&&(T=ut,ut=Ae,Ae=T);var J=E0(O,Ae),q=E0(O,ut);if(J&&q&&(le.rangeCount!==1||le.anchorNode!==J.node||le.anchorOffset!==J.offset||le.focusNode!==q.node||le.focusOffset!==q.offset)){var te=de.createRange();te.setStart(J.node,J.offset),le.removeAllRanges(),Ae>ut?(le.addRange(te),le.extend(q.node,q.offset)):(te.setEnd(q.node,q.offset),le.addRange(te))}}}}for(de=[],le=O;le=le.parentNode;)le.nodeType===1&&de.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<de.length;O++){var ue=de[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Xc=!!Bf,If=Bf=null}finally{at=f,L.p=d,B.T=l}}n.current=a,dn=2}}function Fv(){if(dn===2){dn=0;var n=Ps,a=pi,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var d=L.p;L.p=2;var f=at;at|=4;try{vv(n,a.alternate,a)}finally{at=f,L.p=d,B.T=l}}dn=3}}function Vv(){if(dn===4||dn===3){dn=0,tt();var n=Ps,a=pi,l=gi,d=Rv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?dn=5:(dn=0,pi=Ps=null,Hv(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ds=null),rt(l),a=a.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Mt,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=B.T,f=L.p,L.p=2,B.T=null;try{for(var x=n.onRecoverableError,T=0;T<d.length;T++){var O=d[T];x(O.value,{componentStack:O.stack})}}finally{B.T=a,L.p=f}}(gi&3)!==0&&$c(),Tr(n),f=n.pendingLanes,(l&4194090)!==0&&(f&42)!==0?n===Cf?$o++:($o=0,Cf=n):$o=0,Bo(0)}}function Hv(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,vo(a)))}function $c(n){return Iv(),Fv(),Vv(),Gv()}function Gv(){if(dn!==5)return!1;var n=Ps,a=kf;kf=0;var l=rt(gi),d=B.T,f=L.p;try{L.p=32>l?32:l,B.T=null,l=Tf,Tf=null;var x=Ps,T=gi;if(dn=0,pi=Ps=null,gi=0,(at&6)!==0)throw Error(r(331));var O=at;if(at|=4,Av(x.current),Tv(x,x.current,T,l),at=O,Bo(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Mt,x)}catch{}return!0}finally{L.p=f,B.T=d,Hv(n,a)}}function Wv(n,a,l){a=Kn(l,a),a=rf(n.stateNode,a,2),n=Ts(n,a,2),n!==null&&(Oe(n,2),Tr(n))}function ht(n,a,l){if(n.tag===3)Wv(n,n,l);else for(;a!==null;){if(a.tag===3){Wv(a,n,l);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ds===null||!Ds.has(d))){n=Kn(l,n),l=Jx(2),d=Ts(a,l,2),d!==null&&(Xx(l,d,a,n),Oe(d,2),Tr(d));break}}a=a.return}}function Rf(n,a,l){var d=n.pingCache;if(d===null){d=n.pingCache=new eA;var f=new Set;d.set(a,f)}else f=d.get(a),f===void 0&&(f=new Set,d.set(a,f));f.has(l)||(bf=!0,f.add(l),n=aA.bind(null,n,a,l),a.then(n,n))}function aA(n,a,l){var d=n.pingCache;d!==null&&d.delete(a),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,gt===n&&(We&l)===l&&(Ot===4||Ot===3&&(We&62914560)===We&&300>qe()-jf?(at&2)===0&&yi(n,0):wf|=l,mi===We&&(mi=0)),Tr(n)}function qv(n,a){a===0&&(a=Ge()),n=Qa(n,a),n!==null&&(Oe(n,a),Tr(n))}function iA(n){var a=n.memoizedState,l=0;a!==null&&(l=a.retryLane),qv(n,l)}function oA(n,a){var l=0;switch(n.tag){case 13:var d=n.stateNode,f=n.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=n.stateNode;break;case 22:d=n.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(a),qv(n,l)}function lA(n,a){return He(n,a)}var Bc=null,vi=null,Mf=!1,Ic=!1,_f=!1,wa=0;function Tr(n){n!==vi&&n.next===null&&(vi===null?Bc=vi=n:vi=vi.next=n),Ic=!0,Mf||(Mf=!0,uA())}function Bo(n,a){if(!_f&&Ic){_f=!0;do for(var l=!1,d=Bc;d!==null;){if(n!==0){var f=d.pendingLanes;if(f===0)var x=0;else{var T=d.suspendedLanes,O=d.pingedLanes;x=(1<<31-Tt(42|n)+1)-1,x&=f&~(T&~O),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Xv(d,x))}else x=We,x=Fr(d,d===gt?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Vr(d,x)||(l=!0,Xv(d,x));d=d.next}while(l);_f=!1}}function cA(){Kv()}function Kv(){Ic=Mf=!1;var n=0;wa!==0&&(xA()&&(n=wa),wa=0);for(var a=qe(),l=null,d=Bc;d!==null;){var f=d.next,x=Yv(d,a);x===0?(d.next=null,l===null?Bc=f:l.next=f,f===null&&(vi=l)):(l=d,(n!==0||(x&3)!==0)&&(Ic=!0)),d=f}Bo(n)}function Yv(n,a){for(var l=n.suspendedLanes,d=n.pingedLanes,f=n.expirationTimes,x=n.pendingLanes&-62914561;0<x;){var T=31-Tt(x),O=1<<T,G=f[T];G===-1?((O&l)===0||(O&d)!==0)&&(f[T]=sa(O,a)):G<=a&&(n.expiredLanes|=O),x&=~O}if(a=gt,l=We,l=Fr(n,n===a?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d=n.callbackNode,l===0||n===a&&(it===2||it===9)||n.cancelPendingCommit!==null)return d!==null&&d!==null&&ge(d),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Vr(n,l)){if(a=l&-l,a===n.callbackPriority)return a;switch(d!==null&&ge(d),rt(l)){case 2:case 8:l=dt;break;case 32:l=qt;break;case 268435456:l=en;break;default:l=qt}return d=Jv.bind(null,n),l=He(l,d),n.callbackPriority=a,n.callbackNode=l,a}return d!==null&&d!==null&&ge(d),n.callbackPriority=2,n.callbackNode=null,2}function Jv(n,a){if(dn!==0&&dn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if($c()&&n.callbackNode!==l)return null;var d=We;return d=Fr(n,n===gt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),d===0?null:(_v(n,d,a),Yv(n,qe()),n.callbackNode!=null&&n.callbackNode===l?Jv.bind(null,n):null)}function Xv(n,a){if($c())return null;_v(n,a,!0)}function uA(){bA(function(){(at&6)!==0?He(Ke,cA):Kv()})}function Of(){return wa===0&&(wa=ke()),wa}function Zv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Zl(""+n)}function Qv(n,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,n.id&&l.setAttribute("form",n.id),a.parentNode.insertBefore(l,a),n=new FormData(n),l.parentNode.removeChild(l),n}function dA(n,a,l,d,f){if(a==="submit"&&l&&l.stateNode===f){var x=Zv((f[st]||null).action),T=d.submitter;T&&(a=(a=T[st]||null)?Zv(a.formAction):T.getAttribute("formAction"),a!==null&&(x=a,T=null));var O=new nc("action","action",null,d,f);n.push({event:O,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(wa!==0){var G=T?Qv(f,T):new FormData(f);Zh(l,{pending:!0,data:G,method:f.method,action:x},null,G)}}else typeof x=="function"&&(O.preventDefault(),G=T?Qv(f,T):new FormData(f),Zh(l,{pending:!0,data:G,method:f.method,action:x},x,G))},currentTarget:f}]})}}for(var Df=0;Df<yh.length;Df++){var Pf=yh[Df],hA=Pf.toLowerCase(),fA=Pf[0].toUpperCase()+Pf.slice(1);ur(hA,"on"+fA)}ur(_0,"onAnimationEnd"),ur(O0,"onAnimationIteration"),ur(D0,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(RE,"onTransitionRun"),ur(ME,"onTransitionStart"),ur(_E,"onTransitionCancel"),ur(P0,"onTransitionEnd"),Va("onMouseEnter",["mouseout","mouseover"]),Va("onMouseLeave",["mouseout","mouseover"]),Va("onPointerEnter",["pointerout","pointerover"]),Va("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Io));function eb(n,a){a=(a&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],f=d.event;d=d.listeners;e:{var x=void 0;if(a)for(var T=d.length-1;0<=T;T--){var O=d[T],G=O.instance,ne=O.currentTarget;if(O=O.listener,G!==x&&f.isPropagationStopped())break e;x=O,f.currentTarget=ne;try{x(f)}catch(ce){Ac(ce)}f.currentTarget=null,x=G}else for(T=0;T<d.length;T++){if(O=d[T],G=O.instance,ne=O.currentTarget,O=O.listener,G!==x&&f.isPropagationStopped())break e;x=O,f.currentTarget=ne;try{x(f)}catch(ce){Ac(ce)}f.currentTarget=null,x=G}}}}function Fe(n,a){var l=a[$a];l===void 0&&(l=a[$a]=new Set);var d=n+"__bubble";l.has(d)||(tb(a,n,2,!1),l.add(d))}function zf(n,a,l){var d=0;a&&(d|=4),tb(l,n,d,a)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function Lf(n){if(!n[Fc]){n[Fc]=!0,Ky.forEach(function(l){l!=="selectionchange"&&(mA.has(l)||zf(l,!1,n),zf(l,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[Fc]||(a[Fc]=!0,zf("selectionchange",!1,a))}}function tb(n,a,l,d){switch(Tb(a)){case 2:var f=IA;break;case 8:f=FA;break;default:f=Xf}l=f.bind(null,a,l,n),f=void 0,!sh||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),d?f!==void 0?n.addEventListener(a,l,{capture:!0,passive:f}):n.addEventListener(a,l,!0):f!==void 0?n.addEventListener(a,l,{passive:f}):n.addEventListener(a,l,!1)}function Uf(n,a,l,d,f){var x=d;if((a&1)===0&&(a&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var O=d.stateNode.containerInfo;if(O===f)break;if(T===4)for(T=d.return;T!==null;){var G=T.tag;if((G===3||G===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;O!==null;){if(T=Ba(O),T===null)return;if(G=T.tag,G===5||G===6||G===26||G===27){d=x=T;continue e}O=O.parentNode}}d=d.return}l0(function(){var ne=x,ce=nh(l),de=[];e:{var ae=z0.get(n);if(ae!==void 0){var le=nc,Re=n;switch(n){case"keypress":if(ec(l)===0)break e;case"keydown":case"keyup":le=lE;break;case"focusin":Re="focus",le=lh;break;case"focusout":Re="blur",le=lh;break;case"beforeblur":case"afterblur":le=lh;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=JC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=dE;break;case _0:case O0:case D0:le=QC;break;case P0:le=fE;break;case"scroll":case"scrollend":le=KC;break;case"wheel":le=pE;break;case"copy":case"cut":case"paste":le=tE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=f0;break;case"toggle":case"beforetoggle":le=yE}var Ae=(a&4)!==0,ut=!Ae&&(n==="scroll"||n==="scrollend"),J=Ae?ae!==null?ae+"Capture":null:ae;Ae=[];for(var q=ne,te;q!==null;){var ue=q;if(te=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||te===null||J===null||(ue=ao(q,J),ue!=null&&Ae.push(Fo(q,ue,te))),ut)break;q=q.return}0<Ae.length&&(ae=new le(ae,Re,null,l,ce),de.push({event:ae,listeners:Ae}))}}if((a&7)===0){e:{if(ae=n==="mouseover"||n==="pointerover",le=n==="mouseout"||n==="pointerout",ae&&l!==th&&(Re=l.relatedTarget||l.fromElement)&&(Ba(Re)||Re[nn]))break e;if((le||ae)&&(ae=ce.window===ce?ce:(ae=ce.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(Re=l.relatedTarget||l.toElement,le=ne,Re=Re?Ba(Re):null,Re!==null&&(ut=c(Re),Ae=Re.tag,Re!==ut||Ae!==5&&Ae!==27&&Ae!==6)&&(Re=null)):(le=null,Re=ne),le!==Re)){if(Ae=d0,ue="onMouseLeave",J="onMouseEnter",q="mouse",(n==="pointerout"||n==="pointerover")&&(Ae=f0,ue="onPointerLeave",J="onPointerEnter",q="pointer"),ut=le==null?ae:so(le),te=Re==null?ae:so(Re),ae=new Ae(ue,q+"leave",le,l,ce),ae.target=ut,ae.relatedTarget=te,ue=null,Ba(ce)===ne&&(Ae=new Ae(J,q+"enter",Re,l,ce),Ae.target=te,Ae.relatedTarget=ut,ue=Ae),ut=ue,le&&Re)t:{for(Ae=le,J=Re,q=0,te=Ae;te;te=bi(te))q++;for(te=0,ue=J;ue;ue=bi(ue))te++;for(;0<q-te;)Ae=bi(Ae),q--;for(;0<te-q;)J=bi(J),te--;for(;q--;){if(Ae===J||J!==null&&Ae===J.alternate)break t;Ae=bi(Ae),J=bi(J)}Ae=null}else Ae=null;le!==null&&nb(de,ae,le,Ae,!1),Re!==null&&ut!==null&&nb(de,ut,Re,Ae,!0)}}e:{if(ae=ne?so(ne):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var ve=w0;else if(v0(ae))if(S0)ve=EE;else{ve=TE;var Ue=kE}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ne&&eh(ne.elementType)&&(ve=w0):ve=CE;if(ve&&(ve=ve(n,ne))){b0(de,ve,l,ce);break e}Ue&&Ue(n,ae,ne),n==="focusout"&&ne&&ae.type==="number"&&ne.memoizedProps.value!=null&&Qd(ae,"number",ae.value)}switch(Ue=ne?so(ne):window,n){case"focusin":(v0(Ue)||Ue.contentEditable==="true")&&(Ja=Ue,mh=ne,mo=null);break;case"focusout":mo=mh=Ja=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,R0(de,l,ce);break;case"selectionchange":if(NE)break;case"keydown":case"keyup":R0(de,l,ce)}var Ce;if(uh)e:{switch(n){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Ya?y0(n,l)&&(Ne="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(m0&&l.locale!=="ko"&&(Ya||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Ya&&(Ce=c0()):(ws=ce,ah="value"in ws?ws.value:ws.textContent,Ya=!0)),Ue=Vc(ne,Ne),0<Ue.length&&(Ne=new h0(Ne,n,null,l,ce),de.push({event:Ne,listeners:Ue}),Ce?Ne.data=Ce:(Ce=x0(l),Ce!==null&&(Ne.data=Ce)))),(Ce=vE?bE(n,l):wE(n,l))&&(Ne=Vc(ne,"onBeforeInput"),0<Ne.length&&(Ue=new h0("onBeforeInput","beforeinput",null,l,ce),de.push({event:Ue,listeners:Ne}),Ue.data=Ce)),dA(de,n,ne,l,ce)}eb(de,a)})}function Fo(n,a,l){return{instance:n,listener:a,currentTarget:l}}function Vc(n,a){for(var l=a+"Capture",d=[];n!==null;){var f=n,x=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||x===null||(f=ao(n,l),f!=null&&d.unshift(Fo(n,f,x)),f=ao(n,a),f!=null&&d.push(Fo(n,f,x))),n.tag===3)return d;n=n.return}return[]}function bi(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function nb(n,a,l,d,f){for(var x=a._reactName,T=[];l!==null&&l!==d;){var O=l,G=O.alternate,ne=O.stateNode;if(O=O.tag,G!==null&&G===d)break;O!==5&&O!==26&&O!==27||ne===null||(G=ne,f?(ne=ao(l,x),ne!=null&&T.unshift(Fo(l,ne,G))):f||(ne=ao(l,x),ne!=null&&T.push(Fo(l,ne,G)))),l=l.return}T.length!==0&&n.push({event:a,listeners:T})}var pA=/\r\n?/g,gA=/\u0000|\uFFFD/g;function rb(n){return(typeof n=="string"?n:""+n).replace(pA,`
`).replace(gA,"")}function sb(n,a){return a=rb(a),rb(n)===a}function Hc(){}function ct(n,a,l,d,f,x){switch(l){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Wa(n,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Wa(n,""+d);break;case"className":Yl(n,"class",d);break;case"tabIndex":Yl(n,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(n,l,d);break;case"style":i0(n,d,x);break;case"data":if(a!=="object"){Yl(n,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||l!=="href")){n.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Zl(""+d),n.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(a!=="input"&&ct(n,a,"name",f.name,f,null),ct(n,a,"formEncType",f.formEncType,f,null),ct(n,a,"formMethod",f.formMethod,f,null),ct(n,a,"formTarget",f.formTarget,f,null)):(ct(n,a,"encType",f.encType,f,null),ct(n,a,"method",f.method,f,null),ct(n,a,"target",f.target,f,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){n.removeAttribute(l);break}d=Zl(""+d),n.setAttribute(l,d);break;case"onClick":d!=null&&(n.onclick=Hc);break;case"onScroll":d!=null&&Fe("scroll",n);break;case"onScrollEnd":d!=null&&Fe("scrollend",n);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"multiple":n.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":n.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){n.removeAttribute("xlink:href");break}l=Zl(""+d),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""+d):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":d===!0?n.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?n.setAttribute(l,d):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?n.setAttribute(l,d):n.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?n.removeAttribute(l):n.setAttribute(l,d);break;case"popover":Fe("beforetoggle",n),Fe("toggle",n),Kl(n,"popover",d);break;case"xlinkActuate":Gr(n,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Gr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Gr(n,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Gr(n,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Gr(n,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Gr(n,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Gr(n,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Kl(n,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=WC.get(l)||l,Kl(n,l,d))}}function $f(n,a,l,d,f,x){switch(l){case"style":i0(n,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(l=d.__html,l!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=l}}break;case"children":typeof d=="string"?Wa(n,d):(typeof d=="number"||typeof d=="bigint")&&Wa(n,""+d);break;case"onScroll":d!=null&&Fe("scroll",n);break;case"onScrollEnd":d!=null&&Fe("scrollend",n);break;case"onClick":d!=null&&(n.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yy.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),a=l.slice(2,f?l.length-7:void 0),x=n[st]||null,x=x!=null?x[l]:null,typeof x=="function"&&n.removeEventListener(a,x,f),typeof d=="function")){typeof x!="function"&&x!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(a,d,f);break e}l in n?n[l]=d:d===!0?n.setAttribute(l,""):Kl(n,l,d)}}}function hn(n,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",n),Fe("load",n);var d=!1,f=!1,x;for(x in l)if(l.hasOwnProperty(x)){var T=l[x];if(T!=null)switch(x){case"src":d=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(n,a,x,T,l,null)}}f&&ct(n,a,"srcSet",l.srcSet,l,null),d&&ct(n,a,"src",l.src,l,null);return;case"input":Fe("invalid",n);var O=x=T=f=null,G=null,ne=null;for(d in l)if(l.hasOwnProperty(d)){var ce=l[d];if(ce!=null)switch(d){case"name":f=ce;break;case"type":T=ce;break;case"checked":G=ce;break;case"defaultChecked":ne=ce;break;case"value":x=ce;break;case"defaultValue":O=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(n,a,d,ce,l,null)}}n0(n,x,O,G,ne,T,f,!1),Jl(n);return;case"select":Fe("invalid",n),d=T=x=null;for(f in l)if(l.hasOwnProperty(f)&&(O=l[f],O!=null))switch(f){case"value":x=O;break;case"defaultValue":T=O;break;case"multiple":d=O;default:ct(n,a,f,O,l,null)}a=x,l=T,n.multiple=!!d,a!=null?Ga(n,!!d,a,!1):l!=null&&Ga(n,!!d,l,!0);return;case"textarea":Fe("invalid",n),x=f=d=null;for(T in l)if(l.hasOwnProperty(T)&&(O=l[T],O!=null))switch(T){case"value":d=O;break;case"defaultValue":f=O;break;case"children":x=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:ct(n,a,T,O,l,null)}s0(n,d,f,x),Jl(n);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(d=l[G],d!=null))switch(G){case"selected":n.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:ct(n,a,G,d,l,null)}return;case"dialog":Fe("beforetoggle",n),Fe("toggle",n),Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":Fe("load",n);break;case"video":case"audio":for(d=0;d<Io.length;d++)Fe(Io[d],n);break;case"image":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"embed":case"source":case"link":Fe("error",n),Fe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in l)if(l.hasOwnProperty(ne)&&(d=l[ne],d!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(n,a,ne,d,l,null)}return;default:if(eh(a)){for(ce in l)l.hasOwnProperty(ce)&&(d=l[ce],d!==void 0&&$f(n,a,ce,d,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(d=l[O],d!=null&&ct(n,a,O,d,l,null))}function yA(n,a,l,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,x=null,T=null,O=null,G=null,ne=null,ce=null;for(le in l){var de=l[le];if(l.hasOwnProperty(le)&&de!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":G=de;default:d.hasOwnProperty(le)||ct(n,a,le,null,d,de)}}for(var ae in d){var le=d[ae];if(de=l[ae],d.hasOwnProperty(ae)&&(le!=null||de!=null))switch(ae){case"type":x=le;break;case"name":f=le;break;case"checked":ne=le;break;case"defaultChecked":ce=le;break;case"value":T=le;break;case"defaultValue":O=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==de&&ct(n,a,ae,le,d,de)}}Zd(n,T,O,G,ne,ce,x,f);return;case"select":le=T=O=ae=null;for(x in l)if(G=l[x],l.hasOwnProperty(x)&&G!=null)switch(x){case"value":break;case"multiple":le=G;default:d.hasOwnProperty(x)||ct(n,a,x,null,d,G)}for(f in d)if(x=d[f],G=l[f],d.hasOwnProperty(f)&&(x!=null||G!=null))switch(f){case"value":ae=x;break;case"defaultValue":O=x;break;case"multiple":T=x;default:x!==G&&ct(n,a,f,x,d,G)}a=O,l=T,d=le,ae!=null?Ga(n,!!l,ae,!1):!!d!=!!l&&(a!=null?Ga(n,!!l,a,!0):Ga(n,!!l,l?[]:"",!1));return;case"textarea":le=ae=null;for(O in l)if(f=l[O],l.hasOwnProperty(O)&&f!=null&&!d.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:ct(n,a,O,null,d,f)}for(T in d)if(f=d[T],x=l[T],d.hasOwnProperty(T)&&(f!=null||x!=null))switch(T){case"value":ae=f;break;case"defaultValue":le=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==x&&ct(n,a,T,f,d,x)}r0(n,ae,le);return;case"option":for(var Re in l)if(ae=l[Re],l.hasOwnProperty(Re)&&ae!=null&&!d.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:ct(n,a,Re,null,d,ae)}for(G in d)if(ae=d[G],le=l[G],d.hasOwnProperty(G)&&ae!==le&&(ae!=null||le!=null))switch(G){case"selected":n.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:ct(n,a,G,ae,d,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)ae=l[Ae],l.hasOwnProperty(Ae)&&ae!=null&&!d.hasOwnProperty(Ae)&&ct(n,a,Ae,null,d,ae);for(ne in d)if(ae=d[ne],le=l[ne],d.hasOwnProperty(ne)&&ae!==le&&(ae!=null||le!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:ct(n,a,ne,ae,d,le)}return;default:if(eh(a)){for(var ut in l)ae=l[ut],l.hasOwnProperty(ut)&&ae!==void 0&&!d.hasOwnProperty(ut)&&$f(n,a,ut,void 0,d,ae);for(ce in d)ae=d[ce],le=l[ce],!d.hasOwnProperty(ce)||ae===le||ae===void 0&&le===void 0||$f(n,a,ce,ae,d,le);return}}for(var J in l)ae=l[J],l.hasOwnProperty(J)&&ae!=null&&!d.hasOwnProperty(J)&&ct(n,a,J,null,d,ae);for(de in d)ae=d[de],le=l[de],!d.hasOwnProperty(de)||ae===le||ae==null&&le==null||ct(n,a,de,ae,d,le)}var Bf=null,If=null;function Gc(n){return n.nodeType===9?n:n.ownerDocument}function ab(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ib(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Ff(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Vf=null;function xA(){var n=window.event;return n&&n.type==="popstate"?n===Vf?!1:(Vf=n,!0):(Vf=null,!1)}var ob=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,lb=typeof Promise=="function"?Promise:void 0,bA=typeof queueMicrotask=="function"?queueMicrotask:typeof lb<"u"?function(n){return lb.resolve(null).then(n).catch(wA)}:ob;function wA(n){setTimeout(function(){throw n})}function Ls(n){return n==="head"}function cb(n,a){var l=a,d=0,f=0;do{var x=l.nextSibling;if(n.removeChild(l),x&&x.nodeType===8)if(l=x.data,l==="/$"){if(0<d&&8>d){l=d;var T=n.ownerDocument;if(l&1&&Vo(T.documentElement),l&2&&Vo(T.body),l&4)for(l=T.head,Vo(l),T=l.firstChild;T;){var O=T.nextSibling,G=T.nodeName;T[ro]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=O}}if(f===0){n.removeChild(x),Xo(a);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:d=l.charCodeAt(0)-48;else d=0;l=x}while(l);Xo(a)}function Hf(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Hf(l),Kd(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function SA(n,a,l,d){for(;n.nodeType===1;){var f=l;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(d){if(!n[ro])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(x=n.getAttribute("rel"),x==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(x!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(x=n.getAttribute("src"),(x!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&x&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var x=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===x)return n}else return n;if(n=hr(n.nextSibling),n===null)break}return null}function jA(n,a,l){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=hr(n.nextSibling),n===null))return null;return n}function Gf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function kA(n,a){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")a();else{var d=function(){a(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),n._reactRetry=d}}function hr(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Wf=null;function ub(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return n;a--}else l==="/$"&&a++}n=n.previousSibling}return null}function db(n,a,l){switch(a=Gc(l),n){case"html":if(n=a.documentElement,!n)throw Error(r(452));return n;case"head":if(n=a.head,!n)throw Error(r(453));return n;case"body":if(n=a.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Vo(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Kd(n)}var er=new Map,hb=new Set;function Wc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var as=L.d;L.d={f:TA,r:CA,D:EA,C:AA,L:NA,m:RA,X:_A,S:MA,M:OA};function TA(){var n=as.f(),a=Lc();return n||a}function CA(n){var a=Ia(n);a!==null&&a.tag===5&&a.type==="form"?_x(a):as.r(n)}var wi=typeof document>"u"?null:document;function fb(n,a,l){var d=wi;if(d&&typeof a=="string"&&a){var f=qn(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),hb.has(f)||(hb.add(f),n={rel:n,crossOrigin:l,href:a},d.querySelector(f)===null&&(a=d.createElement("link"),hn(a,"link",n),rn(a),d.head.appendChild(a)))}}function EA(n){as.D(n),fb("dns-prefetch",n,null)}function AA(n,a){as.C(n,a),fb("preconnect",n,a)}function NA(n,a,l){as.L(n,a,l);var d=wi;if(d&&n&&a){var f='link[rel="preload"][as="'+qn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+qn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+qn(l.imageSizes)+'"]')):f+='[href="'+qn(n)+'"]';var x=f;switch(a){case"style":x=Si(n);break;case"script":x=ji(n)}er.has(x)||(n=g({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:n,as:a},l),er.set(x,n),d.querySelector(f)!==null||a==="style"&&d.querySelector(Ho(x))||a==="script"&&d.querySelector(Go(x))||(a=d.createElement("link"),hn(a,"link",n),rn(a),d.head.appendChild(a)))}}function RA(n,a){as.m(n,a);var l=wi;if(l&&n){var d=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+qn(d)+'"][href="'+qn(n)+'"]',x=f;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ji(n)}if(!er.has(x)&&(n=g({rel:"modulepreload",href:n},a),er.set(x,n),l.querySelector(f)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Go(x)))return}d=l.createElement("link"),hn(d,"link",n),rn(d),l.head.appendChild(d)}}}function MA(n,a,l){as.S(n,a,l);var d=wi;if(d&&n){var f=Fa(d).hoistableStyles,x=Si(n);a=a||"default";var T=f.get(x);if(!T){var O={loading:0,preload:null};if(T=d.querySelector(Ho(x)))O.loading=5;else{n=g({rel:"stylesheet",href:n,"data-precedence":a},l),(l=er.get(x))&&qf(n,l);var G=T=d.createElement("link");rn(G),hn(G,"link",n),G._p=new Promise(function(ne,ce){G.onload=ne,G.onerror=ce}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,qc(T,a,d)}T={type:"stylesheet",instance:T,count:1,state:O},f.set(x,T)}}}function _A(n,a){as.X(n,a);var l=wi;if(l&&n){var d=Fa(l).hoistableScripts,f=ji(n),x=d.get(f);x||(x=l.querySelector(Go(f)),x||(n=g({src:n,async:!0},a),(a=er.get(f))&&Kf(n,a),x=l.createElement("script"),rn(x),hn(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(f,x))}}function OA(n,a){as.M(n,a);var l=wi;if(l&&n){var d=Fa(l).hoistableScripts,f=ji(n),x=d.get(f);x||(x=l.querySelector(Go(f)),x||(n=g({src:n,async:!0,type:"module"},a),(a=er.get(f))&&Kf(n,a),x=l.createElement("script"),rn(x),hn(x,"link",n),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(f,x))}}function mb(n,a,l,d){var f=(f=he.current)?Wc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Si(l.href),l=Fa(f).hoistableStyles,d=l.get(a),d||(d={type:"style",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Si(l.href);var x=Fa(f).hoistableStyles,T=x.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(n,T),(x=f.querySelector(Ho(n)))&&!x._p&&(T.instance=x,T.state.loading=5),er.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},er.set(n,l),x||DA(f,n,l,T.state))),a&&d===null)throw Error(r(528,""));return T}if(a&&d!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ji(l),l=Fa(f).hoistableScripts,d=l.get(a),d||(d={type:"script",instance:null,count:0,state:null},l.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Si(n){return'href="'+qn(n)+'"'}function Ho(n){return'link[rel="stylesheet"]['+n+"]"}function pb(n){return g({},n,{"data-precedence":n.precedence,precedence:null})}function DA(n,a,l,d){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=n.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),hn(a,"link",l),rn(a),n.head.appendChild(a))}function ji(n){return'[src="'+qn(n)+'"]'}function Go(n){return"script[async]"+n}function gb(n,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var d=n.querySelector('style[data-href~="'+qn(l.href)+'"]');if(d)return a.instance=d,rn(d),d;var f=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(n.ownerDocument||n).createElement("style"),rn(d),hn(d,"style",f),qc(d,l.precedence,n),a.instance=d;case"stylesheet":f=Si(l.href);var x=n.querySelector(Ho(f));if(x)return a.state.loading|=4,a.instance=x,rn(x),x;d=pb(l),(f=er.get(f))&&qf(d,f),x=(n.ownerDocument||n).createElement("link"),rn(x);var T=x;return T._p=new Promise(function(O,G){T.onload=O,T.onerror=G}),hn(x,"link",d),a.state.loading|=4,qc(x,l.precedence,n),a.instance=x;case"script":return x=ji(l.src),(f=n.querySelector(Go(x)))?(a.instance=f,rn(f),f):(d=l,(f=er.get(x))&&(d=g({},l),Kf(d,f)),n=n.ownerDocument||n,f=n.createElement("script"),rn(f),hn(f,"link",d),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,qc(d,l.precedence,n));return a.instance}function qc(n,a,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=d.length?d[d.length-1]:null,x=f,T=0;T<d.length;T++){var O=d[T];if(O.dataset.precedence===a)x=O;else if(x!==f)break}x?x.parentNode.insertBefore(n,x.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(n,a.firstChild))}function qf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function Kf(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Kc=null;function yb(n,a,l){if(Kc===null){var d=new Map,f=Kc=new Map;f.set(l,d)}else f=Kc,d=f.get(l),d||(d=new Map,f.set(l,d));if(d.has(n))return d;for(d.set(n,null),l=l.getElementsByTagName(n),f=0;f<l.length;f++){var x=l[f];if(!(x[ro]||x[pt]||n==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(a)||"";T=n+T;var O=d.get(T);O?O.push(x):d.set(T,[x])}}return d}function xb(n,a,l){n=n.ownerDocument||n,n.head.insertBefore(l,a==="title"?n.querySelector("head > title"):null)}function PA(n,a,l){if(l===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function vb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wo=null;function zA(){}function LA(n,a,l){if(Wo===null)throw Error(r(475));var d=Wo;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Si(l.href),x=n.querySelector(Ho(f));if(x){n=x._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(d.count++,d=Yc.bind(d),n.then(d,d)),a.state.loading|=4,a.instance=x,rn(x);return}x=n.ownerDocument||n,l=pb(l),(f=er.get(f))&&qf(l,f),x=x.createElement("link"),rn(x);var T=x;T._p=new Promise(function(O,G){T.onload=O,T.onerror=G}),hn(x,"link",l),a.instance=x}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Yc.bind(d),n.addEventListener("load",a),n.addEventListener("error",a))}}function UA(){if(Wo===null)throw Error(r(475));var n=Wo;return n.stylesheets&&n.count===0&&Yf(n,n.stylesheets),0<n.count?function(a){var l=setTimeout(function(){if(n.stylesheets&&Yf(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Yc(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Jc=null;function Yf(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Jc=new Map,a.forEach($A,n),Jc=null,Yc.call(n))}function $A(n,a){if(!(a.state.loading&4)){var l=Jc.get(n);if(l)var d=l.get(null);else{l=new Map,Jc.set(n,l);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<f.length;x++){var T=f[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}f=a.instance,T=f.getAttribute("data-precedence"),x=l.get(T)||d,x===d&&l.set(null,f),l.set(T,f),this.count++,d=Yc.bind(this),f.addEventListener("load",d),f.addEventListener("error",d),x?x.parentNode.insertBefore(f,x.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var qo={$$typeof:N,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function BA(n,a,l,d,f,x,T,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ye(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ye(0),this.hiddenUpdates=Ye(null),this.identifierPrefix=d,this.onUncaughtError=f,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function bb(n,a,l,d,f,x,T,O,G,ne,ce,de){return n=new BA(n,a,l,T,O,G,ne,de),a=1,x===!0&&(a|=24),x=Pn(3,null,null,a),n.current=x,x.stateNode=n,a=Nh(),a.refCount++,n.pooledCache=a,a.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:a},Oh(x),n}function wb(n){return n?(n=ei,n):ei}function Sb(n,a,l,d,f,x){f=wb(f),d.context===null?d.context=f:d.pendingContext=f,d=ks(a),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=Ts(n,d,a),l!==null&&(Bn(l,n,a),jo(l,n,a))}function jb(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<a?l:a}}function Jf(n,a){jb(n,a),(n=n.alternate)&&jb(n,a)}function kb(n){if(n.tag===13){var a=Qa(n,67108864);a!==null&&Bn(a,n,67108864),Jf(n,67108864)}}var Xc=!0;function IA(n,a,l,d){var f=B.T;B.T=null;var x=L.p;try{L.p=2,Xf(n,a,l,d)}finally{L.p=x,B.T=f}}function FA(n,a,l,d){var f=B.T;B.T=null;var x=L.p;try{L.p=8,Xf(n,a,l,d)}finally{L.p=x,B.T=f}}function Xf(n,a,l,d){if(Xc){var f=Zf(d);if(f===null)Uf(n,a,d,Zc,l),Cb(n,d);else if(HA(f,n,a,l,d))d.stopPropagation();else if(Cb(n,d),a&4&&-1<VA.indexOf(n)){for(;f!==null;){var x=Ia(f);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=Gn(x.pendingLanes);if(T!==0){var O=x;for(O.pendingLanes|=2,O.entangledLanes|=2;T;){var G=1<<31-Tt(T);O.entanglements[1]|=G,T&=~G}Tr(x),(at&6)===0&&(Pc=qe()+500,Bo(0))}}break;case 13:O=Qa(x,2),O!==null&&Bn(O,x,2),Lc(),Jf(x,2)}if(x=Zf(d),x===null&&Uf(n,a,d,Zc,l),x===f)break;f=x}f!==null&&d.stopPropagation()}else Uf(n,a,d,null,l)}}function Zf(n){return n=nh(n),Qf(n)}var Zc=null;function Qf(n){if(Zc=null,n=Ba(n),n!==null){var a=c(n);if(a===null)n=null;else{var l=a.tag;if(l===13){if(n=u(a),n!==null)return n;n=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Zc=n,null}function Tb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(On()){case Ke:return 2;case dt:return 8;case qt:case $t:return 32;case en:return 268435456;default:return 32}default:return 32}}var em=!1,Us=null,$s=null,Bs=null,Ko=new Map,Yo=new Map,Is=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cb(n,a){switch(n){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Ko.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(a.pointerId)}}function Jo(n,a,l,d,f,x){return n===null||n.nativeEvent!==x?(n={blockedOn:a,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[f]},a!==null&&(a=Ia(a),a!==null&&kb(a)),n):(n.eventSystemFlags|=d,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function HA(n,a,l,d,f){switch(a){case"focusin":return Us=Jo(Us,n,a,l,d,f),!0;case"dragenter":return $s=Jo($s,n,a,l,d,f),!0;case"mouseover":return Bs=Jo(Bs,n,a,l,d,f),!0;case"pointerover":var x=f.pointerId;return Ko.set(x,Jo(Ko.get(x)||null,n,a,l,d,f)),!0;case"gotpointercapture":return x=f.pointerId,Yo.set(x,Jo(Yo.get(x)||null,n,a,l,d,f)),!0}return!1}function Eb(n){var a=Ba(n.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){n.blockedOn=a,ot(n.priority,function(){if(l.tag===13){var d=$n();d=nt(d);var f=Qa(l,d);f!==null&&Bn(f,l,d),Jf(l,d)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qc(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var l=Zf(n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);th=d,l.target.dispatchEvent(d),th=null}else return a=Ia(l),a!==null&&kb(a),n.blockedOn=l,!1;a.shift()}return!0}function Ab(n,a,l){Qc(n)&&l.delete(a)}function GA(){em=!1,Us!==null&&Qc(Us)&&(Us=null),$s!==null&&Qc($s)&&($s=null),Bs!==null&&Qc(Bs)&&(Bs=null),Ko.forEach(Ab),Yo.forEach(Ab)}function eu(n,a){n.blockedOn===a&&(n.blockedOn=null,em||(em=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,GA)))}var tu=null;function Nb(n){tu!==n&&(tu=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){tu===n&&(tu=null);for(var a=0;a<n.length;a+=3){var l=n[a],d=n[a+1],f=n[a+2];if(typeof d!="function"){if(Qf(d||l)===null)continue;break}var x=Ia(l);x!==null&&(n.splice(a,3),a-=3,Zh(x,{pending:!0,data:f,method:l.method,action:d},d,f))}}))}function Xo(n){function a(G){return eu(G,n)}Us!==null&&eu(Us,n),$s!==null&&eu($s,n),Bs!==null&&eu(Bs,n),Ko.forEach(a),Yo.forEach(a);for(var l=0;l<Is.length;l++){var d=Is[l];d.blockedOn===n&&(d.blockedOn=null)}for(;0<Is.length&&(l=Is[0],l.blockedOn===null);)Eb(l),l.blockedOn===null&&Is.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var f=l[d],x=l[d+1],T=f[st]||null;if(typeof x=="function")T||Nb(l);else if(T){var O=null;if(x&&x.hasAttribute("formAction")){if(f=x,T=x[st]||null)O=T.formAction;else if(Qf(f)!==null)continue}else O=T.action;typeof O=="function"?l[d+1]=O:(l.splice(d,3),d-=3),Nb(l)}}}function tm(n){this._internalRoot=n}nu.prototype.render=tm.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,d=$n();Sb(l,d,n,a,null,null)},nu.prototype.unmount=tm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;Sb(n.current,2,null,n,null,null),Lc(),a[nn]=null}};function nu(n){this._internalRoot=n}nu.prototype.unstable_scheduleHydration=function(n){if(n){var a=vn();n={blockedOn:null,target:n,priority:a};for(var l=0;l<Is.length&&a!==0&&a<Is[l].priority;l++);Is.splice(l,0,n),l===0&&Eb(n)}};var Rb=t.version;if(Rb!=="19.1.1")throw Error(r(527,Rb,"19.1.1"));L.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(a),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var WA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Mt=ru.inject(WA),Pt=ru}catch{}}return Qo.createRoot=function(n,a){if(!i(n))throw Error(r(299));var l=!1,d="",f=Wx,x=qx,T=Kx,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks)),a=bb(n,1,!1,null,null,l,d,f,x,T,O,null),n[nn]=a.current,Lf(n),new tm(a)},Qo.hydrateRoot=function(n,a,l){if(!i(n))throw Error(r(299));var d=!1,f="",x=Wx,T=qx,O=Kx,G=null,ne=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(G=l.unstable_transitionCallbacks),l.formState!==void 0&&(ne=l.formState)),a=bb(n,1,!0,a,l??null,d,f,x,T,O,G,ne),a.context=wb(null),l=a.current,d=$n(),d=nt(d),f=ks(d),f.callback=null,Ts(l,f,d),l=d,a.current.lanes=l,Oe(a,l),Tr(a),n[nn]=a.current,Lf(n),new nu(a)},Qo.version="19.1.1",Qo}var Bb;function nN(){if(Bb)return sm.exports;Bb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sm.exports=tN(),sm.exports}var rN=nN();const sN=Dg(rN);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ib="popstate";function aN(e={}){function t(r,i){let{pathname:c,search:u,hash:h}=r.location;return fp("",{pathname:c,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:bl(i)}return oN(t,s,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function iN(){return Math.random().toString(36).substring(2,10)}function Fb(e,t){return{usr:e.state,key:e.key,idx:t}}function fp(e,t,s=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qi(t):t,state:s,key:t&&t.key||r||iN()}}function bl({pathname:e="/",search:t="",hash:s=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function qi(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substring(s),e=e.substring(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function oN(e,t,s,r={}){let{window:i=document.defaultView,v5Compat:c=!1}=r,u=i.history,h="POP",p=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function y(){h="POP";let E=g(),C=E==null?null:E-m;m=E,p&&p({action:h,location:k.location,delta:C})}function v(E,C){h="PUSH";let R=fp(k.location,E,C);m=g()+1;let N=Fb(R,m),D=k.createHref(R);try{u.pushState(N,"",D)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(D)}c&&p&&p({action:h,location:k.location,delta:1})}function j(E,C){h="REPLACE";let R=fp(k.location,E,C);m=g();let N=Fb(R,m),D=k.createHref(R);u.replaceState(N,"",D),c&&p&&p({action:h,location:k.location,delta:0})}function A(E){return lN(E)}let k={get action(){return h},get location(){return e(i,u)},listen(E){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Ib,y),p=E,()=>{i.removeEventListener(Ib,y),p=null}},createHref(E){return t(i,E)},createURL:A,encodeLocation(E){let C=A(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:j,go(E){return u.go(E)}};return k}function lN(e,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(s,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:bl(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function HS(e,t,s="/"){return cN(e,t,s,!1)}function cN(e,t,s,r){let i=typeof t=="string"?qi(t):t,c=fs(i.pathname||"/",s);if(c==null)return null;let u=GS(e);uN(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let m=wN(c);h=vN(u[p],m,r)}return h}function GS(e,t=[],s=[],r="",i=!1){let c=(u,h,p=i,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&p)return;Rt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let y=cs([r,g.relativePath]),v=s.concat(g);u.children&&u.children.length>0&&(Rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),GS(u.children,t,v,y,p)),!(u.path==null&&!u.index)&&t.push({path:y,score:yN(y,u.index),routesMeta:v})};return e.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))c(u,h);else for(let m of WS(u.path))c(u,h,!0,m)}),t}function WS(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),c=s.replace(/\?$/,"");if(r.length===0)return i?[c,""]:[c];let u=WS(r.join("/")),h=[];return h.push(...u.map(p=>p===""?c:[c,p].join("/"))),i&&h.push(...u),h.map(p=>e.startsWith("/")&&p===""?"/":p)}function uN(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:xN(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var dN=/^:[\w-]+$/,hN=3,fN=2,mN=1,pN=10,gN=-2,Vb=e=>e==="*";function yN(e,t){let s=e.split("/"),r=s.length;return s.some(Vb)&&(r+=gN),t&&(r+=fN),s.filter(i=>!Vb(i)).reduce((i,c)=>i+(dN.test(c)?hN:c===""?mN:pN),r)}function xN(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function vN(e,t,s=!1){let{routesMeta:r}=e,i={},c="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],m=h===r.length-1,g=c==="/"?t:t.slice(c.length)||"/",y=Ku({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),v=p.route;if(!y&&m&&s&&!r[r.length-1].route.index&&(y=Ku({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:cs([c,y.pathname]),pathnameBase:TN(cs([c,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(c=cs([c,y.pathnameBase]))}return u}function Ku(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=bN(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let c=i[0],u=c.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:y},v)=>{if(g==="*"){let A=h[v]||"";u=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const j=h[v];return y&&!j?m[g]=void 0:m[g]=(j||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:u,pattern:e}}function bN(e,t=!1,s=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function fs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function SN(e,t="/"){let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?qi(e):e;return{pathname:s?s.startsWith("/")?s:jN(s,t):t,search:CN(r),hash:EN(i)}}function jN(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function lm(e,t,s,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kN(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function qS(e){let t=kN(e);return t.map((s,r)=>r===t.length-1?s.pathname:s.pathnameBase)}function KS(e,t,s,r=!1){let i;typeof e=="string"?i=qi(e):(i={...e},Rt(!i.pathname||!i.pathname.includes("?"),lm("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),lm("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),lm("#","search","hash",i)));let c=e===""||i.pathname==="",u=c?"/":i.pathname,h;if(u==null)h=s;else{let y=t.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;i.pathname=v.join("/")}h=y>=0?t[y]:"/"}let p=SN(i,h),m=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var cs=e=>e.join("/").replace(/\/\/+/g,"/"),TN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),CN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AN(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var YS=["POST","PUT","PATCH","DELETE"];new Set(YS);var NN=["GET",...YS];new Set(NN);var Ki=b.createContext(null);Ki.displayName="DataRouter";var yd=b.createContext(null);yd.displayName="DataRouterState";b.createContext(!1);var JS=b.createContext({isTransitioning:!1});JS.displayName="ViewTransition";var RN=b.createContext(new Map);RN.displayName="Fetchers";var MN=b.createContext(null);MN.displayName="Await";var Lr=b.createContext(null);Lr.displayName="Navigation";var Dl=b.createContext(null);Dl.displayName="Location";var Ur=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ur.displayName="Route";var zg=b.createContext(null);zg.displayName="RouteError";function _N(e,{relative:t}={}){Rt(Pl(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=b.useContext(Lr),{hash:i,pathname:c,search:u}=zl(e,{relative:t}),h=c;return s!=="/"&&(h=c==="/"?s:cs([s,c])),r.createHref({pathname:h,search:u,hash:i})}function Pl(){return b.useContext(Dl)!=null}function lr(){return Rt(Pl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Dl).location}var XS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZS(e){b.useContext(Lr).static||b.useLayoutEffect(e)}function Gt(){let{isDataRoute:e}=b.useContext(Ur);return e?GN():ON()}function ON(){Rt(Pl(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Ki),{basename:t,navigator:s}=b.useContext(Lr),{matches:r}=b.useContext(Ur),{pathname:i}=lr(),c=JSON.stringify(qS(r)),u=b.useRef(!1);return ZS(()=>{u.current=!0}),b.useCallback((p,m={})=>{if(Or(u.current,XS),!u.current)return;if(typeof p=="number"){s.go(p);return}let g=KS(p,JSON.parse(c),i,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:cs([t,g.pathname])),(m.replace?s.replace:s.push)(g,m.state,m)},[t,s,c,i,e])}b.createContext(null);function Pa(){let{matches:e}=b.useContext(Ur),t=e[e.length-1];return t?t.params:{}}function zl(e,{relative:t}={}){let{matches:s}=b.useContext(Ur),{pathname:r}=lr(),i=JSON.stringify(qS(s));return b.useMemo(()=>KS(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function DN(e,t){return QS(e,t)}function QS(e,t,s,r,i){var R;Rt(Pl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=b.useContext(Lr),{matches:u}=b.useContext(Ur),h=u[u.length-1],p=h?h.params:{},m=h?h.pathname:"/",g=h?h.pathnameBase:"/",y=h&&h.route;{let N=y&&y.path||"";ej(m,!y||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let v=lr(),j;if(t){let N=typeof t=="string"?qi(t):t;Rt(g==="/"||((R=N.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),j=N}else j=v;let A=j.pathname||"/",k=A;if(g!=="/"){let N=g.replace(/^\//,"").split("/");k="/"+A.replace(/^\//,"").split("/").slice(N.length).join("/")}let E=HS(e,{pathname:k});Or(y||E!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Or(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=$N(E&&E.map(N=>Object.assign({},N,{params:Object.assign({},p,N.params),pathname:cs([g,c.encodeLocation?c.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:cs([g,c.encodeLocation?c.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,s,r,i);return t&&C?b.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},C):C}function PN(){let e=HN(),t=AN(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:c},"ErrorBoundary")," or"," ",b.createElement("code",{style:c},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),s?b.createElement("pre",{style:i},s):null,u)}var zN=b.createElement(PN,null),LN=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?b.createElement(Ur.Provider,{value:this.props.routeContext},b.createElement(zg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function UN({routeContext:e,match:t,children:s}){let r=b.useContext(Ki);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ur.Provider,{value:e},s)}function $N(e,t=[],s=null,r=null,i=null){if(e==null){if(!s)return null;if(s.errors)e=s.matches;else if(t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let c=e,u=s==null?void 0:s.errors;if(u!=null){let m=c.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Rt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),c=c.slice(0,Math.min(c.length,m+1))}let h=!1,p=-1;if(s)for(let m=0;m<c.length;m++){let g=c[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:y,errors:v}=s,j=g.route.loader&&!y.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||j){h=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((m,g,y)=>{let v,j=!1,A=null,k=null;s&&(v=u&&g.route.id?u[g.route.id]:void 0,A=g.route.errorElement||zN,h&&(p<0&&y===0?(ej("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,k=null):p===y&&(j=!0,k=g.route.hydrateFallbackElement||null)));let E=t.concat(c.slice(0,y+1)),C=()=>{let R;return v?R=A:j?R=k:g.route.Component?R=b.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,b.createElement(UN,{match:g,routeContext:{outlet:m,matches:E,isDataRoute:s!=null},children:R})};return s&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?b.createElement(LN,{location:s.location,revalidation:s.revalidation,component:A,error:v,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0},unstable_onError:r}):C()},null)}function Lg(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BN(e){let t=b.useContext(Ki);return Rt(t,Lg(e)),t}function IN(e){let t=b.useContext(yd);return Rt(t,Lg(e)),t}function FN(e){let t=b.useContext(Ur);return Rt(t,Lg(e)),t}function Ug(e){let t=FN(e),s=t.matches[t.matches.length-1];return Rt(s.route.id,`${e} can only be used on routes that contain a unique "id"`),s.route.id}function VN(){return Ug("useRouteId")}function HN(){var r;let e=b.useContext(zg),t=IN("useRouteError"),s=Ug("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[s]}function GN(){let{router:e}=BN("useNavigate"),t=Ug("useNavigate"),s=b.useRef(!1);return ZS(()=>{s.current=!0}),b.useCallback(async(i,c={})=>{Or(s.current,XS),s.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...c}))},[e,t])}var Hb={};function ej(e,t,s){!t&&!Hb[e]&&(Hb[e]=!0,Or(!1,s))}b.memo(WN);function WN({routes:e,future:t,state:s,unstable_onError:r}){return QS(e,void 0,s,r,t)}function Et(e){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qN({basename:e="/",children:t=null,location:s,navigationType:r="POP",navigator:i,static:c=!1}){Rt(!Pl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:i,static:c,future:{}}),[u,i,c]);typeof s=="string"&&(s=qi(s));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=s,j=b.useMemo(()=>{let A=fs(p,u);return A==null?null:{location:{pathname:A,search:m,hash:g,state:y,key:v},navigationType:r}},[u,p,m,g,y,v,r]);return Or(j!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:b.createElement(Lr.Provider,{value:h},b.createElement(Dl.Provider,{children:t,value:j}))}function KN({children:e,location:t}){return DN(mp(e),t)}function mp(e,t=[]){let s=[];return b.Children.forEach(e,(r,i)=>{if(!b.isValidElement(r))return;let c=[...t,i];if(r.type===b.Fragment){s.push.apply(s,mp(r.props.children,c));return}Rt(r.type===Et,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=mp(r.props.children,c)),s.push(u)}),s}var Du="get",Pu="application/x-www-form-urlencoded";function xd(e){return e!=null&&typeof e.tagName=="string"}function YN(e){return xd(e)&&e.tagName.toLowerCase()==="button"}function JN(e){return xd(e)&&e.tagName.toLowerCase()==="form"}function XN(e){return xd(e)&&e.tagName.toLowerCase()==="input"}function ZN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QN(e,t){return e.button===0&&(!t||t==="_self")&&!ZN(e)}var su=null;function eR(){if(su===null)try{new FormData(document.createElement("form"),0),su=!1}catch{su=!0}return su}var tR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(e){return e!=null&&!tR.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):e}function nR(e,t){let s,r,i,c,u;if(JN(e)){let h=e.getAttribute("action");r=h?fs(h,t):null,s=e.getAttribute("method")||Du,i=cm(e.getAttribute("enctype"))||Pu,c=new FormData(e)}else if(YN(e)||XN(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=e.getAttribute("formaction")||h.getAttribute("action");if(r=p?fs(p,t):null,s=e.getAttribute("formmethod")||h.getAttribute("method")||Du,i=cm(e.getAttribute("formenctype"))||cm(h.getAttribute("enctype"))||Pu,c=new FormData(h,e),!eR()){let{name:m,type:g,value:y}=e;if(g==="image"){let v=m?`${m}.`:"";c.append(`${v}x`,"0"),c.append(`${v}y`,"0")}else m&&c.append(m,y)}}else{if(xd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Du,r=null,i=Pu,u=e}return c&&i==="text/plain"&&(u=c,c=void 0),{action:r,method:s.toLowerCase(),encType:i,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $g(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rR(e,t,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${s}`:t&&fs(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function sR(e,t){if(e.id in t)return t[e.id];try{let s=await import(e.module);return t[e.id]=s,s}catch(s){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aR(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function iR(e,t,s){let r=await Promise.all(e.map(async i=>{let c=t.routes[i.route.id];if(c){let u=await sR(c,s);return u.links?u.links():[]}return[]}));return uR(r.flat(1).filter(aR).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gb(e,t,s,r,i,c){let u=(p,m)=>s[m]?p.route.id!==s[m].route.id:!0,h=(p,m)=>{var g;return s[m].pathname!==p.pathname||((g=s[m].route.path)==null?void 0:g.endsWith("*"))&&s[m].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,m)=>u(p,m)||h(p,m)):c==="data"?t.filter((p,m)=>{var y;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(u(p,m)||h(p,m))return!0;if(p.route.shouldRevalidate){let v=p.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=s[0])==null?void 0:y.params)||{},nextUrl:new URL(e,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oR(e,t,{includeHydrateFallback:s}={}){return lR(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let c=[i.module];return i.clientActionModule&&(c=c.concat(i.clientActionModule)),i.clientLoaderModule&&(c=c.concat(i.clientLoaderModule)),s&&i.hydrateFallbackModule&&(c=c.concat(i.hydrateFallbackModule)),i.imports&&(c=c.concat(i.imports)),c}).flat(1))}function lR(e){return[...new Set(e)]}function cR(e){let t={},s=Object.keys(e).sort();for(let r of s)t[r]=e[r];return t}function uR(e,t){let s=new Set;return new Set(t),e.reduce((r,i)=>{let c=JSON.stringify(cR(i));return s.has(c)||(s.add(c),r.push({key:c,link:i})),r},[])}function tj(){let e=b.useContext(Ki);return $g(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function dR(){let e=b.useContext(yd);return $g(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bg=b.createContext(void 0);Bg.displayName="FrameworkContext";function nj(){let e=b.useContext(Bg);return $g(e,"You must render this element inside a <HydratedRouter> element"),e}function hR(e,t){let s=b.useContext(Bg),[r,i]=b.useState(!1),[c,u]=b.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:y}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let k=C=>{C.forEach(R=>{u(R.isIntersecting)})},E=new IntersectionObserver(k,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),b.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let j=()=>{i(!0)},A=()=>{i(!1),u(!1)};return s?e!=="intent"?[c,v,{}]:[c,v,{onFocus:el(h,j),onBlur:el(p,A),onMouseEnter:el(m,j),onMouseLeave:el(g,A),onTouchStart:el(y,j)}]:[!1,v,{}]}function el(e,t){return s=>{e&&e(s),s.defaultPrevented||t(s)}}function fR({page:e,...t}){let{router:s}=tj(),r=b.useMemo(()=>HS(s.routes,e,s.basename),[s.routes,e,s.basename]);return r?b.createElement(pR,{page:e,matches:r,...t}):null}function mR(e){let{manifest:t,routeModules:s}=nj(),[r,i]=b.useState([]);return b.useEffect(()=>{let c=!1;return iR(e,t,s).then(u=>{c||i(u)}),()=>{c=!0}},[e,t,s]),r}function pR({page:e,matches:t,...s}){let r=lr(),{manifest:i,routeModules:c}=nj(),{basename:u}=tj(),{loaderData:h,matches:p}=dR(),m=b.useMemo(()=>Gb(e,t,p,i,r,"data"),[e,t,p,i,r]),g=b.useMemo(()=>Gb(e,t,p,i,r,"assets"),[e,t,p,i,r]),y=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let A=new Set,k=!1;if(t.forEach(C=>{var N;let R=i.routes[C.route.id];!R||!R.hasLoader||(!m.some(D=>D.route.id===C.route.id)&&C.route.id in h&&((N=c[C.route.id])!=null&&N.shouldRevalidate)||R.hasClientLoader?k=!0:A.add(C.route.id))}),A.size===0)return[];let E=rR(e,u,"data");return k&&A.size>0&&E.searchParams.set("_routes",t.filter(C=>A.has(C.route.id)).map(C=>C.route.id).join(",")),[E.pathname+E.search]},[u,h,r,i,m,t,e,c]),v=b.useMemo(()=>oR(g,i),[g,i]),j=mR(g);return b.createElement(b.Fragment,null,y.map(A=>b.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...s})),v.map(A=>b.createElement("link",{key:A,rel:"modulepreload",href:A,...s})),j.map(({key:A,link:k})=>b.createElement("link",{key:A,nonce:s.nonce,...k})))}function gR(...e){return t=>{e.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var rj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rj&&(window.__reactRouterVersion="7.8.2")}catch{}function yR({basename:e,children:t,window:s}){let r=b.useRef();r.current==null&&(r.current=aN({window:s,v5Compat:!0}));let i=r.current,[c,u]=b.useState({action:i.action,location:i.location}),h=b.useCallback(p=>{b.startTransition(()=>u(p))},[u]);return b.useLayoutEffect(()=>i.listen(h),[i,h]),b.createElement(qN,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:i})}var sj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aj=b.forwardRef(function({onClick:t,discover:s="render",prefetch:r="none",relative:i,reloadDocument:c,replace:u,state:h,target:p,to:m,preventScrollReset:g,viewTransition:y,...v},j){let{basename:A}=b.useContext(Lr),k=typeof m=="string"&&sj.test(m),E,C=!1;if(typeof m=="string"&&k&&(E=m,rj))try{let I=new URL(window.location.href),W=m.startsWith("//")?new URL(I.protocol+m):new URL(m),H=fs(W.pathname,A);W.origin===I.origin&&H!=null?m=H+W.search+W.hash:C=!0}catch{Or(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=_N(m,{relative:i}),[N,D,P]=hR(r,v),M=wR(m,{replace:u,state:h,target:p,preventScrollReset:g,relative:i,viewTransition:y});function U(I){t&&t(I),I.defaultPrevented||M(I)}let _=b.createElement("a",{...v,...P,href:E||R,onClick:C||c?t:U,ref:gR(j,D),target:p,"data-discover":!k&&s==="render"?"true":void 0});return N&&!k?b.createElement(b.Fragment,null,_,b.createElement(fR,{page:R})):_});aj.displayName="Link";var xR=b.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:r="",end:i=!1,style:c,to:u,viewTransition:h,children:p,...m},g){let y=zl(u,{relative:m.relative}),v=lr(),j=b.useContext(yd),{navigator:A,basename:k}=b.useContext(Lr),E=j!=null&&CR(y)&&h===!0,C=A.encodeLocation?A.encodeLocation(y).pathname:y.pathname,R=v.pathname,N=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;s||(R=R.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&k&&(N=fs(N,k)||N);const D=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let P=R===C||!i&&R.startsWith(C)&&R.charAt(D)==="/",M=N!=null&&(N===C||!i&&N.startsWith(C)&&N.charAt(C.length)==="/"),U={isActive:P,isPending:M,isTransitioning:E},_=P?t:void 0,I;typeof r=="function"?I=r(U):I=[r,P?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let W=typeof c=="function"?c(U):c;return b.createElement(aj,{...m,"aria-current":_,className:I,ref:g,style:W,to:u,viewTransition:h},typeof p=="function"?p(U):p)});xR.displayName="NavLink";var vR=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:s,reloadDocument:r,replace:i,state:c,method:u=Du,action:h,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:y,...v},j)=>{let A=kR(),k=TR(h,{relative:m}),E=u.toLowerCase()==="get"?"get":"post",C=typeof h=="string"&&sj.test(h),R=N=>{if(p&&p(N),N.defaultPrevented)return;N.preventDefault();let D=N.nativeEvent.submitter,P=(D==null?void 0:D.getAttribute("formmethod"))||u;A(D||N.currentTarget,{fetcherKey:t,method:P,navigate:s,replace:i,state:c,relative:m,preventScrollReset:g,viewTransition:y})};return b.createElement("form",{ref:j,method:E,action:k,onSubmit:r?p:R,...v,"data-discover":!C&&e==="render"?"true":void 0})});vR.displayName="Form";function bR(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ij(e){let t=b.useContext(Ki);return Rt(t,bR(e)),t}function wR(e,{target:t,replace:s,state:r,preventScrollReset:i,relative:c,viewTransition:u}={}){let h=Gt(),p=lr(),m=zl(e,{relative:c});return b.useCallback(g=>{if(QN(g,t)){g.preventDefault();let y=s!==void 0?s:bl(p)===bl(m);h(e,{replace:y,state:r,preventScrollReset:i,relative:c,viewTransition:u})}},[p,h,m,s,r,t,e,i,c,u])}var SR=0,jR=()=>`__${String(++SR)}__`;function kR(){let{router:e}=ij("useSubmit"),{basename:t}=b.useContext(Lr),s=VN();return b.useCallback(async(r,i={})=>{let{action:c,method:u,encType:h,formData:p,body:m}=nR(r,t);if(i.navigate===!1){let g=i.fetcherKey||jR();await e.fetch(g,s,i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:m,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await e.navigate(i.action||c,{preventScrollReset:i.preventScrollReset,formData:p,body:m,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:s,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,s])}function TR(e,{relative:t}={}){let{basename:s}=b.useContext(Lr),r=b.useContext(Ur);Rt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),c={...zl(e||".",{relative:t})},u=lr();if(e==null){c.search=u.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(g=>g==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let g=h.toString();c.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(c.pathname=c.pathname==="/"?s:cs([s,c.pathname])),bl(c)}function CR(e,{relative:t}={}){let s=b.useContext(JS);Rt(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ij("useViewTransitionState"),i=zl(e,{relative:t});if(!s.isTransitioning)return!1;let c=fs(s.currentLocation.pathname,r)||s.currentLocation.pathname,u=fs(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Ku(i.pathname,u)!=null||Ku(i.pathname,c)!=null}var Ig=VS();const oj=Dg(Ig);var um={exports:{}},dm={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function ER(){if(Wb)return dm;Wb=1;var e=Ol();function t(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var s=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,c=e.useEffect,u=e.useMemo,h=e.useDebugValue;return dm.useSyncExternalStoreWithSelector=function(p,m,g,y,v){var j=i(null);if(j.current===null){var A={hasValue:!1,value:null};j.current=A}else A=j.current;j=u(function(){function E(P){if(!C){if(C=!0,R=P,P=y(P),v!==void 0&&A.hasValue){var M=A.value;if(v(M,P))return N=M}return N=P}if(M=N,s(R,P))return M;var U=y(P);return v!==void 0&&v(M,U)?(R=P,M):(R=P,N=U)}var C=!1,R,N,D=g===void 0?null:g;return[function(){return E(m())},D===null?void 0:function(){return E(D())}]},[m,g,y,v]);var k=r(p,j[0],j[1]);return c(function(){A.hasValue=!0,A.value=k},[k]),h(k),k},dm}var qb;function AR(){return qb||(qb=1,um.exports=ER()),um.exports}AR();function NR(e){e()}function RR(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NR(()=>{let s=e;for(;s;)s.callback(),s=s.next})},get(){const s=[];let r=e;for(;r;)s.push(r),r=r.next;return s},subscribe(s){let r=!0;const i=t={callback:s,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Kb={notify(){},get:()=>[]};function MR(e,t){let s,r=Kb,i=0,c=!1;function u(k){g();const E=r.subscribe(k);let C=!1;return()=>{C||(C=!0,E(),y())}}function h(){r.notify()}function p(){A.onStateChange&&A.onStateChange()}function m(){return c}function g(){i++,s||(s=e.subscribe(p),r=RR())}function y(){i--,s&&i===0&&(s(),s=void 0,r.clear(),r=Kb)}function v(){c||(c=!0,g())}function j(){c&&(c=!1,y())}const A={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:m,trySubscribe:v,tryUnsubscribe:j,getListeners:()=>r};return A}var _R=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OR=_R(),DR=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PR=DR(),zR=()=>OR||PR?b.useLayoutEffect:b.useEffect,LR=zR(),hm=Symbol.for("react-redux-context"),fm=typeof globalThis<"u"?globalThis:{};function UR(){if(!b.createContext)return{};const e=fm[hm]??(fm[hm]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var $R=UR();function BR(e){const{children:t,context:s,serverState:r,store:i}=e,c=b.useMemo(()=>{const p=MR(i);return{store:i,subscription:p,getServerState:r?()=>r:void 0}},[i,r]),u=b.useMemo(()=>i.getState(),[i]);LR(()=>{const{subscription:p}=c;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[c,u]);const h=s||$R;return b.createElement(h.Provider,{value:c},t)}var IR=BR,FR=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function lj({packageName:e,customMessages:t}){let s=e;function r(c,u){if(!u)return`${s}: ${c}`;let h=c;const p=c.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const m of p){const g=(u[m[1]]||"").toString();h=h.replace(`{{${m[1]}}}`,g)}return`${s}: ${h}`}const i={...FR,...t};return{setPackageName({packageName:c}){return typeof c=="string"&&(s=c),this},setMessages({customMessages:c}){return Object.assign(i,c||{}),this},throwInvalidPublishableKeyError(c){throw new Error(r(i.InvalidPublishableKeyErrorMessage,c))},throwInvalidProxyUrl(c){throw new Error(r(i.InvalidProxyUrlErrorMessage,c))},throwMissingPublishableKeyError(){throw new Error(r(i.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(r(i.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(c){throw new Error(r(i.MissingClerkProvider,c))},throw(c){throw new Error(r(c))}}}var cj=Object.defineProperty,VR=Object.getOwnPropertyDescriptor,HR=Object.getOwnPropertyNames,GR=Object.prototype.hasOwnProperty,WR=(e,t)=>{for(var s in t)cj(e,s,{get:t[s],enumerable:!0})},qR=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of HR(t))!GR.call(e,i)&&i!==s&&cj(e,i,{get:()=>t[i],enumerable:!(r=VR(t,i))||r.enumerable});return e},KR=(e,t,s)=>(qR(e,t,"default"),s),YR={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},JR=new Set(["first_factor","second_factor","multi_factor"]),XR=new Set(["strict_mfa","strict","moderate","lax"]),ZR=e=>typeof e=="number"&&e>0,QR=e=>JR.has(e),e5=e=>XR.has(e),mm=e=>e.replace(/^(org:)*/,"org:"),t5=(e,t)=>{const{orgId:s,orgRole:r,orgPermissions:i}=t;return!e.role&&!e.permission||!s||!r||!i?null:e.permission?i.includes(mm(e.permission)):e.role?mm(r)===mm(e.role):null},Yb=(e,t)=>{const{org:s,user:r}=r5(e),[i,c]=t.split(":"),u=c||i;return i==="org"?s.includes(u):i==="user"?r.includes(u):[...s,...r].includes(u)},n5=(e,t)=>{const{features:s,plans:r}=t;return e.feature&&s?Yb(s,e.feature):e.plan&&r?Yb(r,e.plan):null},r5=e=>{const t=e?e.split(",").map(s=>s.trim()):[];return{org:t.filter(s=>s.split(":")[0].includes("o")).map(s=>s.split(":")[1]),user:t.filter(s=>s.split(":")[0].includes("u")).map(s=>s.split(":")[1])}},s5=e=>{if(!e)return!1;const t=i=>typeof i=="string"?YR[i]:i,s=typeof e=="string"&&e5(e),r=typeof e=="object"&&QR(e.level)&&ZR(e.afterMinutes);return s||r?t.bind(null,e):!1},a5=(e,{factorVerificationAge:t})=>{if(!e.reverification||!t)return null;const s=s5(e.reverification);if(!s)return null;const{level:r,afterMinutes:i}=s(),[c,u]=t,h=c!==-1?i>c:null,p=u!==-1?i>u:null;switch(r){case"first_factor":return h;case"second_factor":return u!==-1?p:h;case"multi_factor":return u===-1?h:h&&p}},i5=e=>t=>{if(!e.userId)return!1;const s=n5(t,e),r=t5(t,e),i=a5(t,e);return[s||r,i].some(c=>c===null)?[s||r,i].some(c=>c===!0):[s||r,i].every(c=>c===!0)},o5=({authObject:{sessionId:e,sessionStatus:t,userId:s,actor:r,orgId:i,orgRole:c,orgSlug:u,signOut:h,getToken:p,has:m,sessionClaims:g},options:{treatPendingAsSignedOut:y=!0}})=>{if(e===void 0&&s===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:e,sessionClaims:void 0,userId:s,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:h,getToken:p};if(e===null&&s===null)return{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:s,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:h,getToken:p};if(y&&t==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:h,getToken:p};if(e&&g&&s&&i&&c)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:g,userId:s,actor:r||null,orgId:i,orgRole:c,orgSlug:u||null,has:m,signOut:h,getToken:p};if(e&&g&&s&&!i)return{isLoaded:!0,isSignedIn:!0,sessionId:e,sessionClaims:g,userId:s,actor:r||null,orgId:null,orgRole:null,orgSlug:null,has:m,signOut:h,getToken:p}},uj=e=>typeof atob<"u"&&typeof atob=="function"?atob(e):typeof global<"u"&&global.Buffer?new global.Buffer(e,"base64").toString():e,l5=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],dj="pk_live_",c5="pk_test_";function hj(e){if(!e.endsWith("$"))return!1;const t=e.slice(0,-1);return t.includes("$")?!1:t.includes(".")}function Jb(e,t={}){if(e=e||"",!e||!pp(e)){if(t.fatal&&!e)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(t.fatal&&!pp(e))throw new Error("Publishable key not valid.");return null}const s=e.startsWith(dj)?"production":"development";let r;try{r=uj(e.split("_")[2])}catch{if(t.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!hj(r)){if(t.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let i=r.slice(0,-1);return t.proxyUrl?i=t.proxyUrl:s!=="development"&&t.domain&&t.isSatellite&&(i=`clerk.${t.domain}`),{instanceType:s,frontendApi:i}}function pp(e=""){try{if(!(e.startsWith(dj)||e.startsWith(c5)))return!1;const s=e.split("_");if(s.length!==3)return!1;const r=s[2];if(!r)return!1;const i=uj(r);return hj(i)}catch{return!1}}function u5(){const e=new Map;return{isDevOrStagingUrl:t=>{if(!t)return!1;const s=typeof t=="string"?t:t.hostname;let r=e.get(s);return r===void 0&&(r=l5.some(i=>s.endsWith(i)),e.set(s,r)),r}}}var d5="METHOD_CALLED",h5=.1;function fj(e,t){return{event:d5,eventSamplingRate:h5,payload:{method:e,...t}}}var pm={exports:{}},gm={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xb;function f5(){if(Xb)return gm;Xb=1;var e=Ol();function t(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var s=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,c=e.useLayoutEffect,u=e.useDebugValue;function h(y,v){var j=v(),A=r({inst:{value:j,getSnapshot:v}}),k=A[0].inst,E=A[1];return c(function(){k.value=j,k.getSnapshot=v,p(k)&&E({inst:k})},[y,j,v]),i(function(){return p(k)&&E({inst:k}),y(function(){p(k)&&E({inst:k})})},[y]),u(j),j}function p(y){var v=y.getSnapshot;y=y.value;try{var j=v();return!s(y,j)}catch{return!0}}function m(y,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return gm.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,gm}var Zb;function m5(){return Zb||(Zb=1,pm.exports=f5()),pm.exports}var mj=m5();const pj=0,gj=1,yj=2,Qb=3;var e1=Object.prototype.hasOwnProperty;function gp(e,t){var s,r;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((r=e.length)===t.length)for(;r--&&gp(e[r],t[r]););return r===-1}if(!s||typeof e=="object"){r=0;for(s in e)if(e1.call(e,s)&&++r&&!e1.call(t,s)||!(s in t)||!gp(e[s],t[s]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const mr=new WeakMap,Xs=()=>{},Qt=Xs(),Yu=Object,Pe=e=>e===Qt,ar=e=>typeof e=="function",ms=(e,t)=>({...e,...t}),xj=e=>ar(e.then),ym={},au={},Fg="undefined",Ll=typeof window!=Fg,yp=typeof document!=Fg,p5=Ll&&"Deno"in window,g5=()=>Ll&&typeof window.requestAnimationFrame!=Fg,Ys=(e,t)=>{const s=mr.get(e);return[()=>!Pe(t)&&e.get(t)||ym,r=>{if(!Pe(t)){const i=e.get(t);t in au||(au[t]=i),s[5](t,ms(i,r),i||ym)}},s[6],()=>!Pe(t)&&t in au?au[t]:!Pe(t)&&e.get(t)||ym]};let xp=!0;const y5=()=>xp,[vp,bp]=Ll&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Xs,Xs],x5=()=>{const e=yp&&document.visibilityState;return Pe(e)||e!=="hidden"},v5=e=>(yp&&document.addEventListener("visibilitychange",e),vp("focus",e),()=>{yp&&document.removeEventListener("visibilitychange",e),bp("focus",e)}),b5=e=>{const t=()=>{xp=!0,e()},s=()=>{xp=!1};return vp("online",t),vp("offline",s),()=>{bp("online",t),bp("offline",s)}},w5={isOnline:y5,isVisible:x5},S5={initFocus:v5,initReconnect:b5},t1=!$.useId,wl=!Ll||p5,j5=e=>g5()?window.requestAnimationFrame(e):setTimeout(e,1),dl=wl?b.useEffect:b.useLayoutEffect,xm=typeof navigator<"u"&&navigator.connection,n1=!wl&&xm&&(["slow-2g","2g"].includes(xm.effectiveType)||xm.saveData),iu=new WeakMap,k5=e=>Yu.prototype.toString.call(e),vm=(e,t)=>e===`[object ${t}]`;let T5=0;const wp=e=>{const t=typeof e,s=k5(e),r=vm(s,"Date"),i=vm(s,"RegExp"),c=vm(s,"Object");let u,h;if(Yu(e)===e&&!r&&!i){if(u=iu.get(e),u)return u;if(u=++T5+"~",iu.set(e,u),Array.isArray(e)){for(u="@",h=0;h<e.length;h++)u+=wp(e[h])+",";iu.set(e,u)}if(c){u="#";const p=Yu.keys(e).sort();for(;!Pe(h=p.pop());)Pe(e[h])||(u+=h+":"+wp(e[h])+",");iu.set(e,u)}}else u=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return u},Ii=e=>{if(ar(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?wp(e):"",[e,t]};let C5=0;const Sp=()=>++C5;async function vj(...e){const[t,s,r,i]=e,c=ms({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let u=c.populateCache;const h=c.rollbackOnError;let p=c.optimisticData;const m=v=>typeof h=="function"?h(v):h!==!1,g=c.throwOnError;if(ar(s)){const v=s,j=[],A=t.keys();for(const k of A)!/^\$(inf|sub)\$/.test(k)&&v(t.get(k)._k)&&j.push(k);return Promise.all(j.map(y))}return y(s);async function y(v){const[j]=Ii(v);if(!j)return;const[A,k]=Ys(t,j),[E,C,R,N]=mr.get(t),D=()=>{const re=E[j];return(ar(c.revalidate)?c.revalidate(A().data,v):c.revalidate!==!1)&&(delete R[j],delete N[j],re&&re[0])?re[0](yj).then(()=>A().data):A().data};if(e.length<3)return D();let P=r,M,U=!1;const _=Sp();C[j]=[_,0];const I=!Pe(p),W=A(),H=W.data,se=W._c,K=Pe(se)?H:se;if(I&&(p=ar(p)?p(K,H):p,k({data:p,_c:K})),ar(P))try{P=P(K)}catch(re){M=re,U=!0}if(P&&xj(P))if(P=await P.catch(re=>{M=re,U=!0}),_!==C[j][0]){if(U)throw M;return P}else U&&I&&m(M)&&(u=!0,k({data:K,_c:Qt}));if(u&&!U)if(ar(u)){const re=u(P,K);k({data:re,error:Qt,_c:Qt})}else k({data:P,error:Qt,_c:Qt});if(C[j][1]=Sp(),Promise.resolve(D()).then(()=>{k({_c:Qt})}),U){if(g)throw M;return}return P}}const r1=(e,t)=>{for(const s in e)e[s][0]&&e[s][0](t)},bj=(e,t)=>{if(!mr.has(e)){const s=ms(S5,t),r=Object.create(null),i=vj.bind(Qt,e);let c=Xs;const u=Object.create(null),h=(g,y)=>{const v=u[g]||[];return u[g]=v,v.push(y),()=>v.splice(v.indexOf(y),1)},p=(g,y,v)=>{e.set(g,y);const j=u[g];if(j)for(const A of j)A(y,v)},m=()=>{if(!mr.has(e)&&(mr.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,p,h]),!wl)){const g=s.initFocus(setTimeout.bind(Qt,r1.bind(Qt,r,pj))),y=s.initReconnect(setTimeout.bind(Qt,r1.bind(Qt,r,gj)));c=()=>{g&&g(),y&&y(),mr.delete(e)}}};return m(),[e,i,m,c]}return[e,mr.get(e)[4]]},E5=(e,t,s,r,i)=>{const c=s.errorRetryCount,u=i.retryCount,h=~~((Math.random()+.5)*(1<<(u<8?u:8)))*s.errorRetryInterval;!Pe(c)&&u>c||setTimeout(r,h,i)},A5=gp,[Ul,wj]=bj(new Map),Sj=ms({onLoadingSlow:Xs,onSuccess:Xs,onError:Xs,onErrorRetry:E5,onDiscarded:Xs,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:n1?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:n1?5e3:3e3,compare:A5,isPaused:()=>!1,cache:Ul,mutate:wj,fallback:{}},w5),jj=(e,t)=>{const s=ms(e,t);if(t){const{use:r,fallback:i}=e,{use:c,fallback:u}=t;r&&c&&(s.use=r.concat(c)),i&&u&&(s.fallback=ms(i,u))}return s},jp=b.createContext({}),N5=e=>{const{value:t}=e,s=b.useContext(jp),r=ar(t),i=b.useMemo(()=>r?t(s):t,[r,s,t]),c=b.useMemo(()=>r?i:jj(s,i),[r,s,i]),u=i&&i.provider,h=b.useRef(Qt);u&&!h.current&&(h.current=bj(u(c.cache||Ul),i));const p=h.current;return p&&(c.cache=p[0],c.mutate=p[1]),dl(()=>{if(p)return p[2]&&p[2](),p[3]},[]),b.createElement(jp.Provider,ms(e,{value:c}))},kj="$inf$",Tj=Ll&&window.__SWR_DEVTOOLS_USE__,R5=Tj?window.__SWR_DEVTOOLS_USE__:[],M5=()=>{Tj&&(window.__SWR_DEVTOOLS_REACT__=$)},Cj=e=>ar(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],Ej=()=>ms(Sj,b.useContext(jp)),_5=(e,t)=>{const[s,r]=Ii(e),[,,,i]=mr.get(Ul);if(i[s])return i[s];const c=t(r);return i[s]=c,c},O5=e=>(t,s,r)=>e(t,s&&((...c)=>{const[u]=Ii(t),[,,,h]=mr.get(Ul);if(u.startsWith(kj))return s(...c);const p=h[u];return Pe(p)?s(...c):(delete h[u],p)}),r),D5=R5.concat(O5),P5=e=>function(...s){const r=Ej(),[i,c,u]=Cj(s),h=jj(r,u);let p=e;const{use:m}=h,g=(m||[]).concat(D5);for(let y=g.length;y--;)p=g[y](p);return p(i,c||h.fetcher||null,h)},z5=(e,t,s)=>{const r=t[e]||(t[e]=[]);return r.push(s),()=>{const i=r.indexOf(s);i>=0&&(r[i]=r[r.length-1],r.pop())}},L5=(e,t)=>(...s)=>{const[r,i,c]=Cj(s),u=(c.use||[]).concat(t);return e(r,i,{...c,use:u})};M5();const U5=()=>{},$5=U5(),kp=Object,s1=e=>e===$5,B5=e=>typeof e=="function",ou=new WeakMap,I5=e=>kp.prototype.toString.call(e),bm=(e,t)=>e===`[object ${t}]`;let F5=0;const Tp=e=>{const t=typeof e,s=I5(e),r=bm(s,"Date"),i=bm(s,"RegExp"),c=bm(s,"Object");let u,h;if(kp(e)===e&&!r&&!i){if(u=ou.get(e),u)return u;if(u=++F5+"~",ou.set(e,u),Array.isArray(e)){for(u="@",h=0;h<e.length;h++)u+=Tp(e[h])+",";ou.set(e,u)}if(c){u="#";const p=kp.keys(e).sort();for(;!s1(h=p.pop());)s1(e[h])||(u+=h+":"+Tp(e[h])+",");ou.set(e,u)}}else u=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return u},V5=e=>{if(B5(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Tp(e):"",[e,t]},H5=e=>V5(e)[0],wm=$.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),Sm={dedupe:!0},G5=(e,t,s)=>{const{cache:r,compare:i,suspense:c,fallbackData:u,revalidateOnMount:h,revalidateIfStale:p,refreshInterval:m,refreshWhenHidden:g,refreshWhenOffline:y,keepPreviousData:v}=s,[j,A,k,E]=mr.get(r),[C,R]=Ii(e),N=b.useRef(!1),D=b.useRef(!1),P=b.useRef(C),M=b.useRef(t),U=b.useRef(s),_=()=>U.current,I=()=>_().isVisible()&&_().isOnline(),[W,H,se,K]=Ys(r,C),re=b.useRef({}).current,Q=Pe(u)?Pe(s.fallback)?Qt:s.fallback[C]:u,B=(He,ge)=>{for(const kt in re){const tt=kt;if(tt==="data"){if(!i(He[tt],ge[tt])&&(!Pe(He[tt])||!i(oe,ge[tt])))return!1}else if(ge[tt]!==He[tt])return!1}return!0},L=b.useMemo(()=>{const He=!C||!t?!1:Pe(h)?_().isPaused()||c?!1:p!==!1:h,ge=dt=>{const qt=ms(dt);return delete qt._k,He?{isValidating:!0,isLoading:!0,...qt}:qt},kt=W(),tt=K(),qe=ge(kt),On=kt===tt?qe:ge(tt);let Ke=qe;return[()=>{const dt=ge(W());return B(dt,Ke)?(Ke.data=dt.data,Ke.isLoading=dt.isLoading,Ke.isValidating=dt.isValidating,Ke.error=dt.error,Ke):(Ke=dt,dt)},()=>On]},[r,C]),V=mj.useSyncExternalStore(b.useCallback(He=>se(C,(ge,kt)=>{B(kt,ge)||He()}),[r,C]),L[0],L[1]),Y=!N.current,z=j[C]&&j[C].length>0,X=V.data,Z=Pe(X)?Q&&xj(Q)?wm(Q):Q:X,F=V.error,ie=b.useRef(Z),oe=v?Pe(X)?Pe(ie.current)?Z:ie.current:X:Z,he=z&&!Pe(F)?!1:Y&&!Pe(h)?h:_().isPaused()?!1:c?Pe(Z)?!1:p:Pe(Z)||p,ye=!!(C&&t&&Y&&he),pe=Pe(V.isValidating)?ye:V.isValidating,Qe=Pe(V.isLoading)?ye:V.isLoading,xt=b.useCallback(async He=>{const ge=M.current;if(!C||!ge||D.current||_().isPaused())return!1;let kt,tt,qe=!0;const On=He||{},Ke=!k[C]||!On.dedupe,dt=()=>t1?!D.current&&C===P.current&&N.current:C===P.current,qt={isValidating:!1,isLoading:!1},$t=()=>{H(qt)},en=()=>{const Kt=k[C];Kt&&Kt[1]===tt&&delete k[C]},vs={isValidating:!0};Pe(W().data)&&(vs.isLoading=!0);try{if(Ke&&(H(vs),s.loadingTimeout&&Pe(W().data)&&setTimeout(()=>{qe&&dt()&&_().onLoadingSlow(C,s)},s.loadingTimeout),k[C]=[ge(R),Sp()]),[kt,tt]=k[C],kt=await kt,Ke&&setTimeout(en,s.dedupingInterval),!k[C]||k[C][1]!==tt)return Ke&&dt()&&_().onDiscarded(C),!1;qt.error=Qt;const Kt=A[C];if(!Pe(Kt)&&(tt<=Kt[0]||tt<=Kt[1]||Kt[1]===0))return $t(),Ke&&dt()&&_().onDiscarded(C),!1;const Mt=W().data;qt.data=i(Mt,kt)?Mt:kt,Ke&&dt()&&_().onSuccess(kt,C,s)}catch(Kt){en();const Mt=_(),{shouldRetryOnError:Pt}=Mt;Mt.isPaused()||(qt.error=Kt,Ke&&dt()&&(Mt.onError(Kt,C,Mt),(Pt===!0||ar(Pt)&&Pt(Kt))&&(!_().revalidateOnFocus||!_().revalidateOnReconnect||I())&&Mt.onErrorRetry(Kt,C,Mt,tn=>{const Tt=j[C];Tt&&Tt[0]&&Tt[0](Qb,tn)},{retryCount:(On.retryCount||0)+1,dedupe:!0})))}return qe=!1,$t(),!0},[C,r]),jt=b.useCallback((...He)=>vj(r,P.current,...He),[]);if(dl(()=>{M.current=t,U.current=s,Pe(X)||(ie.current=X)}),dl(()=>{if(!C)return;const He=xt.bind(Qt,Sm);let ge=0;_().revalidateOnFocus&&(ge=Date.now()+_().focusThrottleInterval);const tt=z5(C,j,(qe,On={})=>{if(qe==pj){const Ke=Date.now();_().revalidateOnFocus&&Ke>ge&&I()&&(ge=Ke+_().focusThrottleInterval,He())}else if(qe==gj)_().revalidateOnReconnect&&I()&&He();else{if(qe==yj)return xt();if(qe==Qb)return xt(On)}});return D.current=!1,P.current=C,N.current=!0,H({_k:R}),he&&(k[C]||(Pe(Z)||wl?He():j5(He))),()=>{D.current=!0,tt()}},[C]),dl(()=>{let He;function ge(){const tt=ar(m)?m(W().data):m;tt&&He!==-1&&(He=setTimeout(kt,tt))}function kt(){!W().error&&(g||_().isVisible())&&(y||_().isOnline())?xt(Sm).then(ge):ge()}return ge(),()=>{He&&(clearTimeout(He),He=-1)}},[m,g,y,C]),b.useDebugValue(oe),c&&Pe(Z)&&C){if(!t1&&wl)throw new Error("Fallback data is required when using Suspense in SSR.");M.current=t,U.current=s,D.current=!1;const He=E[C];if(!Pe(He)){const ge=jt(He);wm(ge)}if(Pe(F)){const ge=xt(Sm);Pe(oe)||(ge.status="fulfilled",ge.value=!0),wm(ge)}else throw F}return{mutate:jt,get data(){return re.data=!0,oe},get error(){return re.error=!0,F},get isValidating(){return re.isValidating=!0,pe},get isLoading(){return re.isLoading=!0,Qe}}},W5=Yu.defineProperty(N5,"defaultValue",{value:Sj}),Vg=P5(G5),q5=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:W5,default:Vg,mutate:wj,preload:_5,unstable_serialize:H5,useSWRConfig:Ej},Symbol.toStringTag,{value:"Module"})),K5=()=>{},Y5=K5(),Cp=Object,a1=e=>e===Y5,J5=e=>typeof e=="function",lu=new WeakMap,X5=e=>Cp.prototype.toString.call(e),jm=(e,t)=>e===`[object ${t}]`;let Z5=0;const Ep=e=>{const t=typeof e,s=X5(e),r=jm(s,"Date"),i=jm(s,"RegExp"),c=jm(s,"Object");let u,h;if(Cp(e)===e&&!r&&!i){if(u=lu.get(e),u)return u;if(u=++Z5+"~",lu.set(e,u),Array.isArray(e)){for(u="@",h=0;h<e.length;h++)u+=Ep(e[h])+",";lu.set(e,u)}if(c){u="#";const p=Cp.keys(e).sort();for(;!a1(h=p.pop());)a1(e[h])||(u+=h+":"+Ep(e[h])+",");lu.set(e,u)}}else u=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return u},Q5=e=>{if(J5(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ep(e):"",[e,t]},eM=e=>Q5(e?e(0,null):null)[0],km=Promise.resolve(),tM=e=>(t,s,r)=>{const i=b.useRef(!1),{cache:c,initialSize:u=1,revalidateAll:h=!1,persistSize:p=!1,revalidateFirstPage:m=!0,revalidateOnMount:g=!1,parallel:y=!1}=r,[,,,v]=mr.get(Ul);let j;try{j=eM(t),j&&(j=kj+j)}catch{}const[A,k,E]=Ys(c,j),C=b.useCallback(()=>Pe(A()._l)?u:A()._l,[c,j,u]);mj.useSyncExternalStore(b.useCallback(_=>j?E(j,()=>{_()}):()=>{},[c,j]),C,C);const R=b.useCallback(()=>{const _=A()._l;return Pe(_)?u:_},[j,u]),N=b.useRef(R());dl(()=>{if(!i.current){i.current=!0;return}j&&k({_l:p?N.current:R()})},[j,c]);const D=g&&!i.current,P=e(j,async _=>{const I=A()._i,W=A()._r;k({_r:Qt});const H=[],se=R(),[K]=Ys(c,_),re=K().data,Q=[];let B=null;for(let L=0;L<se;++L){const[V,Y]=Ii(t(L,y?null:B));if(!V)break;const[z,X]=Ys(c,V);let Z=z().data;const F=h||I||Pe(Z)||m&&!L&&!Pe(re)||D||re&&!Pe(re[L])&&!r.compare(re[L],Z);if(s&&(typeof W=="function"?W(Z,Y):F)){const ie=async()=>{if(!(V in v))Z=await s(Y);else{const he=v[V];delete v[V],Z=await he}X({data:Z,_k:Y}),H[L]=Z};y?Q.push(ie):await ie()}else H[L]=Z;y||(B=Z)}return y&&await Promise.all(Q.map(L=>L())),k({_i:Qt}),H},r),M=b.useCallback(function(_,I){const W=typeof I=="boolean"?{revalidate:I}:I||{},H=W.revalidate!==!1;return j?(H&&(Pe(_)?k({_i:!0,_r:W.revalidate}):k({_i:!1,_r:W.revalidate})),arguments.length?P.mutate(_,{...W,revalidate:H}):P.mutate()):km},[j,c]),U=b.useCallback(_=>{if(!j)return km;const[,I]=Ys(c,j);let W;if(ar(_)?W=_(R()):typeof _=="number"&&(W=_),typeof W!="number")return km;I({_l:W}),N.current=W;const H=[],[se]=Ys(c,j);let K=null;for(let re=0;re<W;++re){const[Q]=Ii(t(re,K)),[B]=Ys(c,Q),L=Q?B().data:Qt;if(Pe(L))return M(se().data);H.push(L),K=L}return M(H)},[j,c,M,R]);return{size:R(),setSize:U,mutate:M,get data(){return P.data},get error(){return P.error},get isValidating(){return P.isValidating},get isLoading(){return P.isLoading}}},nM=L5(Vg,tM);var i1=Object.prototype.hasOwnProperty;function o1(e,t,s){for(s of e.keys())if(hl(s,t))return s}function hl(e,t){var s,r,i;if(e===t)return!0;if(e&&t&&(s=e.constructor)===t.constructor){if(s===Date)return e.getTime()===t.getTime();if(s===RegExp)return e.toString()===t.toString();if(s===Array){if((r=e.length)===t.length)for(;r--&&hl(e[r],t[r]););return r===-1}if(s===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=o1(t,i),!i)||!t.has(i))return!1;return!0}if(s===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=o1(t,i),!i)||!hl(r[1],t.get(i)))return!1;return!0}if(s===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(s===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!s||typeof e=="object"){r=0;for(s in e)if(i1.call(e,s)&&++r&&!i1.call(t,s)||!(s in t)||!hl(e[s],t[s]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function rM(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var $r=(e,t)=>{const{assertCtxFn:s=rM}={},r=$.createContext(void 0);return r.displayName=e,[r,()=>{const u=$.useContext(r);return s(u,`${e} not found`),u.value},()=>{const u=$.useContext(r);return u?u.value:{}}]},Hg={};WR(Hg,{useSWR:()=>Vg,useSWRInfinite:()=>nM});KR(Hg,q5);var[Aj,Nj]=$r("ClerkInstanceContext"),[sM,aM]=$r("UserContext"),[iM,v7]=$r("ClientContext"),[oM,b7]=$r("SessionContext");$.createContext({});var[lM,w7]=$r("CheckoutContext"),cM=({children:e,...t})=>$.createElement(lM.Provider,{value:{value:t}},e),[uM,S7]=$r("OrganizationContext"),dM=({children:e,organization:t,swrConfig:s})=>$.createElement(Hg.SWRConfig,{value:s},$.createElement(uM.Provider,{value:{value:{organization:t}}},e));function Rj(e){if(!$.useContext(Aj)){if(typeof e=="function"){e();return}throw new Error(`${e} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?$.useLayoutEffect:$.useEffect;var l1="useUser";function Yi(){var s;Rj(l1);const e=aM();return(s=Nj().telemetry)==null||s.record(fj(l1)),e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}var c1=hl,hM=e=>{const t=b.useRef(e);return b.useEffect(()=>{t.current=e},[e]),t.current},In=(e,t,s)=>{const r=!!s,i=b.useRef(s);b.useEffect(()=>{i.current=s},[s]),b.useEffect(()=>{if(!r||!e)return()=>{};const c=(...u)=>{i.current&&i.current(...u)};return e.on(t,c),()=>{e.off(t,c)}},[r,t,e,i])},Mj=$.createContext(null);Mj.displayName="ElementsContext";var fM=(e,t)=>{if(!e)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${t} in an <Elements> provider.`);return e},Ju=e=>e!==null&&typeof e=="object",mM=(e,t,s)=>Ju(e)?Object.keys(e).reduce((r,i)=>{const c=!Ju(t)||!_j(e[i],t[i]);return s.includes(i)?(c&&console.warn(`Unsupported prop change: options.${i} is not a mutable property.`),r):c?{...r||{},[i]:e[i]}:r},null):null,u1="[object Object]",_j=(e,t)=>{if(!Ju(e)||!Ju(t))return e===t;const s=Array.isArray(e),r=Array.isArray(t);if(s!==r)return!1;const i=Object.prototype.toString.call(e)===u1,c=Object.prototype.toString.call(t)===u1;if(i!==c)return!1;if(!i&&!s)return e===t;const u=Object.keys(e),h=Object.keys(t);if(u.length!==h.length)return!1;const p={};for(let j=0;j<u.length;j+=1)p[u[j]]=!0;for(let j=0;j<h.length;j+=1)p[h[j]]=!0;const m=Object.keys(p);if(m.length!==u.length)return!1;const g=e,y=t,v=j=>_j(g[j],y[j]);return m.every(v)},d1=e=>{const t=$.useContext(Mj);return fM(t,e)},pM=e=>e.charAt(0).toUpperCase()+e.slice(1),gM=(e,t)=>{const s=`${pM(e)}Element`,c=t?u=>{d1(`mounts <${s}>`);const{id:h,className:p}=u;return $.createElement("div",{id:h,className:p})}:({id:u,className:h,fallback:p,options:m={},onBlur:g,onFocus:y,onReady:v,onChange:j,onEscape:A,onClick:k,onLoadError:E,onLoaderStart:C,onNetworksChange:R,onConfirm:N,onCancel:D,onShippingAddressChange:P,onShippingRateChange:M})=>{const U=d1(`mounts <${s}>`),_="elements"in U?U.elements:null,[I,W]=$.useState(null),H=$.useRef(null),se=$.useRef(null),[K,re]=b.useState(!1);In(I,"blur",g),In(I,"focus",y),In(I,"escape",A),In(I,"click",k),In(I,"loaderror",E),In(I,"loaderstart",C),In(I,"networkschange",R),In(I,"confirm",N),In(I,"cancel",D),In(I,"shippingaddresschange",P),In(I,"shippingratechange",M),In(I,"change",j);let Q;v&&(Q=()=>{re(!0),v(I)}),In(I,"ready",Q),$.useLayoutEffect(()=>{if(H.current===null&&se.current!==null&&_){let L=null;_&&(L=_.create(e,m)),H.current=L,W(L),L&&L.mount(se.current)}},[_,m]);const B=hM(m);return $.useEffect(()=>{if(!H.current)return;const L=mM(m,B,["paymentRequest"]);L&&"update"in H.current&&H.current.update(L)},[m,B]),$.useLayoutEffect(()=>()=>{if(H.current&&typeof H.current.destroy=="function")try{H.current.destroy(),H.current=null}catch{}},[]),$.createElement($.Fragment,null,!K&&p,$.createElement("div",{id:u,style:{height:K?"unset":"0px",visibility:K?"visible":"hidden"},className:h,ref:se}))};return c.displayName=s,c.__elementType=e,c},yM=typeof window>"u";gM("payment",yM);$r("StripeLibsContext");$r("PaymentElementContext");$r("StripeUtilsContext");var yr=lj({packageName:"@clerk/clerk-react"});function xM(e){yr.setMessages(e).setPackageName(e)}var[vM,bM]=$r("AuthContext"),wM=Aj,Oj=Nj,SM="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",jM=e=>`You've passed multiple children components to <${e}/>. You can only pass a single child component or text.`,kM="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",Tm="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",TM="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",CM="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",EM="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",AM="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",NM=e=>`<${e} /> can only accept <${e}.Page /> and <${e}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,RM=e=>`Missing props. <${e}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,MM=e=>`Missing props. <${e}.Link /> component requires the following props: url, label and labelIcon.`,_M="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",OM="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",DM="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",PM="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",zM="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",LM="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",UM="Missing props. <UserButton.Action /> component requires the following props: label.",vd=e=>{Rj(()=>{yr.throwMissingClerkProviderError({source:e})})},Dj=e=>new Promise(t=>{const s=r=>{["ready","degraded"].includes(r)&&(t(),e.off("status",s))};e.on("status",s,{notify:!0})}),$M=e=>async t=>(await Dj(e),e.session?e.session.getToken(t):null),BM=e=>async(...t)=>(await Dj(e),e.signOut(...t)),vr=(e={})=>{var t;vd("useAuth");const{treatPendingAsSignedOut:s,...r}=e??{},i=r;let u=bM();u.sessionId===void 0&&u.userId===void 0&&(u=i??{});const h=Oj(),p=b.useCallback($M(h),[h]),m=b.useCallback(BM(h),[h]);return(t=h.telemetry)==null||t.record(fj("useAuth",{treatPendingAsSignedOut:s})),IM({...u,getToken:p,signOut:m},{treatPendingAsSignedOut:s})};function IM(e,{treatPendingAsSignedOut:t=!0}={}){const{userId:s,orgId:r,orgRole:i,has:c,signOut:u,getToken:h,orgPermissions:p,factorVerificationAge:m,sessionClaims:g}=e??{},y=b.useCallback(j=>c?c(j):i5({userId:s,orgId:r,orgRole:i,orgPermissions:p,factorVerificationAge:m,features:(g==null?void 0:g.fea)||"",plans:(g==null?void 0:g.pla)||""})(j),[c,s,r,i,p,m]),v=o5({authObject:{...e,getToken:h,signOut:u,has:y},options:{treatPendingAsSignedOut:t}});return v||yr.throw(kM)}var St=(e,t)=>{const r=(typeof t=="string"?t:t==null?void 0:t.component)||e.displayName||e.name||"Component";e.displayName=r;const i=typeof t=="string"?void 0:t,c=u=>{vd(r||"withClerk");const h=Oj();return!h.loaded&&!(i!=null&&i.renderWhileLoading)?null:$.createElement(e,{...u,component:r,clerk:h})};return c.displayName=`withClerk(${r})`,c},FM=()=>{try{return!1}catch{}return!1},VM=()=>{try{return!1}catch{}return!1},HM=()=>{try{return!0}catch{}return!1},h1=new Set,Gg=(e,t,s)=>{const r=VM()||HM(),i=e;h1.has(i)||r||(h1.add(i),console.warn(`Clerk - DEPRECATION WARNING: "${e}" is deprecated and will be removed in the next major release.
${t}`))},ea=({children:e,treatPendingAsSignedOut:t})=>{vd("SignedIn");const{userId:s}=vr({treatPendingAsSignedOut:t});return s?e:null},za=({children:e,treatPendingAsSignedOut:t})=>{vd("SignedOut");const{userId:s}=vr({treatPendingAsSignedOut:t});return s===null?e:null};St(({clerk:e,...t})=>{const{client:s,session:r}=e,i=s.signedInSessions?s.signedInSessions.length>0:s.activeSessions&&s.activeSessions.length>0;return $.useEffect(()=>{r===null&&i?e.redirectToAfterSignOut():e.redirectToSignIn(t)},[]),null},"RedirectToSignIn");St(({clerk:e,...t})=>($.useEffect(()=>{e.redirectToSignUp(t)},[]),null),"RedirectToSignUp");St(({clerk:e,...t})=>($.useEffect(()=>{e.redirectToTasks(t)},[]),null),"RedirectToTasks");St(({clerk:e})=>($.useEffect(()=>{Gg("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),e.redirectToUserProfile()},[]),null),"RedirectToUserProfile");St(({clerk:e})=>($.useEffect(()=>{Gg("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),e.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");St(({clerk:e})=>($.useEffect(()=>{Gg("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),e.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");St(({clerk:e,...t})=>($.useEffect(()=>{e.handleRedirectCallback(t)},[]),null),"AuthenticateWithRedirectCallback");var Sn=e=>{FM()&&console.error(`Clerk: ${e}`)};function Cm(e,t,s){if(typeof e=="function")return e(t);if(typeof e<"u")return e;if(typeof s<"u")return s}var f1=(e,...t)=>{const s={...e};for(const r of t)delete s[r];return s},bd=e=>t=>{try{return $.Children.only(e)}catch{return yr.throw(jM(t))}},wd=(e,t)=>(e||(e=t),typeof e=="string"&&(e=$.createElement("button",null,e)),e),Sd=e=>(...t)=>{if(e&&typeof e=="function")return e(...t)};function GM(e){return typeof e=="function"}var cu=new Map;function WM(e,t,s=1){$.useEffect(()=>{const r=cu.get(e)||0;return r==s?yr.throw(t):(cu.set(e,r+1),()=>{cu.set(e,(cu.get(e)||1)-1)})},[])}function qM(e,t,s){const r=e.displayName||e.name||t||"Component",i=c=>(WM(t,s),$.createElement(e,{...c}));return i.displayName=`withMaxAllowedInstancesGuard(${r})`,i}var fl=e=>{const[t,s]=b.useState(new Map);return e.map(r=>({id:r.id,mount:i=>s(c=>new Map(c).set(String(r.id),i)),unmount:()=>s(i=>{const c=new Map(i);return c.set(String(r.id),null),c}),portal:()=>{const i=t.get(String(r.id));return i?Ig.createPortal(r.component,i):null}}))},wn=(e,t)=>!!e&&$.isValidElement(e)&&(e==null?void 0:e.type)===t,Pj=(e,t)=>Uj({children:e,reorderItemsLabels:["account","security"],LinkComponent:Bl,PageComponent:$l,MenuItemsComponent:kd,componentName:"UserProfile"},t),zj=(e,t)=>Uj({children:e,reorderItemsLabels:["general","members"],LinkComponent:Cd,PageComponent:Td,componentName:"OrganizationProfile"},t),Lj=e=>{const t=[],s=[Cd,Td,kd,$l,Bl];return $.Children.forEach(e,r=>{s.some(i=>wn(r,i))||t.push(r)}),t},Uj=(e,t)=>{const{children:s,LinkComponent:r,PageComponent:i,MenuItemsComponent:c,reorderItemsLabels:u,componentName:h}=e,{allowForAnyChildren:p=!1}=t||{},m=[];$.Children.forEach(s,R=>{if(!wn(R,i)&&!wn(R,r)&&!wn(R,c)){R&&!p&&Sn(NM(h));return}const{props:N}=R,{children:D,label:P,url:M,labelIcon:U}=N;if(wn(R,i))if(m1(N,u))m.push({label:P});else if(Em(N))m.push({label:P,labelIcon:U,children:D,url:M});else{Sn(RM(h));return}if(wn(R,r))if(Am(N))m.push({label:P,labelIcon:U,url:M});else{Sn(MM(h));return}});const g=[],y=[],v=[];m.forEach((R,N)=>{if(Em(R)){g.push({component:R.children,id:N}),y.push({component:R.labelIcon,id:N});return}Am(R)&&v.push({component:R.labelIcon,id:N})});const j=fl(g),A=fl(y),k=fl(v),E=[],C=[];return m.forEach((R,N)=>{if(m1(R,u)){E.push({label:R.label});return}if(Em(R)){const{portal:D,mount:P,unmount:M}=j.find(W=>W.id===N),{portal:U,mount:_,unmount:I}=A.find(W=>W.id===N);E.push({label:R.label,url:R.url,mount:P,unmount:M,mountIcon:_,unmountIcon:I}),C.push(D),C.push(U);return}if(Am(R)){const{portal:D,mount:P,unmount:M}=k.find(U=>U.id===N);E.push({label:R.label,url:R.url,mountIcon:P,unmountIcon:M}),C.push(D);return}}),{customPages:E,customPagesPortals:C}},m1=(e,t)=>{const{children:s,label:r,url:i,labelIcon:c}=e;return!s&&!i&&!c&&t.some(u=>u===r)},Em=e=>{const{children:t,label:s,url:r,labelIcon:i}=e;return!!t&&!!r&&!!i&&!!s},Am=e=>{const{children:t,label:s,url:r,labelIcon:i}=e;return!t&&!!r&&!!i&&!!s},KM=(e,t)=>{var s;return YM({children:e,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:kd,MenuActionComponent:Bj,MenuLinkComponent:Ij,UserProfileLinkComponent:Bl,UserProfilePageComponent:$l,allowForAnyChildren:(s=t==null?void 0:t.allowForAnyChildren)!=null?s:!1})},YM=({children:e,MenuItemsComponent:t,MenuActionComponent:s,MenuLinkComponent:r,UserProfileLinkComponent:i,UserProfilePageComponent:c,reorderItemsLabels:u,allowForAnyChildren:h=!1})=>{const p=[],m=[],g=[];$.Children.forEach(e,k=>{if(!wn(k,t)&&!wn(k,i)&&!wn(k,c)){k&&!h&&Sn(_M);return}if(wn(k,i)||wn(k,c))return;const{props:E}=k;$.Children.forEach(E.children,C=>{if(!wn(C,s)&&!wn(C,r)){C&&Sn(OM);return}const{props:R}=C,{label:N,labelIcon:D,href:P,onClick:M,open:U}=R;if(wn(C,s))if(p1(R,u))p.push({label:N});else if(Nm(R)){const _={label:N,labelIcon:D};if(M!==void 0)p.push({..._,onClick:M});else if(U!==void 0)p.push({..._,open:U.startsWith("/")?U:`/${U}`});else{Sn("Custom menu item must have either onClick or open property");return}}else{Sn(UM);return}if(wn(C,r))if(Rm(R))p.push({label:N,labelIcon:D,href:P});else{Sn(LM);return}})});const y=[],v=[];p.forEach((k,E)=>{Nm(k)&&y.push({component:k.labelIcon,id:E}),Rm(k)&&v.push({component:k.labelIcon,id:E})});const j=fl(y),A=fl(v);return p.forEach((k,E)=>{if(p1(k,u)&&m.push({label:k.label}),Nm(k)){const{portal:C,mount:R,unmount:N}=j.find(P=>P.id===E),D={label:k.label,mountIcon:R,unmountIcon:N};"onClick"in k?D.onClick=k.onClick:"open"in k&&(D.open=k.open),m.push(D),g.push(C)}if(Rm(k)){const{portal:C,mount:R,unmount:N}=A.find(D=>D.id===E);m.push({label:k.label,href:k.href,mountIcon:R,unmountIcon:N}),g.push(C)}}),{customMenuItems:m,customMenuItemsPortals:g}},p1=(e,t)=>{const{children:s,label:r,onClick:i,labelIcon:c}=e;return!s&&!i&&!c&&t.some(u=>u===r)},Nm=e=>{const{label:t,labelIcon:s,onClick:r,open:i}=e;return!!s&&!!t&&(typeof r=="function"||typeof i=="string")},Rm=e=>{const{label:t,href:s,labelIcon:r}=e;return!!s&&!!r&&!!t},JM=e=>{const t=e==null?void 0:e.isReady;return s=>new Promise((r,i)=>{const{root:c=document==null?void 0:document.body,selector:u,timeout:h=0}=s;if(!c){i(new Error("No root element provided"));return}let p=c;if(u&&(p=c==null?void 0:c.querySelector(u)),t(p,u)){r();return}const m=new MutationObserver(g=>{for(const y of g)if(!p&&u&&(p=c==null?void 0:c.querySelector(u)),(e.childList&&y.type==="childList"||e.attributes&&y.type==="attributes")&&t(p,u)){m.disconnect(),r();return}});m.observe(c,e),h>0&&setTimeout(()=>{m.disconnect(),i(new Error(`Timeout waiting for ${u}`))},h)})},XM=JM({childList:!0,subtree:!0,isReady:(e,t)=>{var s;return!!(e!=null&&e.childElementCount)&&((s=e==null?void 0:e.matches)==null?void 0:s.call(e,t))&&e.childElementCount>0}});function Hn(e,t){const s=b.useRef(),[r,i]=b.useState("rendering");return b.useEffect(()=>{if(!e)throw new Error("Clerk: no component name provided, unable to detect mount.");if(typeof window<"u"&&!s.current){const c=`[data-clerk-component="${e}"]`,u=t==null?void 0:t.selector;s.current=XM({selector:u?c+u:c}).then(()=>{i("rendered")}).catch(()=>{i("error")})}},[e,t==null?void 0:t.selector]),r}var uu=e=>"mount"in e,g1=e=>"open"in e,y1=e=>e==null?void 0:e.map(({mountIcon:t,unmountIcon:s,...r})=>r),kn=class extends $.PureComponent{constructor(){super(...arguments),this.rootRef=$.createRef()}componentDidUpdate(e){var t,s,r,i;if(!uu(e)||!uu(this.props))return;const c=f1(e.props,"customPages","customMenuItems","children"),u=f1(this.props.props,"customPages","customMenuItems","children"),h=((t=c.customPages)==null?void 0:t.length)!==((s=u.customPages)==null?void 0:s.length),p=((r=c.customMenuItems)==null?void 0:r.length)!==((i=u.customMenuItems)==null?void 0:i.length),m=y1(e.props.customMenuItems),g=y1(this.props.props.customMenuItems);(!c1(c,u)||!c1(m,g)||h||p)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(uu(this.props)&&this.props.mount(this.rootRef.current,this.props.props),g1(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(uu(this.props)&&this.props.unmount(this.rootRef.current),g1(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:e=!1}=this.props,t={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return $.createElement($.Fragment,null,!e&&$.createElement("div",{...t}),this.props.children)}},jd=e=>{var t,s;return $.createElement($.Fragment,null,(t=e==null?void 0:e.customPagesPortals)==null?void 0:t.map((r,i)=>b.createElement(r,{key:i})),(s=e==null?void 0:e.customMenuItemsPortals)==null?void 0:s.map((r,i)=>b.createElement(r,{key:i})))},ZM=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountSignIn,unmount:e.unmountSignIn,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"SignIn",renderWhileLoading:!0}),QM=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountSignUp,unmount:e.unmountSignUp,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"SignUp",renderWhileLoading:!0});function $l({children:e}){return Sn(TM),$.createElement($.Fragment,null,e)}function Bl({children:e}){return Sn(CM),$.createElement($.Fragment,null,e)}var e_=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}},{customPages:h,customPagesPortals:p}=Pj(r.children);return $.createElement($.Fragment,null,c&&s,$.createElement(kn,{component:t,mount:e.mountUserProfile,unmount:e.unmountUserProfile,updateProps:e.__unstable__updateProps,props:{...r,customPages:h},rootProps:u},$.createElement(jd,{customPagesPortals:p})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(e_,{Page:$l,Link:Bl});var $j=b.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),t_=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}},{customPages:h,customPagesPortals:p}=Pj(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),m=Object.assign(r.userProfileProps||{},{customPages:h}),{customMenuItems:g,customMenuItemsPortals:y}=KM(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),v=Lj(r.children),j={mount:e.mountUserButton,unmount:e.unmountUserButton,updateProps:e.__unstable__updateProps,props:{...r,userProfileProps:m,customMenuItems:g}},A={customPagesPortals:p,customMenuItemsPortals:y};return $.createElement($j.Provider,{value:j},c&&s,e.loaded&&$.createElement(kn,{component:t,...j,hideRootHtmlElement:!!r.__experimental_asProvider,rootProps:u},r.__experimental_asProvider?v:null,$.createElement(jd,{...A})))},{component:"UserButton",renderWhileLoading:!0});function kd({children:e}){return Sn(DM),$.createElement($.Fragment,null,e)}function Bj({children:e}){return Sn(PM),$.createElement($.Fragment,null,e)}function Ij({children:e}){return Sn(zM),$.createElement($.Fragment,null,e)}function n_(e){const t=b.useContext($j),s={...t,props:{...t.props,...e}};return $.createElement(kn,{...s})}var Fj=Object.assign(t_,{UserProfilePage:$l,UserProfileLink:Bl,MenuItems:kd,Action:Bj,Link:Ij,__experimental_Outlet:n_});function Td({children:e}){return Sn(EM),$.createElement($.Fragment,null,e)}function Cd({children:e}){return Sn(AM),$.createElement($.Fragment,null,e)}var r_=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}},{customPages:h,customPagesPortals:p}=zj(r.children);return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountOrganizationProfile,unmount:e.unmountOrganizationProfile,updateProps:e.__unstable__updateProps,props:{...r,customPages:h},rootProps:u},$.createElement(jd,{customPagesPortals:p})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(r_,{Page:Td,Link:Cd});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountCreateOrganization,unmount:e.unmountCreateOrganization,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"CreateOrganization",renderWhileLoading:!0});var Vj=b.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),s_=St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}},{customPages:h,customPagesPortals:p}=zj(r.children,{allowForAnyChildren:!!r.__experimental_asProvider}),m=Object.assign(r.organizationProfileProps||{},{customPages:h}),g=Lj(r.children),y={mount:e.mountOrganizationSwitcher,unmount:e.unmountOrganizationSwitcher,updateProps:e.__unstable__updateProps,props:{...r,organizationProfileProps:m},rootProps:u,component:t};return e.__experimental_prefetchOrganizationSwitcher(),$.createElement(Vj.Provider,{value:y},$.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{...y,hideRootHtmlElement:!!r.__experimental_asProvider},r.__experimental_asProvider?g:null,$.createElement(jd,{customPagesPortals:p}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function a_(e){const t=b.useContext(Vj),s={...t,props:{...t.props,...e}};return $.createElement(kn,{...s})}Object.assign(s_,{OrganizationProfilePage:Td,OrganizationProfileLink:Cd,__experimental_Outlet:a_});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountOrganizationList,unmount:e.unmountOrganizationList,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"OrganizationList",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,open:e.openGoogleOneTap,close:e.closeGoogleOneTap,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"GoogleOneTap",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountWaitlist,unmount:e.unmountWaitlist,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"Waitlist",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t,{selector:'[data-component-status="ready"]'})==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountPricingTable,unmount:e.unmountPricingTable,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"PricingTable",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountApiKeys,unmount:e.unmountApiKeys,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"ApiKeys",renderWhileLoading:!0});St(({clerk:e,component:t,fallback:s,...r})=>{const c=Hn(t)==="rendering"||!e.loaded,u={...c&&s&&{style:{display:"none"}}};return $.createElement($.Fragment,null,c&&s,e.loaded&&$.createElement(kn,{component:t,mount:e.mountTaskChooseOrganization,unmount:e.unmountTaskChooseOrganization,updateProps:e.__unstable__updateProps,props:r,rootProps:u}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var Hj=e=>{throw TypeError(e)},Wg=(e,t,s)=>t.has(e)||Hj("Cannot "+s),bt=(e,t,s)=>(Wg(e,t,"read from private field"),s?s.call(e):t.get(e)),Hs=(e,t,s)=>t.has(e)?Hj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),Sa=(e,t,s,r)=>(Wg(e,t,"write to private field"),t.set(e,s),s),Mm=(e,t,s)=>(Wg(e,t,"access private method"),s),i_=(e,t="5.92.0")=>{if(e)return e;const s=o_(t);return s?s==="snapshot"?"5.92.0":s:l_(t)},o_=e=>{var t;return(t=e.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:t[1]},l_=e=>e.trim().replace(/^v/,"").split(".")[0];function c_(e){return e?u_(e)||Gj(e):!0}function u_(e){return/^http(s)?:\/\//.test(e||"")}function Gj(e){return e.startsWith("/")}function d_(e){return e?Gj(e)?new URL(e,window.location.origin).toString():e:""}function h_(e){if(!e)return"";let t;if(e.match(/^(clerk\.)+\w*$/))t=/(clerk\.)*(?=clerk\.)/;else{if(e.match(/\.clerk.accounts/))return e;t=/^(clerk\.)*/gi}return`clerk.${e.replace(t,"")}`}var f_={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(e,t)=>t<5,retryImmediately:!1,jitter:!0},m_=100,Wj=async e=>new Promise(t=>setTimeout(t,e)),qj=(e,t)=>t?e*(1+Math.random()):e,p_=e=>{let t=0;const s=()=>{const r=e.initialDelay,i=e.factor;let c=r*Math.pow(i,t);return c=qj(c,e.jitter),Math.min(e.maxDelayBetweenRetries||c,c)};return async()=>{await Wj(s()),t++}},g_=async(e,t={})=>{let s=0;const{shouldRetry:r,initialDelay:i,maxDelayBetweenRetries:c,factor:u,retryImmediately:h,jitter:p}={...f_,...t},m=p_({initialDelay:i,maxDelayBetweenRetries:c,factor:u,jitter:p});for(;;)try{return await e()}catch(g){if(s++,!r(g,s))throw g;h&&s===1?await Wj(qj(m_,p)):await m()}},y_="loadScript cannot be called when document does not exist",x_="loadScript cannot be called without a src";async function v_(e="",t){const{async:s,defer:r,beforeLoad:i,crossOrigin:c,nonce:u}=t||{};return g_(()=>new Promise((p,m)=>{e||m(new Error(x_)),(!document||!document.body)&&m(y_);const g=document.createElement("script");c&&g.setAttribute("crossorigin",c),g.async=s||!1,g.defer=r||!1,g.addEventListener("load",()=>{g.remove(),p(g)}),g.addEventListener("error",()=>{g.remove(),m()}),g.src=e,g.nonce=u,i==null||i(g),document.body.appendChild(g)}),{shouldRetry:(p,m)=>m<=5})}var Kj="Clerk: Failed to load Clerk",{isDevOrStagingUrl:b_}=u5(),Yj=lj({packageName:"@clerk/shared"});function w_(e){Yj.setPackageName({packageName:e})}function Ap(){if(typeof window>"u"||!window.Clerk)return!1;const e=window.Clerk;return typeof e=="object"&&typeof e.load=="function"}function x1(e){return new Promise((t,s)=>{let r=!1;const i=(m,g)=>{clearTimeout(m),clearInterval(g)},c=()=>{r||Ap()&&(r=!0,i(h,p),t(null))},h=setTimeout(()=>{r||(r=!0,i(h,p),Ap()?t(null):s(new Error(Kj)))},e);c();const p=setInterval(()=>{if(r){clearInterval(p);return}c()},100)})}var S_=async e=>{const t=(e==null?void 0:e.scriptLoadTimeout)??15e3;if(Ap())return null;if(document.querySelector("script[data-clerk-js-script]"))return x1(t);if(!(e!=null&&e.publishableKey))return Yj.throwMissingPublishableKeyError(),null;const r=x1(t);return v_(j_(e),{async:!0,crossOrigin:"anonymous",nonce:e.nonce,beforeLoad:T_(e)}).catch(()=>{throw new Error(Kj)}),r},j_=e=>{var g,y;const{clerkJSUrl:t,clerkJSVariant:s,clerkJSVersion:r,proxyUrl:i,domain:c,publishableKey:u}=e;if(t)return t;let h="";i&&c_(i)?h=d_(i).replace(/http(s)?:\/\//,""):c&&!b_(((g=Jb(u))==null?void 0:g.frontendApi)||"")?h=h_(c):h=((y=Jb(u))==null?void 0:y.frontendApi)||"";const p=s?`${s.replace(/\.+$/,"")}.`:"",m=i_(r);return`https://${h}/npm/@clerk/clerk-js@${m}/dist/clerk.${p}browser.js`},k_=e=>{const t={};return e.publishableKey&&(t["data-clerk-publishable-key"]=e.publishableKey),e.proxyUrl&&(t["data-clerk-proxy-url"]=e.proxyUrl),e.domain&&(t["data-clerk-domain"]=e.domain),e.nonce&&(t.nonce=e.nonce),t},T_=e=>t=>{const s=k_(e);for(const r in s)t.setAttribute(r,s[r])},C_=(e,t,s)=>!e&&s?E_(s):A_(t),E_=e=>{const t=e.userId,s=e.user,r=e.sessionId,i=e.sessionStatus,c=e.sessionClaims,u=e.session,h=e.organization,p=e.orgId,m=e.orgRole,g=e.orgPermissions,y=e.orgSlug,v=e.actor,j=e.factorVerificationAge;return{userId:t,user:s,sessionId:r,session:u,sessionStatus:i,sessionClaims:c,organization:h,orgId:p,orgRole:m,orgPermissions:g,orgSlug:y,actor:v,factorVerificationAge:j}},A_=e=>{var k,E,C,R;const t=e.user?e.user.id:e.user,s=e.user,r=e.session?e.session.id:e.session,i=e.session,c=(k=e.session)==null?void 0:k.status,u=e.session?(C=(E=e.session.lastActiveToken)==null?void 0:E.jwt)==null?void 0:C.claims:null,h=e.session?e.session.factorVerificationAge:null,p=i==null?void 0:i.actor,m=e.organization,g=e.organization?e.organization.id:e.organization,y=m==null?void 0:m.slug,v=m&&((R=s==null?void 0:s.organizationMemberships)==null?void 0:R.find(N=>N.organization.id===g)),j=v&&v.permissions,A=v&&v.role;return{userId:t,user:s,sessionId:r,session:i,sessionStatus:c,sessionClaims:u,organization:m,orgId:g,orgRole:A,orgSlug:y,orgPermissions:j,actor:p,factorVerificationAge:h}};function Xu(){return typeof window<"u"}var v1=(e,t,s,r,i)=>{const{notify:c}=i||{};let u=e.get(s);u||(u=[],e.set(s,u)),u.push(r),c&&t.has(s)&&r(t.get(s))},b1=(e,t,s)=>(e.get(t)||[]).map(r=>r(s)),w1=(e,t,s)=>{const r=e.get(t);r&&(s?r.splice(r.indexOf(s)>>>0,1):e.set(t,[]))},N_=()=>{const e=new Map,t=new Map,s=new Map;return{on:(...i)=>v1(e,t,...i),prioritizedOn:(...i)=>v1(s,t,...i),emit:(i,c)=>{t.set(i,c),b1(s,i,c),b1(e,i,c)},off:(...i)=>w1(e,...i),prioritizedOff:(...i)=>w1(s,...i),internal:{retrieveListeners:i=>e.get(i)||[]}}},du={Status:"status"},R_=()=>N_();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);St(({clerk:e,children:t,...s})=>{const{signUpFallbackRedirectUrl:r,forceRedirectUrl:i,fallbackRedirectUrl:c,signUpForceRedirectUrl:u,mode:h,initialValues:p,withSignUp:m,oauthFlow:g,...y}=s;t=wd(t,"Sign in");const v=bd(t)("SignInButton"),j=()=>{const E={forceRedirectUrl:i,fallbackRedirectUrl:c,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:u,initialValues:p,withSignUp:m,oauthFlow:g};return h==="modal"?e.openSignIn({...E,appearance:s.appearance}):e.redirectToSignIn({...E,signInFallbackRedirectUrl:c,signInForceRedirectUrl:i})},k={...y,onClick:async E=>(v&&typeof v=="object"&&"props"in v&&await Sd(v.props.onClick)(E),j())};return $.cloneElement(v,k)},{component:"SignInButton",renderWhileLoading:!0});St(({clerk:e,children:t,...s})=>{const{redirectUrl:r,...i}=s;t=wd(t,"Sign in with Metamask");const c=bd(t)("SignInWithMetamaskButton"),u=async()=>{async function m(){await e.authenticateWithMetamask({redirectUrl:r||void 0})}m()},p={...i,onClick:async m=>(await Sd(c.props.onClick)(m),u())};return $.cloneElement(c,p)},{component:"SignInWithMetamask",renderWhileLoading:!0});St(({clerk:e,children:t,...s})=>{const{redirectUrl:r="/",signOutOptions:i,...c}=s;t=wd(t,"Sign out");const u=bd(t)("SignOutButton"),h=()=>e.signOut({redirectUrl:r,...i}),m={...c,onClick:async g=>(await Sd(u.props.onClick)(g),h())};return $.cloneElement(u,m)},{component:"SignOutButton",renderWhileLoading:!0});St(({clerk:e,children:t,...s})=>{const{fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:c,signInForceRedirectUrl:u,mode:h,initialValues:p,oauthFlow:m,...g}=s;t=wd(t,"Sign up");const y=bd(t)("SignUpButton"),v=()=>{const k={fallbackRedirectUrl:r,forceRedirectUrl:i,signInFallbackRedirectUrl:c,signInForceRedirectUrl:u,initialValues:p,oauthFlow:m};return h==="modal"?e.openSignUp({...k,appearance:s.appearance,unsafeMetadata:s.unsafeMetadata}):e.redirectToSignUp({...k,signUpFallbackRedirectUrl:r,signUpForceRedirectUrl:i})},A={...g,onClick:async k=>(y&&typeof y=="object"&&"props"in y&&await Sd(y.props.onClick)(k),v())};return $.cloneElement(y,A)},{component:"SignUpButton",renderWhileLoading:!0});var S1=()=>({fields:{firstName:null,lastName:null,emailAddress:null,identifier:null,phoneNumber:null,password:null,username:null,code:null,captcha:null,legalAccepted:null},raw:null,global:null}),M_=class{constructor(e){this.isomorphicClerk=e,this.signInSignalProxy=this.buildSignInProxy(),this.signUpSignalProxy=this.buildSignUpProxy()}signInSignal(){return this.signInSignalProxy}signUpSignal(){return this.signUpSignalProxy}buildSignInProxy(){const e=()=>this.client.signIn.__internal_future;return{errors:S1(),fetchStatus:"idle",signIn:{status:"needs_identifier",availableStrategies:[],isTransferable:!1,create:this.gateMethod(e,"create"),password:this.gateMethod(e,"password"),sso:this.gateMethod(e,"sso"),finalize:this.gateMethod(e,"finalize"),emailCode:this.wrapMethods(()=>e().emailCode,["sendCode","verifyCode"]),resetPasswordEmailCode:this.wrapMethods(()=>e().resetPasswordEmailCode,["sendCode","verifyCode","submitPassword"]),phoneCode:this.wrapMethods(()=>e().phoneCode,["sendCode","verifyCode"]),mfa:this.wrapMethods(()=>e().mfa,["sendPhoneCode","verifyPhoneCode","verifyTOTP","verifyBackupCode"])}}}buildSignUpProxy(){const e=this.gateProperty.bind(this),t=this.gateMethod.bind(this),s=this.wrapMethods.bind(this),r=()=>this.client.signUp.__internal_future;return{errors:S1(),fetchStatus:"idle",signUp:{get status(){return e(r,"status","missing_requirements")},get unverifiedFields(){return e(r,"unverifiedFields",[])},get isTransferable(){return e(r,"isTransferable",!1)},create:t(r,"create"),sso:t(r,"sso"),password:t(r,"password"),finalize:t(r,"finalize"),verifications:s(()=>r().verifications,["sendEmailCode","verifyEmailCode","sendPhoneCode","verifyPhoneCode"])}}}__internal_effect(e){throw new Error("__internal_effect called before Clerk is loaded")}__internal_computed(e){throw new Error("__internal_computed called before Clerk is loaded")}get client(){const e=this.isomorphicClerk.client;if(!e)throw new Error("Clerk client not ready");return e}gateProperty(e,t,s){return!Xu()||!this.isomorphicClerk.loaded?s:e()[t]}gateMethod(e,t){return async(...s)=>{if(!Xu())return yr.throw(`Attempted to call a method (${t}) that is not supported on the server.`);this.isomorphicClerk.loaded||await new Promise(i=>this.isomorphicClerk.addOnLoaded(i));const r=e();return r[t].apply(r,s)}}wrapMethods(e,t){return Object.fromEntries(t.map(s=>[s,this.gateMethod(e,s)]))}};typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var __={name:"@clerk/clerk-react",version:"5.46.2",environment:"production"},zu,Ni,Ri,Gs,os,Lu,Js,ll,Uu,Jj=class Xj{constructor(t){Hs(this,ll),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Hs(this,zu,"loading"),Hs(this,Ni),Hs(this,Ri),Hs(this,Gs),Hs(this,os,R_()),Hs(this,Lu),this.buildSignInUrl=i=>{const c=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildSignInUrl(i))||""};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("buildSignInUrl",c)},this.buildSignUpUrl=i=>{const c=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildSignUpUrl(i))||""};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("buildSignUpUrl",c)},this.buildAfterSignInUrl=(...i)=>{const c=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterSignInUrl(...i))||""};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("buildAfterSignInUrl",c)},this.buildAfterSignUpUrl=(...i)=>{const c=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterSignUpUrl(...i))||""};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("buildAfterSignUpUrl",c)},this.buildAfterSignOutUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterSignOutUrl",i)},this.buildNewSubscriptionRedirectUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",i)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",i)},this.buildUserProfileUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildUserProfileUrl",i)},this.buildCreateOrganizationUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildCreateOrganizationUrl",i)},this.buildOrganizationProfileUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildOrganizationProfileUrl",i)},this.buildWaitlistUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildWaitlistUrl",i)},this.buildTasksUrl=()=>{const i=()=>{var c;return((c=this.clerkjs)==null?void 0:c.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("buildTasksUrl",i)},this.buildUrlWithAuth=i=>{const c=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildUrlWithAuth(i))||""};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("buildUrlWithAuth",c)},this.handleUnauthenticated=async()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleUnauthenticated()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("handleUnauthenticated",i)},this.on=(...i)=>{var c;if((c=this.clerkjs)!=null&&c.on)return this.clerkjs.on(...i);bt(this,os).on(...i)},this.off=(...i)=>{var c;if((c=this.clerkjs)!=null&&c.off)return this.clerkjs.off(...i);bt(this,os).off(...i)},this.addOnLoaded=i=>{this.loadedListeners.push(i),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(i=>i()),this.loadedListeners=[]},this.beforeLoad=i=>{if(!i)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=i=>{var c;if(!i)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=i,this.premountMethodCalls.forEach(u=>u()),this.premountAddListenerCalls.forEach((u,h)=>{u.nativeUnsubscribe=i.addListener(h)}),(c=bt(this,os).internal.retrieveListeners("status"))==null||c.forEach(u=>{this.on("status",u,{notify:!0})}),this.preopenSignIn!==null&&i.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&i.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&i.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&i.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&i.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&i.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&i.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&i.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&i.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&i.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&i.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((u,h)=>{i.mountSignIn(h,u)}),this.premountSignUpNodes.forEach((u,h)=>{i.mountSignUp(h,u)}),this.premountUserProfileNodes.forEach((u,h)=>{i.mountUserProfile(h,u)}),this.premountUserButtonNodes.forEach((u,h)=>{i.mountUserButton(h,u)}),this.premountOrganizationListNodes.forEach((u,h)=>{i.mountOrganizationList(h,u)}),this.premountWaitlistNodes.forEach((u,h)=>{i.mountWaitlist(h,u)}),this.premountPricingTableNodes.forEach((u,h)=>{i.mountPricingTable(h,u)}),this.premountApiKeysNodes.forEach((u,h)=>{i.mountApiKeys(h,u)}),this.premountOAuthConsentNodes.forEach((u,h)=>{i.__internal_mountOAuthConsent(h,u)}),this.premountTaskChooseOrganizationNodes.forEach((u,h)=>{i.mountTaskChooseOrganization(h,u)}),typeof this.clerkjs.status>"u"&&bt(this,os).emit(du.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...i)=>{var c;return(c=this.clerkjs)==null?void 0:c.__experimental_checkout(...i)},this.__unstable__updateProps=async i=>{const c=await Mm(this,ll,Uu).call(this);if(c&&"__unstable__updateProps"in c)return c.__unstable__updateProps(i)},this.setActive=i=>this.clerkjs?this.clerkjs.setActive(i):Promise.reject(),this.openSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(i):this.preopenSignIn=i},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(i):this.preopenCheckout=i},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(i):this.preopenPlanDetails=i},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(i):this.preopenSubscriptionDetails=i??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(i):this.preopenUserVerification=i},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=i=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(i):this.preopenOneTap=i},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(i):this.preopenUserProfile=i},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(i):this.preopenOrganizationProfile=i},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(i):this.preopenCreateOrganization=i},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(i):this.preOpenWaitlist=i},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(i):this.preopenSignUp=i},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(i,c):this.premountSignInNodes.set(i,c)},this.unmountSignIn=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(i):this.premountSignInNodes.delete(i)},this.mountSignUp=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(i,c):this.premountSignUpNodes.set(i,c)},this.unmountSignUp=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(i):this.premountSignUpNodes.delete(i)},this.mountUserProfile=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(i,c):this.premountUserProfileNodes.set(i,c)},this.unmountUserProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(i):this.premountUserProfileNodes.delete(i)},this.mountOrganizationProfile=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(i,c):this.premountOrganizationProfileNodes.set(i,c)},this.unmountOrganizationProfile=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(i):this.premountOrganizationProfileNodes.delete(i)},this.mountCreateOrganization=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(i,c):this.premountCreateOrganizationNodes.set(i,c)},this.unmountCreateOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(i):this.premountCreateOrganizationNodes.delete(i)},this.mountOrganizationSwitcher=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(i,c):this.premountOrganizationSwitcherNodes.set(i,c)},this.unmountOrganizationSwitcher=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(i):this.premountOrganizationSwitcherNodes.delete(i)},this.__experimental_prefetchOrganizationSwitcher=()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",i)},this.mountOrganizationList=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(i,c):this.premountOrganizationListNodes.set(i,c)},this.unmountOrganizationList=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(i):this.premountOrganizationListNodes.delete(i)},this.mountUserButton=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(i,c):this.premountUserButtonNodes.set(i,c)},this.unmountUserButton=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(i):this.premountUserButtonNodes.delete(i)},this.mountWaitlist=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(i,c):this.premountWaitlistNodes.set(i,c)},this.unmountWaitlist=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(i):this.premountWaitlistNodes.delete(i)},this.mountPricingTable=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(i,c):this.premountPricingTableNodes.set(i,c)},this.unmountPricingTable=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(i):this.premountPricingTableNodes.delete(i)},this.mountApiKeys=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(i,c):this.premountApiKeysNodes.set(i,c)},this.unmountApiKeys=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(i):this.premountApiKeysNodes.delete(i)},this.__internal_mountOAuthConsent=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(i,c):this.premountOAuthConsentNodes.set(i,c)},this.__internal_unmountOAuthConsent=i=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(i):this.premountOAuthConsentNodes.delete(i)},this.mountTaskChooseOrganization=(i,c)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(i,c):this.premountTaskChooseOrganizationNodes.set(i,c)},this.unmountTaskChooseOrganization=i=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(i):this.premountTaskChooseOrganizationNodes.delete(i)},this.addListener=i=>{if(this.clerkjs)return this.clerkjs.addListener(i);{const c=()=>{var u;const h=this.premountAddListenerCalls.get(i);h&&((u=h.nativeUnsubscribe)==null||u.call(h),this.premountAddListenerCalls.delete(i))};return this.premountAddListenerCalls.set(i,{unsubscribe:c,nativeUnsubscribe:void 0}),c}},this.navigate=i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.navigate(i)};this.clerkjs&&this.loaded?c():this.premountMethodCalls.set("navigate",c)},this.redirectWithAuth=async(...i)=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectWithAuth(...i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("redirectWithAuth",c)},this.redirectToSignIn=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToSignIn(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("redirectToSignIn",c)},this.redirectToSignUp=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToSignUp(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("redirectToSignUp",c)},this.redirectToUserProfile=async()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToUserProfile",i)},this.redirectToAfterSignUp=()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToAfterSignUp",i)},this.redirectToAfterSignIn=()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToAfterSignIn()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignIn",i)},this.redirectToAfterSignOut=()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToAfterSignOut()};this.clerkjs&&this.loaded?i():this.premountMethodCalls.set("redirectToAfterSignOut",i)},this.redirectToOrganizationProfile=async()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToOrganizationProfile",i)},this.redirectToCreateOrganization=async()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToCreateOrganization",i)},this.redirectToWaitlist=async()=>{const i=()=>{var c;return(c=this.clerkjs)==null?void 0:c.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return i();this.premountMethodCalls.set("redirectToWaitlist",i)},this.redirectToTasks=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToTasks(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("redirectToTasks",c)},this.handleRedirectCallback=async i=>{var c;const u=()=>{var h;return(h=this.clerkjs)==null?void 0:h.handleRedirectCallback(i)};this.clerkjs&&this.loaded?(c=u())==null||c.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",u)},this.handleGoogleOneTapCallback=async(i,c)=>{var u;const h=()=>{var p;return(p=this.clerkjs)==null?void 0:p.handleGoogleOneTapCallback(i,c)};this.clerkjs&&this.loaded?(u=h())==null||u.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",h)},this.handleEmailLinkVerification=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleEmailLinkVerification(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("handleEmailLinkVerification",c)},this.authenticateWithMetamask=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithMetamask(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("authenticateWithMetamask",c)},this.authenticateWithCoinbaseWallet=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithCoinbaseWallet(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",c)},this.authenticateWithBase=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithBase(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("authenticateWithBase",c)},this.authenticateWithOKXWallet=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithOKXWallet(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("authenticateWithOKXWallet",c)},this.authenticateWithWeb3=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithWeb3(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("authenticateWithWeb3",c)},this.authenticateWithGoogleOneTap=async i=>(await Mm(this,ll,Uu).call(this)).authenticateWithGoogleOneTap(i),this.__internal_loadStripeJs=async()=>(await Mm(this,ll,Uu).call(this)).__internal_loadStripeJs(),this.createOrganization=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.createOrganization(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("createOrganization",c)},this.getOrganization=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.getOrganization(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("getOrganization",c)},this.joinWaitlist=async i=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.joinWaitlist(i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("joinWaitlist",c)},this.signOut=async(...i)=>{const c=()=>{var u;return(u=this.clerkjs)==null?void 0:u.signOut(...i)};if(this.clerkjs&&this.loaded)return c();this.premountMethodCalls.set("signOut",c)};const{Clerk:s=null,publishableKey:r}=t||{};Sa(this,Gs,r),Sa(this,Ri,t==null?void 0:t.proxyUrl),Sa(this,Ni,t==null?void 0:t.domain),this.options=t,this.Clerk=s,this.mode=Xu()?"browser":"server",Sa(this,Lu,new M_(this)),this.options.sdkMetadata||(this.options.sdkMetadata=__),bt(this,os).emit(du.Status,"loading"),bt(this,os).prioritizedOn(du.Status,i=>Sa(this,zu,i)),bt(this,Gs)&&this.loadClerkJS()}get publishableKey(){return bt(this,Gs)}get loaded(){var t;return((t=this.clerkjs)==null?void 0:t.loaded)||!1}get status(){var t;return this.clerkjs?((t=this.clerkjs)==null?void 0:t.status)||(this.clerkjs.loaded?"ready":"loading"):bt(this,zu)}static getOrCreateInstance(t){return(!Xu()||!bt(this,Js)||t.Clerk&&bt(this,Js).Clerk!==t.Clerk||bt(this,Js).publishableKey!==t.publishableKey)&&Sa(this,Js,new Xj(t)),bt(this,Js)}static clearInstance(){Sa(this,Js,null)}get domain(){return typeof window<"u"&&window.location?Cm(bt(this,Ni),new URL(window.location.href),""):typeof bt(this,Ni)=="function"?yr.throw(Tm):bt(this,Ni)||""}get proxyUrl(){return typeof window<"u"&&window.location?Cm(bt(this,Ri),new URL(window.location.href),""):typeof bt(this,Ri)=="function"?yr.throw(Tm):bt(this,Ri)||""}__internal_getOption(t){var s,r;return(s=this.clerkjs)!=null&&s.__internal_getOption?(r=this.clerkjs)==null?void 0:r.__internal_getOption(t):this.options[t]}get sdkMetadata(){var t;return((t=this.clerkjs)==null?void 0:t.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var t;return(t=this.clerkjs)==null?void 0:t.instanceType}get frontendApi(){var t;return((t=this.clerkjs)==null?void 0:t.frontendApi)||""}get isStandardBrowser(){var t;return((t=this.clerkjs)==null?void 0:t.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?Cm(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?yr.throw(Tm):!1}async loadClerkJS(){var t;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=bt(this,Gs),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let s;GM(this.Clerk)?(s=new this.Clerk(bt(this,Gs),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(s),await s.load(this.options)):(s=this.Clerk,s.loaded||(this.beforeLoad(s),await s.load(this.options))),global.Clerk=s}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await S_({...this.options,publishableKey:bt(this,Gs),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(t=global.Clerk)!=null&&t.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(s){const r=s;bt(this,os).emit(du.Status,"error"),console.error(r.stack||r.message||r);return}}}get version(){var t;return(t=this.clerkjs)==null?void 0:t.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var t;return(t=this.clerkjs)==null?void 0:t.billing}get __internal_state(){return this.loaded&&this.clerkjs?this.clerkjs.__internal_state:bt(this,Lu)}get apiKeys(){var t;return(t=this.clerkjs)==null?void 0:t.apiKeys}__unstable__setEnvironment(...t){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(t);else return}};zu=new WeakMap;Ni=new WeakMap;Ri=new WeakMap;Gs=new WeakMap;os=new WeakMap;Lu=new WeakMap;Js=new WeakMap;ll=new WeakSet;Uu=function(){return new Promise(e=>{this.addOnLoaded(()=>e(this.clerkjs))})};Hs(Jj,Js);var j1=Jj;function O_(e){const{isomorphicClerkOptions:t,initialState:s,children:r}=e,{isomorphicClerk:i,clerkStatus:c}=D_(t),[u,h]=$.useState({client:i.client,session:i.session,user:i.user,organization:i.organization});$.useEffect(()=>i.addListener(se=>h({...se})),[]);const p=C_(i.loaded,u,s),m=$.useMemo(()=>({value:i}),[c]),g=$.useMemo(()=>({value:u.client}),[u.client]),{sessionId:y,sessionStatus:v,sessionClaims:j,session:A,userId:k,user:E,orgId:C,actor:R,organization:N,orgRole:D,orgSlug:P,orgPermissions:M,factorVerificationAge:U}=p,_=$.useMemo(()=>({value:{sessionId:y,sessionStatus:v,sessionClaims:j,userId:k,actor:R,orgId:C,orgRole:D,orgSlug:P,orgPermissions:M,factorVerificationAge:U}}),[y,v,k,R,C,D,P,U,j==null?void 0:j.__raw]),I=$.useMemo(()=>({value:A}),[y,A]),W=$.useMemo(()=>({value:E}),[k,E]),H=$.useMemo(()=>({value:{organization:N}}),[C,N]);return $.createElement(wM.Provider,{value:m},$.createElement(iM.Provider,{value:g},$.createElement(oM.Provider,{value:I},$.createElement(dM,{...H.value},$.createElement(vM.Provider,{value:_},$.createElement(sM.Provider,{value:W},$.createElement(cM,{value:void 0},r)))))))}var D_=e=>{const t=$.useRef(j1.getOrCreateInstance(e)),[s,r]=$.useState(t.current.status);return $.useEffect(()=>{t.current.__unstable__updateProps({appearance:e.appearance})},[e.appearance]),$.useEffect(()=>{t.current.__unstable__updateProps({options:e})},[e.localization]),$.useEffect(()=>(t.current.on("status",r),()=>{t.current&&t.current.off("status",r),j1.clearInstance()}),[]),{isomorphicClerk:t.current,clerkStatus:s}};function P_(e){const{initialState:t,children:s,__internal_bypassMissingPublishableKey:r,...i}=e,{publishableKey:c="",Clerk:u}=i;return!u&&!r&&(c?c&&!pp(c)&&yr.throwInvalidPublishableKeyError({key:c}):yr.throwMissingPublishableKeyError()),$.createElement(O_,{initialState:t,isomorphicClerkOptions:i},s)}var Zj=qM(P_,"ClerkProvider",SM);Zj.displayName="ClerkProvider";xM({packageName:"@clerk/clerk-react"});w_("@clerk/clerk-react");function z_(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const L_=e=>{switch(e){case"success":return B_;case"info":return F_;case"warning":return I_;case"error":return V_;default:return null}},U_=Array(12).fill(0),$_=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},U_.map((s,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),B_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),V_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),H_=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),G_=()=>{const[e,t]=$.useState(document.hidden);return $.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let Np=1;class W_{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...i}=t,c=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:Np++,u=this.toasts.find(p=>p.id===c),h=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),u?this.toasts=this.toasts.map(p=>p.id===c?(this.publish({...p,...t,id:c,title:r}),{...p,...t,id:c,dismissible:h,title:r}):p):this.addToast({title:r,...i,dismissible:h,id:c}),c},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let c=r!==void 0,u;const h=i.then(async m=>{if(u=["resolve",m],$.isValidElement(m))c=!1,this.create({id:r,type:"default",message:m});else if(K_(m)&&!m.ok){c=!1;const y=typeof s.error=="function"?await s.error(`HTTP error! status: ${m.status}`):s.error,v=typeof s.description=="function"?await s.description(`HTTP error! status: ${m.status}`):s.description,A=typeof y=="object"&&!$.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...A})}else if(m instanceof Error){c=!1;const y=typeof s.error=="function"?await s.error(m):s.error,v=typeof s.description=="function"?await s.description(m):s.description,A=typeof y=="object"&&!$.isValidElement(y)?y:{message:y};this.create({id:r,type:"error",description:v,...A})}else if(s.success!==void 0){c=!1;const y=typeof s.success=="function"?await s.success(m):s.success,v=typeof s.description=="function"?await s.description(m):s.description,A=typeof y=="object"&&!$.isValidElement(y)?y:{message:y};this.create({id:r,type:"success",description:v,...A})}}).catch(async m=>{if(u=["reject",m],s.error!==void 0){c=!1;const g=typeof s.error=="function"?await s.error(m):s.error,y=typeof s.description=="function"?await s.description(m):s.description,j=typeof g=="object"&&!$.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:y,...j})}}).finally(()=>{c&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),p=()=>new Promise((m,g)=>h.then(()=>u[0]==="reject"?g(u[1]):m(u[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:p}:Object.assign(r,{unwrap:p})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||Np++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rn=new W_,q_=(e,t)=>{const s=(t==null?void 0:t.id)||Np++;return Rn.addToast({title:e,...t,id:s}),s},K_=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Y_=q_,J_=()=>Rn.toasts,X_=()=>Rn.getActiveToasts(),Ft=Object.assign(Y_,{success:Rn.success,info:Rn.info,warning:Rn.warning,error:Rn.error,custom:Rn.custom,message:Rn.message,promise:Rn.promise,dismiss:Rn.dismiss,loading:Rn.loading},{getHistory:J_,getToasts:X_});z_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hu(e){return e.label!==void 0}const Z_=3,Q_="24px",eO="16px",k1=4e3,tO=356,nO=14,rO=45,sO=200;function Cr(...e){return e.filter(Boolean).join(" ")}function aO(e){const[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}const iO=e=>{var t,s,r,i,c,u,h,p,m;const{invert:g,toast:y,unstyled:v,interacting:j,setHeights:A,visibleToasts:k,heights:E,index:C,toasts:R,expanded:N,removeToast:D,defaultRichColors:P,closeButton:M,style:U,cancelButtonStyle:_,actionButtonStyle:I,className:W="",descriptionClassName:H="",duration:se,position:K,gap:re,expandByDefault:Q,classNames:B,icons:L,closeButtonAriaLabel:V="Close toast"}=e,[Y,z]=$.useState(null),[X,Z]=$.useState(null),[F,ie]=$.useState(!1),[oe,he]=$.useState(!1),[ye,pe]=$.useState(!1),[Qe,xt]=$.useState(!1),[jt,Wt]=$.useState(!1),[He,ge]=$.useState(0),[kt,tt]=$.useState(0),qe=$.useRef(y.duration||se||k1),On=$.useRef(null),Ke=$.useRef(null),dt=C===0,qt=C+1<=k,$t=y.type,en=y.dismissible!==!1,vs=y.className||"",Kt=y.descriptionClassName||"",Mt=$.useMemo(()=>E.findIndex(Te=>Te.toastId===y.id)||0,[E,y.id]),Pt=$.useMemo(()=>{var Te;return(Te=y.closeButton)!=null?Te:M},[y.closeButton,M]),tn=$.useMemo(()=>y.duration||se||k1,[y.duration,se]),Tt=$.useRef(0),cr=$.useRef(0),Ua=$.useRef(0),Tn=$.useRef(null),[Ir,bs]=K.split("-"),Gn=$.useMemo(()=>E.reduce((Te,Be,nt)=>nt>=Mt?Te:Te+Be.height,0),[E,Mt]),Fr=G_(),Vr=y.invert||g,sa=$t==="loading";cr.current=$.useMemo(()=>Mt*re+Gn,[Mt,Gn]),$.useEffect(()=>{qe.current=tn},[tn]),$.useEffect(()=>{ie(!0)},[]),$.useEffect(()=>{const Te=Ke.current;if(Te){const Be=Te.getBoundingClientRect().height;return tt(Be),A(nt=>[{toastId:y.id,height:Be,position:y.position},...nt]),()=>A(nt=>nt.filter(rt=>rt.toastId!==y.id))}},[A,y.id]),$.useLayoutEffect(()=>{if(!F)return;const Te=Ke.current,Be=Te.style.height;Te.style.height="auto";const nt=Te.getBoundingClientRect().height;Te.style.height=Be,tt(nt),A(rt=>rt.find(ot=>ot.toastId===y.id)?rt.map(ot=>ot.toastId===y.id?{...ot,height:nt}:ot):[{toastId:y.id,height:nt,position:y.position},...rt])},[F,y.title,y.description,A,y.id,y.jsx,y.action,y.cancel]);const ke=$.useCallback(()=>{he(!0),ge(cr.current),A(Te=>Te.filter(Be=>Be.toastId!==y.id)),setTimeout(()=>{D(y)},sO)},[y,D,A,cr]);$.useEffect(()=>{if(y.promise&&$t==="loading"||y.duration===1/0||y.type==="loading")return;let Te;return N||j||Fr?(()=>{if(Ua.current<Tt.current){const rt=new Date().getTime()-Tt.current;qe.current=qe.current-rt}Ua.current=new Date().getTime()})():(()=>{qe.current!==1/0&&(Tt.current=new Date().getTime(),Te=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),ke()},qe.current))})(),()=>clearTimeout(Te)},[N,j,y,$t,Fr,ke]),$.useEffect(()=>{y.delete&&(ke(),y.onDismiss==null||y.onDismiss.call(y,y))},[ke,y.delete]);function Ge(){var Te;if(L!=null&&L.loading){var Be;return $.createElement("div",{className:Cr(B==null?void 0:B.loader,y==null||(Be=y.classNames)==null?void 0:Be.loader,"sonner-loader"),"data-visible":$t==="loading"},L.loading)}return $.createElement($_,{className:Cr(B==null?void 0:B.loader,y==null||(Te=y.classNames)==null?void 0:Te.loader),visible:$t==="loading"})}const Ye=y.icon||(L==null?void 0:L[$t])||L_($t);var Oe,mt;return $.createElement("li",{tabIndex:0,ref:Ke,className:Cr(W,vs,B==null?void 0:B.toast,y==null||(t=y.classNames)==null?void 0:t.toast,B==null?void 0:B.default,B==null?void 0:B[$t],y==null||(s=y.classNames)==null?void 0:s[$t]),"data-sonner-toast":"","data-rich-colors":(Oe=y.richColors)!=null?Oe:P,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":F,"data-promise":!!y.promise,"data-swiped":jt,"data-removed":oe,"data-visible":qt,"data-y-position":Ir,"data-x-position":bs,"data-index":C,"data-front":dt,"data-swiping":ye,"data-dismissible":en,"data-type":$t,"data-invert":Vr,"data-swipe-out":Qe,"data-swipe-direction":X,"data-expanded":!!(N||Q&&F),"data-testid":y.testId,style:{"--index":C,"--toasts-before":C,"--z-index":R.length-C,"--offset":`${oe?He:cr.current}px`,"--initial-height":Q?"auto":`${kt}px`,...U,...y.style},onDragEnd:()=>{pe(!1),z(null),Tn.current=null},onPointerDown:Te=>{Te.button!==2&&(sa||!en||(On.current=new Date,ge(cr.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(pe(!0),Tn.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,Be,nt;if(Qe||!en)return;Tn.current=null;const rt=Number(((Te=Ke.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vn=Number(((Be=Ke.current)==null?void 0:Be.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((nt=On.current)==null?void 0:nt.getTime()),Je=Y==="x"?rt:vn,pt=Math.abs(Je)/ot;if(Math.abs(Je)>=rO||pt>.11){ge(cr.current),y.onDismiss==null||y.onDismiss.call(y,y),Z(Y==="x"?rt>0?"right":"left":vn>0?"down":"up"),ke(),xt(!0);return}else{var st,nn;(st=Ke.current)==null||st.style.setProperty("--swipe-amount-x","0px"),(nn=Ke.current)==null||nn.style.setProperty("--swipe-amount-y","0px")}Wt(!1),pe(!1),z(null)},onPointerMove:Te=>{var Be,nt,rt;if(!Tn.current||!en||((Be=window.getSelection())==null?void 0:Be.toString().length)>0)return;const ot=Te.clientY-Tn.current.y,Je=Te.clientX-Tn.current.x;var pt;const st=(pt=e.swipeDirections)!=null?pt:aO(K);!Y&&(Math.abs(Je)>1||Math.abs(ot)>1)&&z(Math.abs(Je)>Math.abs(ot)?"x":"y");let nn={x:0,y:0};const $a=Hr=>1/(1.5+Math.abs(Hr)/20);if(Y==="y"){if(st.includes("top")||st.includes("bottom"))if(st.includes("top")&&ot<0||st.includes("bottom")&&ot>0)nn.y=ot;else{const Hr=ot*$a(ot);nn.y=Math.abs(Hr)<Math.abs(ot)?Hr:ot}}else if(Y==="x"&&(st.includes("left")||st.includes("right")))if(st.includes("left")&&Je<0||st.includes("right")&&Je>0)nn.x=Je;else{const Hr=Je*$a(Je);nn.x=Math.abs(Hr)<Math.abs(Je)?Hr:Je}(Math.abs(nn.x)>0||Math.abs(nn.y)>0)&&Wt(!0),(nt=Ke.current)==null||nt.style.setProperty("--swipe-amount-x",`${nn.x}px`),(rt=Ke.current)==null||rt.style.setProperty("--swipe-amount-y",`${nn.y}px`)}},Pt&&!y.jsx&&$t!=="loading"?$.createElement("button",{"aria-label":V,"data-disabled":sa,"data-close-button":!0,onClick:sa||!en?()=>{}:()=>{ke(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Cr(B==null?void 0:B.closeButton,y==null||(r=y.classNames)==null?void 0:r.closeButton)},(mt=L==null?void 0:L.close)!=null?mt:H_):null,($t||y.icon||y.promise)&&y.icon!==null&&((L==null?void 0:L[$t])!==null||y.icon)?$.createElement("div",{"data-icon":"",className:Cr(B==null?void 0:B.icon,y==null||(i=y.classNames)==null?void 0:i.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ge():null,y.type!=="loading"?Ye:null):null,$.createElement("div",{"data-content":"",className:Cr(B==null?void 0:B.content,y==null||(c=y.classNames)==null?void 0:c.content)},$.createElement("div",{"data-title":"",className:Cr(B==null?void 0:B.title,y==null||(u=y.classNames)==null?void 0:u.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?$.createElement("div",{"data-description":"",className:Cr(H,Kt,B==null?void 0:B.description,y==null||(h=y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),$.isValidElement(y.cancel)?y.cancel:y.cancel&&hu(y.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||_,onClick:Te=>{hu(y.cancel)&&en&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Te),ke())},className:Cr(B==null?void 0:B.cancelButton,y==null||(p=y.classNames)==null?void 0:p.cancelButton)},y.cancel.label):null,$.isValidElement(y.action)?y.action:y.action&&hu(y.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||I,onClick:Te=>{hu(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Te),!Te.defaultPrevented&&ke())},className:Cr(B==null?void 0:B.actionButton,y==null||(m=y.classNames)==null?void 0:m.actionButton)},y.action.label):null)};function T1(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oO(e,t){const s={};return[e,t].forEach((r,i)=>{const c=i===1,u=c?"--mobile-offset":"--offset",h=c?eO:Q_;function p(m){["top","right","bottom","left"].forEach(g=>{s[`${u}-${g}`]=typeof m=="number"?`${m}px`:m})}typeof r=="number"||typeof r=="string"?p(r):typeof r=="object"?["top","right","bottom","left"].forEach(m=>{r[m]===void 0?s[`${u}-${m}`]=h:s[`${u}-${m}`]=typeof r[m]=="number"?`${r[m]}px`:r[m]}):p(h)}),s}const lO=$.forwardRef(function(t,s){const{id:r,invert:i,position:c="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:p,className:m,offset:g,mobileOffset:y,theme:v="light",richColors:j,duration:A,style:k,visibleToasts:E=Z_,toastOptions:C,dir:R=T1(),gap:N=nO,icons:D,containerAriaLabel:P="Notifications"}=t,[M,U]=$.useState([]),_=$.useMemo(()=>r?M.filter(F=>F.toasterId===r):M.filter(F=>!F.toasterId),[M,r]),I=$.useMemo(()=>Array.from(new Set([c].concat(_.filter(F=>F.position).map(F=>F.position)))),[_,c]),[W,H]=$.useState([]),[se,K]=$.useState(!1),[re,Q]=$.useState(!1),[B,L]=$.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=$.useRef(null),Y=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=$.useRef(null),X=$.useRef(!1),Z=$.useCallback(F=>{U(ie=>{var oe;return(oe=ie.find(he=>he.id===F.id))!=null&&oe.delete||Rn.dismiss(F.id),ie.filter(({id:he})=>he!==F.id)})},[]);return $.useEffect(()=>Rn.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{U(ie=>ie.map(oe=>oe.id===F.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{oj.flushSync(()=>{U(ie=>{const oe=ie.findIndex(he=>he.id===F.id);return oe!==-1?[...ie.slice(0,oe),{...ie[oe],...F},...ie.slice(oe+1)]:[F,...ie]})})})}),[M]),$.useEffect(()=>{if(v!=="system"){L(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:ie})=>{L(ie?"dark":"light")})}catch{F.addListener(({matches:oe})=>{try{L(oe?"dark":"light")}catch(he){console.error(he)}})}},[v]),$.useEffect(()=>{M.length<=1&&K(!1)},[M]),$.useEffect(()=>{const F=ie=>{var oe;if(u.every(pe=>ie[pe]||ie.code===pe)){var ye;K(!0),(ye=V.current)==null||ye.focus()}ie.code==="Escape"&&(document.activeElement===V.current||(oe=V.current)!=null&&oe.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[u]),$.useEffect(()=>{if(V.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,X.current=!1)}},[V.current]),$.createElement("section",{ref:s,"aria-label":`${P} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((F,ie)=>{var oe;const[he,ye]=F.split("-");return _.length?$.createElement("ol",{key:F,dir:R==="auto"?T1():R,tabIndex:-1,ref:V,className:m,"data-sonner-toaster":!0,"data-sonner-theme":B,"data-y-position":he,"data-x-position":ye,style:{"--front-toast-height":`${((oe=W[0])==null?void 0:oe.height)||0}px`,"--width":`${tO}px`,"--gap":`${N}px`,...k,...oO(g,y)},onBlur:pe=>{X.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(X.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||X.current||(X.current=!0,z.current=pe.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{re||K(!1)},onDragEnd:()=>K(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},_.filter(pe=>!pe.position&&ie===0||pe.position===F).map((pe,Qe)=>{var xt,jt;return $.createElement(iO,{key:pe.id,icons:D,index:Qe,toast:pe,defaultRichColors:j,duration:(xt=C==null?void 0:C.duration)!=null?xt:A,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:i,visibleToasts:E,closeButton:(jt=C==null?void 0:C.closeButton)!=null?jt:p,interacting:re,position:F,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:Z,toasts:_.filter(Wt=>Wt.position==pe.position),heights:W.filter(Wt=>Wt.position==pe.position),setHeights:H,expandByDefault:h,gap:N,expanded:se,swipeDirections:t.swipeDirections})})):null}))});function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cO=typeof Symbol=="function"&&Symbol.observable||"@@observable",C1=cO,_m=()=>Math.random().toString(36).substring(7).split("").join("."),uO={INIT:`@@redux/INIT${_m()}`,REPLACE:`@@redux/REPLACE${_m()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_m()}`},Zu=uO;function qg(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Qj(e,t,s){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof s>"u"&&(s=t,t=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(fn(1));return s(Qj)(e,t)}let r=e,i=t,c=new Map,u=c,h=0,p=!1;function m(){u===c&&(u=new Map,c.forEach((E,C)=>{u.set(C,E)}))}function g(){if(p)throw new Error(fn(3));return i}function y(E){if(typeof E!="function")throw new Error(fn(4));if(p)throw new Error(fn(5));let C=!0;m();const R=h++;return u.set(R,E),function(){if(C){if(p)throw new Error(fn(6));C=!1,m(),u.delete(R),c=null}}}function v(E){if(!qg(E))throw new Error(fn(7));if(typeof E.type>"u")throw new Error(fn(8));if(typeof E.type!="string")throw new Error(fn(17));if(p)throw new Error(fn(9));try{p=!0,i=r(i,E)}finally{p=!1}return(c=u).forEach(R=>{R()}),E}function j(E){if(typeof E!="function")throw new Error(fn(10));r=E,v({type:Zu.REPLACE})}function A(){const E=y;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(fn(11));function R(){const D=C;D.next&&D.next(g())}return R(),{unsubscribe:E(R)}},[C1](){return this}}}return v({type:Zu.INIT}),{dispatch:v,subscribe:y,getState:g,replaceReducer:j,[C1]:A}}function dO(e){Object.keys(e).forEach(t=>{const s=e[t];if(typeof s(void 0,{type:Zu.INIT})>"u")throw new Error(fn(12));if(typeof s(void 0,{type:Zu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function hO(e){const t=Object.keys(e),s={};for(let c=0;c<t.length;c++){const u=t[c];typeof e[u]=="function"&&(s[u]=e[u])}const r=Object.keys(s);let i;try{dO(s)}catch(c){i=c}return function(u={},h){if(i)throw i;let p=!1;const m={};for(let g=0;g<r.length;g++){const y=r[g],v=s[y],j=u[y],A=v(j,h);if(typeof A>"u")throw h&&h.type,new Error(fn(14));m[y]=A,p=p||A!==j}return p=p||r.length!==Object.keys(u).length,p?m:u}}function Qu(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,s)=>(...r)=>t(s(...r)))}function fO(...e){return t=>(s,r)=>{const i=t(s,r);let c=()=>{throw new Error(fn(15))};const u={getState:i.getState,dispatch:(p,...m)=>c(p,...m)},h=e.map(p=>p(u));return c=Qu(...h)(i.dispatch),{...i,dispatch:c}}}function mO(e){return qg(e)&&"type"in e&&typeof e.type=="string"}var ek=Symbol.for("immer-nothing"),E1=Symbol.for("immer-draftable"),Vn=Symbol.for("immer-state");function pr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fi=Object.getPrototypeOf;function _a(e){return!!e&&!!e[Vn]}function ps(e){var t;return e?tk(e)||Array.isArray(e)||!!e[E1]||!!((t=e.constructor)!=null&&t[E1])||Il(e)||Ad(e):!1}var pO=Object.prototype.constructor.toString();function tk(e){if(!e||typeof e!="object")return!1;const t=Fi(e);if(t===null)return!0;const s=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===pO}function ed(e,t){Ed(e)===0?Reflect.ownKeys(e).forEach(s=>{t(s,e[s],e)}):e.forEach((s,r)=>t(r,s,e))}function Ed(e){const t=e[Vn];return t?t.type_:Array.isArray(e)?1:Il(e)?2:Ad(e)?3:0}function Rp(e,t){return Ed(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nk(e,t,s){const r=Ed(e);r===2?e.set(t,s):r===3?e.add(s):e[t]=s}function gO(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Il(e){return e instanceof Map}function Ad(e){return e instanceof Set}function Ca(e){return e.copy_||e.base_}function Mp(e,t){if(Il(e))return new Map(e);if(Ad(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const s=tk(e);if(t===!0||t==="class_only"&&!s){const r=Object.getOwnPropertyDescriptors(e);delete r[Vn];let i=Reflect.ownKeys(r);for(let c=0;c<i.length;c++){const u=i[c],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:e[u]})}return Object.create(Fi(e),r)}else{const r=Fi(e);if(r!==null&&s)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Kg(e,t=!1){return Nd(e)||_a(e)||!ps(e)||(Ed(e)>1&&Object.defineProperties(e,{set:{value:fu},add:{value:fu},clear:{value:fu},delete:{value:fu}}),Object.freeze(e),t&&Object.values(e).forEach(s=>Kg(s,!0))),e}function fu(){pr(2)}function Nd(e){return Object.isFrozen(e)}var yO={};function Oa(e){const t=yO[e];return t||pr(0,e),t}var Sl;function rk(){return Sl}function xO(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A1(e,t){t&&(Oa("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _p(e){Op(e),e.drafts_.forEach(vO),e.drafts_=null}function Op(e){e===Sl&&(Sl=e.parent_)}function N1(e){return Sl=xO(Sl,e)}function vO(e){const t=e[Vn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function R1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const s=t.drafts_[0];return e!==void 0&&e!==s?(s[Vn].modified_&&(_p(t),pr(4)),ps(e)&&(e=td(t,e),t.parent_||nd(t,e)),t.patches_&&Oa("Patches").generateReplacementPatches_(s[Vn].base_,e,t.patches_,t.inversePatches_)):e=td(t,s,[]),_p(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ek?e:void 0}function td(e,t,s){if(Nd(t))return t;const r=t[Vn];if(!r)return ed(t,(i,c)=>M1(e,r,t,i,c,s)),t;if(r.scope_!==e)return t;if(!r.modified_)return nd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let c=i,u=!1;r.type_===3&&(c=new Set(i),i.clear(),u=!0),ed(c,(h,p)=>M1(e,r,i,h,p,s,u)),nd(e,i,!1),s&&e.patches_&&Oa("Patches").generatePatches_(r,s,e.patches_,e.inversePatches_)}return r.copy_}function M1(e,t,s,r,i,c,u){if(_a(i)){const h=c&&t&&t.type_!==3&&!Rp(t.assigned_,r)?c.concat(r):void 0,p=td(e,i,h);if(nk(s,r,p),_a(p))e.canAutoFreeze_=!1;else return}else u&&s.add(i);if(ps(i)&&!Nd(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;td(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Il(s)?s.has(r):Object.prototype.propertyIsEnumerable.call(s,r))&&nd(e,i)}}function nd(e,t,s=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kg(t,s)}function bO(e,t){const s=Array.isArray(e),r={type_:s?1:0,scope_:t?t.scope_:rk(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,c=Yg;s&&(i=[r],c=jl);const{revoke:u,proxy:h}=Proxy.revocable(i,c);return r.draft_=h,r.revoke_=u,h}var Yg={get(e,t){if(t===Vn)return e;const s=Ca(e);if(!Rp(s,t))return wO(e,s,t);const r=s[t];return e.finalized_||!ps(r)?r:r===Om(e.base_,t)?(Dm(e),e.copy_[t]=Pp(r,e)):r},has(e,t){return t in Ca(e)},ownKeys(e){return Reflect.ownKeys(Ca(e))},set(e,t,s){const r=sk(Ca(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,s),!0;if(!e.modified_){const i=Om(Ca(e),t),c=i==null?void 0:i[Vn];if(c&&c.base_===s)return e.copy_[t]=s,e.assigned_[t]=!1,!0;if(gO(s,i)&&(s!==void 0||Rp(e.base_,t)))return!0;Dm(e),Dp(e)}return e.copy_[t]===s&&(s!==void 0||t in e.copy_)||Number.isNaN(s)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=s,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Om(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Dm(e),Dp(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const s=Ca(e),r=Reflect.getOwnPropertyDescriptor(s,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:s[t]}},defineProperty(){pr(11)},getPrototypeOf(e){return Fi(e.base_)},setPrototypeOf(){pr(12)}},jl={};ed(Yg,(e,t)=>{jl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});jl.deleteProperty=function(e,t){return jl.set.call(this,e,t,void 0)};jl.set=function(e,t,s){return Yg.set.call(this,e[0],t,s,e[0])};function Om(e,t){const s=e[Vn];return(s?Ca(s):e)[t]}function wO(e,t,s){var i;const r=sk(t,s);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function sk(e,t){if(!(t in e))return;let s=Fi(e);for(;s;){const r=Object.getOwnPropertyDescriptor(s,t);if(r)return r;s=Fi(s)}}function Dp(e){e.modified_||(e.modified_=!0,e.parent_&&Dp(e.parent_))}function Dm(e){e.copy_||(e.copy_=Mp(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var SO=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,s,r)=>{if(typeof t=="function"&&typeof s!="function"){const c=s;s=t;const u=this;return function(p=c,...m){return u.produce(p,g=>s.call(this,g,...m))}}typeof s!="function"&&pr(6),r!==void 0&&typeof r!="function"&&pr(7);let i;if(ps(t)){const c=N1(this),u=Pp(t,void 0);let h=!0;try{i=s(u),h=!1}finally{h?_p(c):Op(c)}return A1(c,r),R1(i,c)}else if(!t||typeof t!="object"){if(i=s(t),i===void 0&&(i=t),i===ek&&(i=void 0),this.autoFreeze_&&Kg(i,!0),r){const c=[],u=[];Oa("Patches").generateReplacementPatches_(t,i,c,u),r(c,u)}return i}else pr(1,t)},this.produceWithPatches=(t,s)=>{if(typeof t=="function")return(u,...h)=>this.produceWithPatches(u,p=>t(p,...h));let r,i;return[this.produce(t,s,(u,h)=>{r=u,i=h}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ps(e)||pr(8),_a(e)&&(e=jO(e));const t=N1(this),s=Pp(e,void 0);return s[Vn].isManual_=!0,Op(t),s}finishDraft(e,t){const s=e&&e[Vn];(!s||!s.isManual_)&&pr(9);const{scope_:r}=s;return A1(r,t),R1(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let s;for(s=t.length-1;s>=0;s--){const i=t[s];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}s>-1&&(t=t.slice(s+1));const r=Oa("Patches").applyPatches_;return _a(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Pp(e,t){const s=Il(e)?Oa("MapSet").proxyMap_(e,t):Ad(e)?Oa("MapSet").proxySet_(e,t):bO(e,t);return(t?t.scope_:rk()).drafts_.push(s),s}function jO(e){return _a(e)||pr(10,e),ak(e)}function ak(e){if(!ps(e)||Nd(e))return e;const t=e[Vn];let s;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,s=Mp(e,t.scope_.immer_.useStrictShallowCopy_)}else s=Mp(e,!0);return ed(s,(r,i)=>{nk(s,r,ak(i))}),t&&(t.finalized_=!1),s}var kO=new SO,ik=kO.produce;function ok(e){return({dispatch:s,getState:r})=>i=>c=>typeof c=="function"?c(s,r,e):i(c)}var TO=ok(),CO=ok,EO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Qu:Qu.apply(null,arguments)};function _1(e,t){function s(...r){if(t){let i=t(...r);if(!i)throw new Error(us(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return s.toString=()=>`${e}`,s.type=e,s.match=r=>mO(r)&&r.type===e,s}var lk=class cl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cl.prototype)}static get[Symbol.species](){return cl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cl(...t[0].concat(this)):new cl(...t.concat(this))}};function O1(e){return ps(e)?ik(e,()=>{}):e}function mu(e,t,s){return e.has(t)?e.get(t):e.set(t,s(t)).get(t)}function AO(e){return typeof e=="boolean"}var NO=()=>function(t){const{thunk:s=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:c=!0}=t??{};let u=new lk;return s&&(AO(s)?u.push(TO):u.push(CO(s.extraArgument))),u},RO="RTK_autoBatch",D1=e=>t=>{setTimeout(t,e)},MO=(e={type:"raf"})=>t=>(...s)=>{const r=t(...s);let i=!0,c=!1,u=!1;const h=new Set,p=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:D1(10):e.type==="callback"?e.queueNotification:D1(e.timeout),m=()=>{u=!1,c&&(c=!1,h.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const y=()=>i&&g(),v=r.subscribe(y);return h.add(g),()=>{v(),h.delete(g)}},dispatch(g){var y;try{return i=!((y=g==null?void 0:g.meta)!=null&&y[RO]),c=!i,c&&(u||(u=!0,p(m))),r.dispatch(g)}finally{i=!0}}})},_O=e=>function(s){const{autoBatch:r=!0}=s??{};let i=new lk(e);return r&&i.push(MO(typeof r=="object"?r:void 0)),i};function OO(e){const t=NO(),{reducer:s=void 0,middleware:r,devTools:i=!0,preloadedState:c=void 0,enhancers:u=void 0}=e||{};let h;if(typeof s=="function")h=s;else if(qg(s))h=hO(s);else throw new Error(us(1));let p;typeof r=="function"?p=r(t):p=t();let m=Qu;i&&(m=EO({trace:!1,...typeof i=="object"&&i}));const g=fO(...p),y=_O(g);let v=typeof u=="function"?u(y):y();const j=m(...v);return Qj(h,c,j)}function ck(e){const t={},s=[];let r;const i={addCase(c,u){const h=typeof c=="string"?c:c.type;if(!h)throw new Error(us(28));if(h in t)throw new Error(us(29));return t[h]=u,i},addAsyncThunk(c,u){return u.pending&&(t[c.pending.type]=u.pending),u.rejected&&(t[c.rejected.type]=u.rejected),u.fulfilled&&(t[c.fulfilled.type]=u.fulfilled),u.settled&&s.push({matcher:c.settled,reducer:u.settled}),i},addMatcher(c,u){return s.push({matcher:c,reducer:u}),i},addDefaultCase(c){return r=c,i}};return e(i),[t,s,r]}function DO(e){return typeof e=="function"}function PO(e,t){let[s,r,i]=ck(t),c;if(DO(e))c=()=>O1(e());else{const h=O1(e);c=()=>h}function u(h=c(),p){let m=[s[p.type],...r.filter(({matcher:g})=>g(p)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[i]),m.reduce((g,y)=>{if(y)if(_a(g)){const j=y(g,p);return j===void 0?g:j}else{if(ps(g))return ik(g,v=>y(v,p));{const v=y(g,p);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},h)}return u.getInitialState=c,u}var zO=Symbol.for("rtk-slice-createasyncthunk");function LO(e,t){return`${e}/${t}`}function UO({creators:e}={}){var s;const t=(s=e==null?void 0:e.asyncThunk)==null?void 0:s[zO];return function(i){const{name:c,reducerPath:u=c}=i;if(!c)throw new Error(us(11));const h=(typeof i.reducers=="function"?i.reducers(BO()):i.reducers)||{},p=Object.keys(h),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(D,P){const M=typeof D=="string"?D:D.type;if(!M)throw new Error(us(12));if(M in m.sliceCaseReducersByType)throw new Error(us(13));return m.sliceCaseReducersByType[M]=P,g},addMatcher(D,P){return m.sliceMatchers.push({matcher:D,reducer:P}),g},exposeAction(D,P){return m.actionCreators[D]=P,g},exposeCaseReducer(D,P){return m.sliceCaseReducersByName[D]=P,g}};p.forEach(D=>{const P=h[D],M={reducerName:D,type:LO(c,D),createNotation:typeof i.reducers=="function"};FO(P)?HO(M,P,g,t):IO(M,P,g)});function y(){const[D={},P=[],M=void 0]=typeof i.extraReducers=="function"?ck(i.extraReducers):[i.extraReducers],U={...D,...m.sliceCaseReducersByType};return PO(i.initialState,_=>{for(let I in U)_.addCase(I,U[I]);for(let I of m.sliceMatchers)_.addMatcher(I.matcher,I.reducer);for(let I of P)_.addMatcher(I.matcher,I.reducer);M&&_.addDefaultCase(M)})}const v=D=>D,j=new Map,A=new WeakMap;let k;function E(D,P){return k||(k=y()),k(D,P)}function C(){return k||(k=y()),k.getInitialState()}function R(D,P=!1){function M(_){let I=_[D];return typeof I>"u"&&P&&(I=mu(A,M,C)),I}function U(_=v){const I=mu(j,P,()=>new WeakMap);return mu(I,_,()=>{const W={};for(const[H,se]of Object.entries(i.selectors??{}))W[H]=$O(se,_,()=>mu(A,_,C),P);return W})}return{reducerPath:D,getSelectors:U,get selectors(){return U(M)},selectSlice:M}}const N={name:c,reducer:E,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:C,...R(u),injectInto(D,{reducerPath:P,...M}={}){const U=P??u;return D.inject({reducerPath:U,reducer:E},M),{...N,...R(U,!0)}}};return N}}function $O(e,t,s,r){function i(c,...u){let h=t(c);return typeof h>"u"&&r&&(h=s()),e(h,...u)}return i.unwrapped=e,i}var uk=UO();function BO(){function e(t,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...s}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...s){return t(...s)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:s}},asyncThunk:e}}function IO({type:e,reducerName:t,createNotation:s},r,i){let c,u;if("reducer"in r){if(s&&!VO(r))throw new Error(us(17));c=r.reducer,u=r.prepare}else c=r;i.addCase(e,c).exposeCaseReducer(t,c).exposeAction(t,u?_1(e,u):_1(e))}function FO(e){return e._reducerDefinitionType==="asyncThunk"}function VO(e){return e._reducerDefinitionType==="reducerWithPrepare"}function HO({type:e,reducerName:t},s,r,i){if(!i)throw new Error(us(18));const{payloadCreator:c,fulfilled:u,pending:h,rejected:p,settled:m,options:g}=s,y=i(e,c,g);r.exposeAction(t,y),u&&r.addCase(y.fulfilled,u),h&&r.addCase(y.pending,h),p&&r.addCase(y.rejected,p),m&&r.addMatcher(y.settled,m),r.exposeCaseReducer(t,{fulfilled:u||pu,pending:h||pu,rejected:p||pu,settled:m||pu})}function pu(){}function us(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const GO={avatars:[],currentAvatar:null,loading:!1,error:null},dk=uk({name:"avatar",initialState:GO,reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setAvatars:(e,t)=>{e.avatars=t.payload},addAvatar:(e,t)=>{e.avatars.unshift(t.payload)},setCurrentAvatar:(e,t)=>{e.currentAvatar=t.payload},updateAvatar:(e,t)=>{const s=e.avatars.findIndex(r=>r.id===t.payload.id);s!==-1&&(e.avatars[s]=t.payload)},removeAvatar:(e,t)=>{e.avatars=e.avatars.filter(s=>s.id!==t.payload)}}}),{setLoading:j7,setError:k7,setAvatars:T7,addAvatar:C7,setCurrentAvatar:E7,updateAvatar:A7,removeAvatar:N7}=dk.actions,WO=dk.reducer,qO={stories:[],currentStory:null,loading:!1,error:null},hk=uk({name:"story",initialState:qO,reducers:{setLoading:(e,t)=>{e.loading=t.payload},setError:(e,t)=>{e.error=t.payload},setStories:(e,t)=>{e.stories=t.payload},addStory:(e,t)=>{e.stories.unshift(t.payload)},setCurrentStory:(e,t)=>{e.currentStory=t.payload},updateStory:(e,t)=>{const s=e.stories.findIndex(r=>r.id===t.payload.id);s!==-1&&(e.stories[s]=t.payload)},removeStory:(e,t)=>{e.stories=e.stories.filter(s=>s.id!==t.payload)}}}),{setLoading:R7,setError:M7,setStories:_7,addStory:O7,setCurrentStory:D7,updateStory:P7,removeStory:z7}=hk.actions,KO=hk.reducer,YO=OO({reducer:{avatar:WO,story:KO},middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST"]}})});/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XO=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,s,r)=>r?r.toUpperCase():s.toLowerCase()),P1=e=>{const t=XO(e);return t.charAt(0).toUpperCase()+t.slice(1)},fk=(...e)=>e.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:i="",children:c,iconNode:u,...h},p)=>b.createElement("svg",{ref:p,...ZO,width:t,height:t,stroke:e,strokeWidth:r?Number(s)*24/Number(t):s,className:fk("lucide",i),...h},[...u.map(([m,g])=>b.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const s=b.forwardRef(({className:r,...i},c)=>b.createElement(QO,{ref:c,iconNode:t,className:fk(`lucide-${JO(P1(e))}`,`lucide-${e}`,r),...i}));return s.displayName=P1(e),s};/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tD=xe("activity",eD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yn=xe("arrow-left",nD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jg=xe("arrow-right",rD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]],aD=xe("baby",sD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],oD=xe("beaker",iD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M16 8.2A2.22 2.22 0 0 0 13.8 6c-.8 0-1.4.3-1.8.9-.4-.6-1-.9-1.8-.9A2.22 2.22 0 0 0 8 8.2c0 .6.3 1.2.7 1.6A226.652 226.652 0 0 0 12 13a404 404 0 0 0 3.3-3.1 2.413 2.413 0 0 0 .7-1.7",key:"1t75a8"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],cD=xe("book-heart",lD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],dD=xe("book-marked",uD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],gn=xe("book-open",hD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],rd=xe("brain",fD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pD=xe("calendar",mD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],yD=xe("chart-column",gD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mk=xe("check",xD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],pk=xe("chevron-down",vD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],gk=xe("chevron-left",bD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Rd=xe("chevron-right",wD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],sd=xe("circle-alert",SD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z1=xe("circle-check",jD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ls=xe("circle-check-big",kD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],CD=xe("circle-help",TD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Dr=xe("clock",ED);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],yk=xe("code",AD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],RD=xe("crown",ND);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],_D=xe("dog",MD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],ad=xe("download",OD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],PD=xe("eye",DD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],LD=xe("file-text",zD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Ar=xe("flask-conical",UD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],BD=xe("funnel",$D);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],FD=xe("graduation-cap",ID);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Md=xe("heart",VD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xk=xe("house",HD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vk=xe("image",GD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Pm=xe("info",WD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],KD=xe("lightbulb",qD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],JD=xe("list-checks",YD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],id=xe("loader-circle",XD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],QD=xe("log-in",ZD);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],tP=xe("message-circle",eP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],rP=xe("mountain",nP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],aP=xe("music",sP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Xg=xe("pen-line",iP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],lP=xe("play",oP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cP=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zg=xe("plus",cP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uP=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],dP=xe("refresh-ccw",uP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hP=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],bk=xe("refresh-cw",hP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fP=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],mP=xe("rocket",fP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pP=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wk=xe("save",pP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gP=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],L1=xe("search",gP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yP=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xP=xe("send",yP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vP=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$u=xe("shield",vP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],wP=xe("shuffle",bP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Sk=xe("smile",SP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],wt=xe("sparkles",jP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],TP=xe("square-pen",kP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qg=xe("star",CP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],AP=xe("tag",EP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ds=xe("trash-2",NP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],MP=xe("trending-down",RP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ey=xe("trending-up",_P);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],jk=xe("upload",OP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],PP=xe("user-check",DP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],LP=xe("user-plus",zP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gs=xe("user",UP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],na=xe("users",$P);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],IP=xe("wand-sparkles",BP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_d=xe("x",FP);/**
 * @license lucide-react v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kk=xe("zap",VP),S={primary:{50:"#FFF5F7",100:"#FFE3E9",200:"#FFC7D3",300:"#FFA5BA",400:"#FF8BA8",500:"#FF6B9D",600:"#E85A8A",700:"#CC4B75",800:"#A83D61",900:"#7A2D47"},lavender:{50:"#F9F7FE",100:"#F1EBFD",200:"#E4D7FB",300:"#D1BDF8",400:"#BDA3F5",500:"#A989F2",600:"#8B6FDB",700:"#7055C4"},mint:{50:"#F0FDFB",200:"#B3F5EB",300:"#7EEEDE",500:"#2DD4BF",600:"#1DB5A0",700:"#179285"},peach:{400:"#FFAE7F",500:"#FF9B5C"},sky:{500:"#0EA5E9"},rose:{500:"#FF6FA9",600:"#E85A95"},lilac:{50:"#FAF8FF",200:"#E7DFFF",500:"#B197FF",700:"#8567CC"},sage:{300:"#BFD9C7",600:"#72A583"},background:{primary:"#FEFCFB",secondary:"#FFF8F5",tertiary:"#F9F5FF",card:"#FFFFFF"},text:{primary:"#2D3142",secondary:"#6B7088",tertiary:"#9BA0B5",inverse:"#FFFFFF"},border:{light:"#F0EBFF",normal:"#E4D7FB",strong:"#D1BDF8"},glass:{background:"linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(255,255,255,0.7) 100%)",backgroundAlt:"linear-gradient(135deg, rgba(255,248,255,0.95) 0%, rgba(249,245,255,0.8) 100%)",border:"rgba(209, 189, 248, 0.3)",shadow:"0 8px 32px rgba(169, 137, 242, 0.15)",shadowStrong:"0 12px 48px rgba(169, 137, 242, 0.25)"},semantic:{success:"#34D399",warning:"#FBBF24",error:"#F87171"},gradients:{primary:"linear-gradient(135deg, #FF6B9D 0%, #A989F2 100%)",secondary:"linear-gradient(135deg, #2DD4BF 0%, #0EA5E9 100%)",warm:"linear-gradient(135deg, #FF9B5C 0%, #FF6FA9 100%)",cool:"linear-gradient(135deg, #A989F2 0%, #0EA5E9 100%)",sunset:"linear-gradient(135deg, #FF9B5C 0%, #FF6B9D 100%)",ocean:"linear-gradient(135deg, #0EA5E9 0%, #2DD4BF 100%)",lavender:"linear-gradient(135deg, #D1BDF8 0%, #A989F2 100%)",background:"linear-gradient(135deg, #FFF8F5 0%, #F9F5FF 50%, #F0F9FF 100%)"}},hs=S.gradients,w={xxs:2,xs:4,sm:8,md:12,lg:16,xl:20,xxl:24,xxxl:32,huge:40,massive:48},fe={sm:12,md:16,lg:20,xl:24,xxl:28,pill:999},$e={soft:"0 2px 8px rgba(169, 137, 242, 0.08)",sm:"0 4px 12px rgba(169, 137, 242, 0.12)",md:"0 8px 24px rgba(169, 137, 242, 0.16)",lg:"0 12px 32px rgba(169, 137, 242, 0.2)",xl:"0 16px 48px rgba(169, 137, 242, 0.24)",colored:{pink:"0 8px 24px rgba(255, 107, 157, 0.25)",lavender:"0 8px 24px rgba(169, 137, 242, 0.25)",mint:"0 8px 24px rgba(45, 212, 191, 0.25)",peach:"0 8px 24px rgba(255, 155, 92, 0.25)"},glow:{pink:"0 0 32px rgba(255, 107, 157, 0.4)",lavender:"0 0 32px rgba(169, 137, 242, 0.4)",mint:"0 0 32px rgba(45, 212, 191, 0.4)"}},_e={duration:{fast:"150ms",normal:"250ms",slow:"350ms"},easing:{smooth:"cubic-bezier(0.4, 0, 0.2, 1)",bounce:"cubic-bezier(0.68, -0.55, 0.265, 1.55)",spring:"cubic-bezier(0.175, 0.885, 0.32, 1.275)"}},Ee=({children:e,className:t="",variant:s="default",padding:r="lg",onPress:i,style:c={}})=>{const u={borderRadius:`${fe.xl}px`,transition:"all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1)",padding:`${w[r]}px`,cursor:i?"pointer":"default",userSelect:"none",position:"relative",overflow:"hidden",...c},h={background:S.glass.background,border:`1px solid ${S.glass.border}`,boxShadow:S.glass.shadow,backdropFilter:"blur(18px) saturate(160%)",WebkitBackdropFilter:"blur(18px) saturate(160%)"},p={default:{backgroundColor:S.surface,border:`1px solid ${S.border}`},elevated:{...h},outlined:{backgroundColor:S.elevatedSurface,border:`2px solid ${S.border}`},playful:{...h,background:S.glass.warmBackground,border:`1px solid ${S.glass.border}`,boxShadow:$e.soft},glass:{...h}},m=i?{transform:"translateY(-4px) scale(1.02)",boxShadow:$e.lg}:{},g=i?{transform:"translateY(-1px) scale(0.98)"}:{},y={...u,...p[s]},v=i?"button":"div";return o.jsxs(v,{style:y,onClick:i,className:t,onMouseEnter:j=>{i&&Object.assign(j.currentTarget.style,{...y,...m})},onMouseLeave:j=>{i&&Object.assign(j.currentTarget.style,y)},onMouseDown:j=>{i&&Object.assign(j.currentTarget.style,{...y,...g})},onMouseUp:j=>{i&&Object.assign(j.currentTarget.style,{...y,...m})},children:[(s==="glass"||s==="elevated"||s==="playful")&&o.jsx("div",{style:{position:"absolute",top:0,left:"-20%",right:"-20%",height:"80px",background:"linear-gradient(180deg, rgba(255,255,255,0.35) 0%, rgba(255,255,255,0.0) 100%)",filter:"blur(8px)",pointerEvents:"none"}}),e]})},ee={fonts:{primary:'"Nunito", "Comic Sans MS", "Comic Neue", system-ui, sans-serif'},textStyles:{displayXl:{fontSize:"48px",fontWeight:"700",lineHeight:"56px",letterSpacing:"-0.5px",fontFamily:'"Fredoka", "Nunito", system-ui, sans-serif'},displayLg:{fontSize:"40px",fontWeight:"700",lineHeight:"48px",letterSpacing:"-0.4px",fontFamily:'"Fredoka", "Nunito", system-ui, sans-serif'},displayMd:{fontSize:"32px",fontWeight:"700",lineHeight:"40px",letterSpacing:"-0.3px",fontFamily:'"Fredoka", "Nunito", system-ui, sans-serif'},headingLg:{fontSize:"28px",fontWeight:"700",lineHeight:"36px",letterSpacing:"-0.2px",fontFamily:'"Nunito", system-ui, sans-serif'},headingMd:{fontSize:"24px",fontWeight:"600",lineHeight:"32px",letterSpacing:"-0.1px",fontFamily:'"Nunito", system-ui, sans-serif'},headingSm:{fontSize:"20px",fontWeight:"600",lineHeight:"28px",fontFamily:'"Nunito", system-ui, sans-serif'},bodyLg:{fontSize:"18px",fontWeight:"400",lineHeight:"28px",fontFamily:'"Nunito", system-ui, sans-serif'},body:{fontSize:"16px",fontWeight:"400",lineHeight:"24px",fontFamily:'"Nunito", system-ui, sans-serif'},bodySm:{fontSize:"14px",fontWeight:"400",lineHeight:"20px",fontFamily:'"Nunito", system-ui, sans-serif'},label:{fontSize:"14px",fontWeight:"600",lineHeight:"20px",fontFamily:'"Nunito", system-ui, sans-serif'},caption:{fontSize:"12px",fontWeight:"500",lineHeight:"16px",fontFamily:'"Nunito", system-ui, sans-serif'},tiny:{fontSize:"11px",fontWeight:"500",lineHeight:"14px",fontFamily:'"Nunito", system-ui, sans-serif'}}},Ve=({title:e,onPress:t,variant:s="primary",size:r="md",icon:i,disabled:c=!1,fullWidth:u=!1,className:h})=>{const p=()=>{const y={border:"none",cursor:c?"not-allowed":"pointer",transition:`all ${_e.duration.normal} ${_e.easing.smooth}`,opacity:c?.5:1};switch(s){case"primary":return{...y,background:S.gradients.primary,color:S.text.inverse,boxShadow:$e.colored.pink};case"secondary":return{...y,background:S.gradients.secondary,color:S.text.inverse,boxShadow:$e.colored.mint};case"outline":return{...y,background:"transparent",color:S.text.primary,border:`2px solid ${S.border.normal}`};case"ghost":return{...y,background:"transparent",color:S.text.primary};case"fun":return{...y,background:S.gradients.sunset,color:S.text.inverse,boxShadow:$e.colored.peach};default:return y}},m=()=>{switch(r){case"sm":return{padding:`${w.xs}px ${w.md}px`,...ee.textStyles.bodySm,borderRadius:`${fe.md}px`};case"md":return{padding:`${w.sm}px ${w.lg}px`,...ee.textStyles.body,borderRadius:`${fe.md}px`};case"lg":return{padding:`${w.md}px ${w.xl}px`,...ee.textStyles.bodyLg,borderRadius:`${fe.lg}px`};default:return{}}},g={...p(),...m(),display:"inline-flex",alignItems:"center",justifyContent:"center",gap:w.sm,fontWeight:"600",width:u?"100%":"auto"};return o.jsxs("button",{onClick:t,disabled:c,style:g,className:h,onMouseEnter:y=>{c||(y.currentTarget.style.transform="translateY(-2px) scale(1.02)",s==="primary"?y.currentTarget.style.boxShadow=$e.glow.pink:s==="secondary"?y.currentTarget.style.boxShadow=$e.glow.mint:s==="fun"&&(y.currentTarget.style.boxShadow="0 0 32px rgba(255, 155, 92, 0.5)"))},onMouseLeave:y=>{c||(y.currentTarget.style.transform="translateY(0) scale(1)",s==="primary"?y.currentTarget.style.boxShadow=$e.colored.pink:s==="secondary"?y.currentTarget.style.boxShadow=$e.colored.mint:s==="fun"?y.currentTarget.style.boxShadow=$e.colored.peach:y.currentTarget.style.boxShadow="none")},children:[i&&o.jsx("span",{style:{display:"flex",alignItems:"center"},children:i}),o.jsx("span",{children:e})]})},sr=({children:e,delay:t=0,duration:s=_e.duration.slow,distance:r=30})=>{const[i,c]=b.useState(!1);b.useEffect(()=>{const h=setTimeout(()=>c(!0),t);return()=>clearTimeout(h)},[t]);const u={opacity:i?1:0,transform:i?"translateY(0)":`translateY(${r}px)`,transition:`all ${s} ${_e.easing.smooth}`};return o.jsx("div",{style:u,children:e})},Mi=({children:e,delay:t=0,duration:s=3,distance:r=10})=>{const i={animation:`float ${s}s ease-in-out ${t}s infinite`};return o.jsxs(o.Fragment,{children:[o.jsx("div",{style:i,children:e}),o.jsx("style",{children:`
        @keyframes float {
          0%, 100% {
            transform: translateY(0px);
          }
          50% {
            transform: translateY(-${r}px);
          }
        }
      `})]})},HP=typeof globalThis=="object"&&"window"in globalThis;let GP=class Tk{constructor(t,s){this.target=t,this.options=s??{};const r=new XP(this.target,this.options);this.admin=new zp.ServiceClient(r),this.ai=new Lp.ServiceClient(r),this.avatar=new Up.ServiceClient(r),this.doku=new $p.ServiceClient(r),this.fairytales=new Bp.ServiceClient(r),this.frontend=new Ip.ServiceClient(r),this.health=new Fp.ServiceClient(r),this.log=new Vp.ServiceClient(r),this.story=new Hp.ServiceClient(r),this.tavi=new Gp.ServiceClient(r),this.user=new Wp.ServiceClient(r)}with(t){return new Tk(this.target,{...this.options,...t})}};var zp;(e=>{class t{constructor(r){this.baseClient=r,this.deleteUser=this.deleteUser.bind(this),this.getStats=this.getStats.bind(this),this.listAvatarsAdmin=this.listAvatarsAdmin.bind(this),this.listUsers=this.listUsers.bind(this),this.promoteToAdmin=this.promoteToAdmin.bind(this),this.updateAvatarAdmin=this.updateAvatarAdmin.bind(this),this.updateUser=this.updateUser.bind(this)}async deleteUser(r){return await(await this.baseClient.callTypedAPI("DELETE",`/admin/users/${encodeURIComponent(r)}`)).json()}async getStats(){return await(await this.baseClient.callTypedAPI("GET","/admin/stats")).json()}async listAvatarsAdmin(r){const i=Nr({cursor:r.cursor,limit:r.limit===void 0?void 0:String(r.limit),q:r.q,userId:r.userId});return await(await this.baseClient.callTypedAPI("GET","/admin/avatars",void 0,{query:i})).json()}async listUsers(r){const i=Nr({cursor:r.cursor,limit:r.limit===void 0?void 0:String(r.limit),q:r.q});return await(await this.baseClient.callTypedAPI("GET","/admin/users",void 0,{query:i})).json()}async promoteToAdmin(){return await(await this.baseClient.callTypedAPI("POST","/admin/promote-first-admin")).json()}async updateAvatarAdmin(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/admin/avatars/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}async updateUser(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/admin/users/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}}e.ServiceClient=t})(zp||(zp={}));var Lp;(e=>{class t{constructor(r){this.baseClient=r,this.analyzeAvatarImage=this.analyzeAvatarImage.bind(this),this.analyzePersonalityDevelopment=this.analyzePersonalityDevelopment.bind(this),this.checkPersonalityUpdate=this.checkPersonalityUpdate.bind(this),this.generateAvatarImage=this.generateAvatarImage.bind(this),this.generateImage=this.generateImage.bind(this),this.generateImagesBatch=this.generateImagesBatch.bind(this),this.getPersonalityHistory=this.getPersonalityHistory.bind(this),this.trackPersonalityUpdate=this.trackPersonalityUpdate.bind(this)}async analyzeAvatarImage(r){return await(await this.baseClient.callTypedAPI("POST","/ai/analyze-avatar-image",JSON.stringify(r))).json()}async analyzePersonalityDevelopment(r){return await(await this.baseClient.callTypedAPI("POST","/ai/analyze-personality",JSON.stringify(r))).json()}async checkPersonalityUpdate(r){const i=Nr({avatarId:r.avatarId,contentId:r.contentId,contentType:String(r.contentType)});return await(await this.baseClient.callTypedAPI("GET","/ai/check-personality-update",void 0,{query:i})).json()}async generateAvatarImage(r){return await(await this.baseClient.callTypedAPI("POST","/ai/generate-avatar",JSON.stringify(r))).json()}async generateImage(r){return await(await this.baseClient.callTypedAPI("POST","/ai/generate-image",JSON.stringify(r))).json()}async generateImagesBatch(r){return await(await this.baseClient.callTypedAPI("POST","/ai/generate-images-batch",JSON.stringify(r))).json()}async getPersonalityHistory(r){return await(await this.baseClient.callTypedAPI("GET",`/ai/personality-history/${encodeURIComponent(r)}`)).json()}async trackPersonalityUpdate(r){return await(await this.baseClient.callTypedAPI("POST","/ai/track-personality-update",JSON.stringify(r))).json()}}e.ServiceClient=t})(Lp||(Lp={}));var Up;(e=>{class t{constructor(r){this.baseClient=r,this.addMemory=this.addMemory.bind(this),this.create=this.create.bind(this),this.debugPersonality=this.debugPersonality.bind(this),this.deleteAvatar=this.deleteAvatar.bind(this),this.deleteMemory=this.deleteMemory.bind(this),this.generatePortrait=this.generatePortrait.bind(this),this.get=this.get.bind(this),this.getMemories=this.getMemories.bind(this),this.list=this.list.bind(this),this.migrateToEnglish=this.migrateToEnglish.bind(this),this.reducePersonalityTrait=this.reducePersonalityTrait.bind(this),this.resetDokuHistory=this.resetDokuHistory.bind(this),this.resetPersonalityTraits=this.resetPersonalityTraits.bind(this),this.update=this.update.bind(this),this.updatePersonality=this.updatePersonality.bind(this),this.upgradeAllPersonalityTraits=this.upgradeAllPersonalityTraits.bind(this)}async addMemory(r){return await(await this.baseClient.callTypedAPI("POST","/avatar/memory",JSON.stringify(r))).json()}async create(r){return await(await this.baseClient.callTypedAPI("POST","/avatar",JSON.stringify(r))).json()}async debugPersonality(r){return await(await this.baseClient.callTypedAPI("GET",`/avatar/${encodeURIComponent(r)}/debug-personality`)).json()}async deleteAvatar(r){await this.baseClient.callTypedAPI("DELETE",`/avatar/${encodeURIComponent(r)}`)}async deleteMemory(r,i){return await(await this.baseClient.callTypedAPI("DELETE",`/avatar/${encodeURIComponent(r)}/memory/${encodeURIComponent(i)}`)).json()}async generatePortrait(r){return await(await this.baseClient.callTypedAPI("POST","/avatar/generate-portrait",JSON.stringify(r))).json()}async get(r){return await(await this.baseClient.callTypedAPI("GET",`/avatar/${encodeURIComponent(r)}`)).json()}async getMemories(r){return await(await this.baseClient.callTypedAPI("GET",`/avatar/${encodeURIComponent(r)}/memories`)).json()}async list(){return await(await this.baseClient.callTypedAPI("GET","/avatars")).json()}async migrateToEnglish(){return await(await this.baseClient.callTypedAPI("POST","/avatar/migrate-to-english")).json()}async reducePersonalityTrait(r,i){return await(await this.baseClient.callTypedAPI("POST",`/avatar/${encodeURIComponent(r)}/reduce-trait`,JSON.stringify(i))).json()}async resetDokuHistory(r,i){return await(await this.baseClient.callTypedAPI("POST",`/avatar/${encodeURIComponent(r)}/reset-doku-history`,JSON.stringify(i))).json()}async resetPersonalityTraits(){return await(await this.baseClient.callTypedAPI("POST","/avatar/reset-personality-traits")).json()}async update(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/avatar/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}async updatePersonality(r){return await(await this.baseClient.callTypedAPI("POST","/avatar/personality",JSON.stringify(r))).json()}async upgradeAllPersonalityTraits(){return await(await this.baseClient.callTypedAPI("POST","/avatar/upgrade-traits")).json()}}e.ServiceClient=t})(Up||(Up={}));var $p;(e=>{class t{constructor(r){this.baseClient=r,this.deleteDoku=this.deleteDoku.bind(this),this.generateDoku=this.generateDoku.bind(this),this.getDoku=this.getDoku.bind(this),this.listDokus=this.listDokus.bind(this),this.markRead=this.markRead.bind(this),this.updateDoku=this.updateDoku.bind(this)}async deleteDoku(r){await this.baseClient.callTypedAPI("DELETE",`/doku/${encodeURIComponent(r)}`)}async generateDoku(r){return await(await this.baseClient.callTypedAPI("POST","/doku/generate",JSON.stringify(r))).json()}async getDoku(r){return await(await this.baseClient.callTypedAPI("GET",`/doku/${encodeURIComponent(r)}`)).json()}async listDokus(r){const i=Nr({limit:r.limit===void 0?void 0:String(r.limit),offset:r.offset===void 0?void 0:String(r.offset)});return await(await this.baseClient.callTypedAPI("GET","/dokus",void 0,{query:i})).json()}async markRead(r){return await(await this.baseClient.callTypedAPI("POST","/doku/mark-read",JSON.stringify(r))).json()}async updateDoku(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/doku/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}}e.ServiceClient=t})($p||($p={}));var Bp;(e=>{class t{constructor(r){this.baseClient=r,this.addFairyTaleRole=this.addFairyTaleRole.bind(this),this.addFairyTaleScene=this.addFairyTaleScene.bind(this),this.createFairyTale=this.createFairyTale.bind(this),this.generateStory=this.generateStory.bind(this),this.getFairyTale=this.getFairyTale.bind(this),this.getGeneratedStory=this.getGeneratedStory.bind(this),this.listFairyTales=this.listFairyTales.bind(this),this.validateCharacterMapping=this.validateCharacterMapping.bind(this)}async addFairyTaleRole(r,i){return await(await this.baseClient.callTypedAPI("POST",`/fairytales/${encodeURIComponent(r)}/roles`,JSON.stringify(i))).json()}async addFairyTaleScene(r,i){return await(await this.baseClient.callTypedAPI("POST",`/fairytales/${encodeURIComponent(r)}/scenes`,JSON.stringify(i))).json()}async createFairyTale(r){return await(await this.baseClient.callTypedAPI("POST","/fairytales",JSON.stringify(r))).json()}async generateStory(r,i){return await(await this.baseClient.callTypedAPI("POST",`/fairytales/${encodeURIComponent(r)}/generate`,JSON.stringify(i))).json()}async getFairyTale(r,i){const c=Nr({includeRoles:i.includeRoles===void 0?void 0:String(i.includeRoles),includeScenes:i.includeScenes===void 0?void 0:String(i.includeScenes)});return await(await this.baseClient.callTypedAPI("GET",`/fairytales/${encodeURIComponent(r)}`,void 0,{query:c})).json()}async getGeneratedStory(r,i){const c=Nr({includeScenes:i.includeScenes===void 0?void 0:String(i.includeScenes)});return await(await this.baseClient.callTypedAPI("GET",`/stories/${encodeURIComponent(r)}`,void 0,{query:c})).json()}async listFairyTales(r){var u;const i=Nr({genres:(u=r.genres)==null?void 0:u.map(h=>h),limit:r.limit===void 0?void 0:String(r.limit),maxAge:r.maxAge===void 0?void 0:String(r.maxAge),minAge:r.minAge===void 0?void 0:String(r.minAge),offset:r.offset===void 0?void 0:String(r.offset),source:r.source});return await(await this.baseClient.callTypedAPI("GET","/fairytales",void 0,{query:i})).json()}async validateCharacterMapping(r,i){return await(await this.baseClient.callTypedAPI("POST",`/fairytales/${encodeURIComponent(r)}/validate-mapping`,JSON.stringify(i))).json()}}e.ServiceClient=t})(Bp||(Bp={}));var Ip;(e=>{class t{constructor(r){this.baseClient=r,this.assets=this.assets.bind(this)}async assets(r){await this.baseClient.callTypedAPI("HEAD",`/frontend/${r.map(encodeURIComponent).join("/")}`)}}e.ServiceClient=t})(Ip||(Ip={}));var Fp;(e=>{class t{constructor(r){this.baseClient=r,this.checkFairyTaleStats=this.checkFairyTaleStats.bind(this),this.completeFairyTalesSetup=this.completeFairyTalesSetup.bind(this),this.createFairyTalesTable=this.createFairyTalesTable.bind(this),this.dbStatus=this.dbStatus.bind(this),this.fixUsageCount=this.fixUsageCount.bind(this),this.fixUsageCountColumn=this.fixUsageCountColumn.bind(this),this.health=this.health.bind(this),this.import150FairyTales=this.import150FairyTales.bind(this),this.initializeDatabaseMigrations=this.initializeDatabaseMigrations.bind(this),this.runMigrations=this.runMigrations.bind(this)}async checkFairyTaleStats(){return await(await this.baseClient.callTypedAPI("GET","/health/check-fairy-tale-stats")).json()}async completeFairyTalesSetup(){return await(await this.baseClient.callTypedAPI("POST","/health/complete-fairy-tales-setup")).json()}async createFairyTalesTable(){return await(await this.baseClient.callTypedAPI("POST","/health/create-fairy-tales-table")).json()}async dbStatus(){return await(await this.baseClient.callTypedAPI("GET","/health/db-status")).json()}async fixUsageCount(){return await(await this.baseClient.callTypedAPI("GET","/health/fix-usage-count")).json()}async fixUsageCountColumn(){return await(await this.baseClient.callTypedAPI("POST","/health/fix-usage-count-column")).json()}async health(){return await(await this.baseClient.callTypedAPI("GET","/health")).json()}async import150FairyTales(){return await(await this.baseClient.callTypedAPI("POST","/health/import-150-fairy-tales")).json()}async initializeDatabaseMigrations(){return await(await this.baseClient.callTypedAPI("GET","/init")).json()}async runMigrations(){return await(await this.baseClient.callTypedAPI("POST","/health/run-migrations")).json()}}e.ServiceClient=t})(Fp||(Fp={}));var Vp;(e=>{class t{constructor(r){this.baseClient=r,this.debug=this.debug.bind(this),this.get=this.get.bind(this),this.getSources=this.getSources.bind(this),this.list=this.list.bind(this),this.runMigration=this.runMigration.bind(this)}async debug(){return await(await this.baseClient.callTypedAPI("GET","/log/debug")).json()}async get(r){return await(await this.baseClient.callTypedAPI("GET",`/log/get/${encodeURIComponent(r)}`)).json()}async getSources(){return await(await this.baseClient.callTypedAPI("GET","/log/getSources")).json()}async list(r){const i=Nr({date:r.date,limit:r.limit===void 0?void 0:String(r.limit),source:r.source});return await(await this.baseClient.callTypedAPI("GET","/log/list",void 0,{query:i})).json()}async runMigration(){return await(await this.baseClient.callTypedAPI("POST","/log/run-migration")).json()}}e.ServiceClient=t})(Vp||(Vp={}));var Hp;(e=>{class t{constructor(r){this.baseClient=r,this.addCharacter=this.addCharacter.bind(this),this.deleteCharacter=this.deleteCharacter.bind(this),this.deleteStory=this.deleteStory.bind(this),this.exportCharacters=this.exportCharacters.bind(this),this.generate=this.generate.bind(this),this.generateCharacterImage=this.generateCharacterImage.bind(this),this.generateFromFairyTale=this.generateFromFairyTale.bind(this),this.generateStoryContent=this.generateStoryContent.bind(this),this.get=this.get.bind(this),this.getCharacter=this.getCharacter.bind(this),this.getCharacterStats=this.getCharacterStats.bind(this),this.getFairyTaleDetails=this.getFairyTaleDetails.bind(this),this.importCharacters=this.importCharacters.bind(this),this.list=this.list.bind(this),this.listAvailableFairyTales=this.listAvailableFairyTales.bind(this),this.listCharacters=this.listCharacters.bind(this),this.markRead=this.markRead.bind(this),this.resetRecentUsage=this.resetRecentUsage.bind(this),this.seedPool=this.seedPool.bind(this),this.update=this.update.bind(this),this.updateCharacter=this.updateCharacter.bind(this)}async addCharacter(r){return await(await this.baseClient.callTypedAPI("POST","/story/character-pool",JSON.stringify(r))).json()}async deleteCharacter(r){return await(await this.baseClient.callTypedAPI("DELETE",`/story/character-pool/${encodeURIComponent(r)}`)).json()}async deleteStory(r){await this.baseClient.callTypedAPI("DELETE",`/story/${encodeURIComponent(r)}`)}async exportCharacters(){return await(await this.baseClient.callTypedAPI("GET","/story/character-pool/export")).json()}async generate(r){return await(await this.baseClient.callTypedAPI("POST","/story/generate",JSON.stringify(r))).json()}async generateCharacterImage(r,i){return await(await this.baseClient.callTypedAPI("POST",`/story/character-pool/${encodeURIComponent(r)}/generate-image`,JSON.stringify(i))).json()}async generateFromFairyTale(r){return await(await this.baseClient.callTypedAPI("POST","/story/generate-from-fairytale",JSON.stringify(r))).json()}async generateStoryContent(r){return await(await this.baseClient.callTypedAPI("POST","/ai/generate-story",JSON.stringify(r))).json()}async get(r){return await(await this.baseClient.callTypedAPI("GET",`/story/${encodeURIComponent(r)}`)).json()}async getCharacter(r){return await(await this.baseClient.callTypedAPI("GET",`/story/character-pool/${encodeURIComponent(r)}`)).json()}async getCharacterStats(r){return await(await this.baseClient.callTypedAPI("GET",`/story/character-pool/${encodeURIComponent(r)}/stats`)).json()}async getFairyTaleDetails(r){await this.baseClient.callTypedAPI("GET",`/story/fairytale/${encodeURIComponent(r)}`)}async importCharacters(r){return await(await this.baseClient.callTypedAPI("POST","/story/character-pool/import",JSON.stringify(r))).json()}async list(r){const i=Nr({limit:r.limit===void 0?void 0:String(r.limit),offset:r.offset===void 0?void 0:String(r.offset)});return await(await this.baseClient.callTypedAPI("GET","/stories",void 0,{query:i})).json()}async listAvailableFairyTales(){await this.baseClient.callTypedAPI("GET","/story/available-fairytales")}async listCharacters(){return await(await this.baseClient.callTypedAPI("GET","/story/character-pool")).json()}async markRead(r){return await(await this.baseClient.callTypedAPI("POST","/story/mark-read",JSON.stringify(r))).json()}async resetRecentUsage(){return await(await this.baseClient.callTypedAPI("POST","/story/character-pool/reset-usage")).json()}async seedPool(){return await(await this.baseClient.callTypedAPI("POST","/story/character-pool/seed")).json()}async update(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/story/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}async updateCharacter(r,i){return await(await this.baseClient.callTypedAPI("PUT",`/story/character-pool/${encodeURIComponent(r)}`,JSON.stringify(i))).json()}}e.ServiceClient=t})(Hp||(Hp={}));var Gp;(e=>{class t{constructor(r){this.baseClient=r,this.taviChat=this.taviChat.bind(this)}async taviChat(r){return await(await this.baseClient.callTypedAPI("POST","/tavi/chat",JSON.stringify(r))).json()}}e.ServiceClient=t})(Gp||(Gp={}));var Wp;(e=>{class t{constructor(r){this.baseClient=r,this.create=this.create.bind(this),this.get=this.get.bind(this),this.me=this.me.bind(this)}async create(r){return await(await this.baseClient.callTypedAPI("POST","/user",JSON.stringify(r))).json()}async get(r){return await(await this.baseClient.callTypedAPI("GET",`/user/${encodeURIComponent(r)}`)).json()}async me(){return await(await this.baseClient.callTypedAPI("GET","/user/me")).json()}}e.ServiceClient=t})(Wp||(Wp={}));function gu(e){const t=[];for(const s in e){const r=Array.isArray(e[s])?e[s]:[e[s]];for(const i of r)t.push(`${s}=${encodeURIComponent(i)}`)}return t.join("&")}function Nr(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function WP(e){return"encore.dev.headers."+btoa(JSON.stringify(e)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}let ty=class{constructor(t,s){this.hasUpdateHandlers=[];let r=["encore-ws"];s&&r.push(WP(s)),this.ws=new WebSocket(t,r),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const t=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const s of t)s()}async hasUpdate(){await new Promise(t=>{this.hasUpdateHandlers.push(()=>t(null))})}on(t,s){this.ws.addEventListener(t,s)}off(t,s){this.ws.removeEventListener(t,s)}close(){this.ws.close()}},qP=class{constructor(t,s){this.buffer=[],this.socket=new ty(t,s),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(s=>{this.socket.ws.addEventListener("open",s,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}},KP=class{constructor(t,s){this.buffer=[],this.socket=new ty(t,s),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}},YP=class{constructor(t,s){let r;this.responseValue=new Promise(i=>r=i),this.socket=new ty(t,s),this.socket.on("message",i=>{r(JSON.parse(i.data))})}async response(){return this.responseValue}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(s=>{this.socket.ws.addEventListener("open",s,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}};const JP=fetch.bind(void 0);let XP=class{constructor(t,s){if(this.baseURL=t,this.headers={},HP||(this.headers["User-Agent"]="talea-storytelling-platform-4ot2-Generated-TS-Client (Encore/v1.50.4)"),this.requestInit=s.requestInit??{},s.fetcher!==void 0?this.fetcher=s.fetcher:this.fetcher=JP,s.auth!==void 0){const r=s.auth;typeof r=="function"?this.authGenerator=r:this.authGenerator=()=>r}}async getAuthData(){let t;if(this.authGenerator){const s=this.authGenerator();s instanceof Promise?t=await s:t=s}if(t){const s={};return s.headers=Nr({authorization:t.authorization}),s}}async createStreamInOut(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+gu(r):"";return new qP(this.baseURL+t+u,i)}async createStreamIn(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+gu(r):"";return new KP(this.baseURL+t+u,i)}async createStreamOut(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+gu(r):"";return new YP(this.baseURL+t+u,i)}async callTypedAPI(t,s,r,i){return this.callAPI(t,s,r,{...i,headers:{"Content-Type":"application/json",...i==null?void 0:i.headers}})}async callAPI(t,s,r,i){let{query:c,headers:u,...h}=i??{};const p={...this.requestInit,...h,method:t,body:r??null};p.headers={...this.headers,...p.headers,...u};const m=await this.getAuthData();m&&(m.query&&(c={...c,...m.query}),m.headers&&(p.headers={...p.headers,...m.headers}));const g=c?"?"+gu(c):"",y=await this.fetcher(this.baseURL+s+g,p);if(!y.ok){let v={code:"unknown",message:`request failed: status ${y.status}`};try{const j=await y.text();try{const A=JSON.parse(j);ZP(A)?v=A:v.message+=": "+JSON.stringify(A)}catch{v.message+=": "+j}}catch(j){v.message+=": "+String(j)}throw new e3(y.status,v)}return y}};function ZP(e){return e!=null&&QP(e.code)&&typeof e.message=="string"&&(e.details===void 0||e.details===null||typeof e.details=="object")}function QP(e){return e!==void 0&&Object.values(Ck).includes(e)}let e3=class qp extends Error{constructor(t,s){super(s.message),Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=qp.prototype:Object.setPrototypeOf(this,qp.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=t,this.code=s.code,this.details=s.details}};var Ck=(e=>(e.OK="ok",e.Canceled="canceled",e.Unknown="unknown",e.InvalidArgument="invalid_argument",e.DeadlineExceeded="deadline_exceeded",e.NotFound="not_found",e.AlreadyExists="already_exists",e.PermissionDenied="permission_denied",e.ResourceExhausted="resource_exhausted",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.Unimplemented="unimplemented",e.Internal="internal",e.Unavailable="unavailable",e.DataLoss="data_loss",e.Unauthenticated="unauthenticated",e))(Ck||{});function Ek(){var e;return typeof window<"u"&&((e=window.ENV)!=null&&e.CLERK_PUBLISHABLE_KEY)?window.ENV.CLERK_PUBLISHABLE_KEY:"pk_test_c2luY2VyZS1qYXktNC5jbGVyay5hY2NvdW50cy5kZXYk"}const Kp=Ek();function ny(){var e;return typeof window<"u"&&((e=window.ENV)!=null&&e.BACKEND_URL)?window.ENV.BACKEND_URL:"http://localhost:4000"}const Ji=Object.freeze(Object.defineProperty({__proto__:null,clerkPublishableKey:Kp,getBackendUrl:ny,getClerkPublishableKey:Ek},Symbol.toStringTag,{value:"Module"}));function yt(){const{getToken:e,isSignedIn:t,isLoaded:s}=vr(),r=ny();return b.useMemo(()=>new GP(r,{auth:async()=>{if(!s||!t)return;const i=await e();return i?{authorization:`Bearer ${i}`}:void 0},requestInit:{credentials:"include"}}),[r,e,t,s])}const t3=()=>{const e=Gt();return o.jsxs("div",{style:{textAlign:"center",padding:`${w.massive}px ${w.xl}px`,minHeight:"80vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[o.jsx(sr,{delay:0,children:o.jsx(Mi,{delay:0,duration:4,distance:15,children:o.jsx("div",{style:{fontSize:"120px",marginBottom:w.xl},children:""})})}),o.jsx(sr,{delay:200,children:o.jsx("h1",{style:{...ee.textStyles.displayXl,color:S.text.primary,marginBottom:w.lg,background:S.gradients.primary,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Willkommen bei Talea!"})}),o.jsx(sr,{delay:300,children:o.jsx("p",{style:{...ee.textStyles.bodyLg,color:S.text.secondary,maxWidth:"600px",margin:"0 auto",marginBottom:w.xxxl,lineHeight:"1.8"},children:"Erstelle magische Geschichten und lehrreiche Dokumentationen mit deinen eigenen, einzigartigen Avataren."})}),o.jsx(sr,{delay:400,children:o.jsx(Ve,{title:"Jetzt einloggen oder registrieren",onPress:()=>e("/auth"),variant:"primary",size:"lg",icon:o.jsx(QD,{size:24})})})]})},U1=()=>{const e=Gt(),t=yt(),{user:s,isSignedIn:r,isLoaded:i}=Yi(),[c,u]=b.useState([]),[h,p]=b.useState([]),[m,g]=b.useState([]),[y,v]=b.useState(!1),[j,A]=b.useState(!0);b.useEffect(()=>{i&&r&&s?k():i&&!r&&A(!1)},[i,r,s]);const k=async()=>{try{A(!0);const[M,U,_]=await Promise.all([t.avatar.list(),t.story.list(),t.doku.listDokus()]);u(M.avatars),p(U.stories),g(_.dokus)}catch(M){console.error("Error loading data:",M)}finally{A(!1)}},E=async()=>{s&&(v(!0),await k(),v(!1))},C=async(M,U)=>{if(window.confirm(`Mchtest du "${U}" wirklich lschen?`))try{await t.avatar.deleteAvatar(M),u(c.filter(_=>_.id!==M))}catch(_){console.error("Error deleting avatar:",_),alert("Fehler beim Lschen des Avatars.")}},R=async(M,U)=>{if(window.confirm(`Mchtest du die Geschichte "${U}" wirklich lschen?`))try{await t.story.deleteStory(M),p(h.filter(_=>_.id!==M))}catch(_){console.error("Error deleting story:",_),alert("Fehler beim Lschen der Geschichte.")}},N=async(M,U)=>{if(window.confirm(`Mchtest du die Doku "${U}" wirklich lschen?`))try{await t.doku.deleteDoku(M),g(m.filter(_=>_.id!==M))}catch(_){console.error("Error deleting doku:",_),alert("Fehler beim Lschen der Doku.")}},D={minHeight:"100vh",background:S.gradients.background,paddingBottom:"140px",position:"relative"},P={position:"absolute",filter:"blur(100px)",opacity:.3,borderRadius:"50%",pointerEvents:"none"};return j||!i?o.jsx("div",{style:{...D,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx(Mi,{duration:2,distance:20,children:o.jsx("div",{style:{fontSize:"80px",marginBottom:w.xl},children:""})}),o.jsx("p",{style:{...ee.textStyles.headingMd,color:S.text.secondary},children:"Lade deine magische Welt..."})]})}):o.jsxs("div",{style:D,children:[o.jsx("div",{style:{...P,width:"400px",height:"400px",top:"10%",left:"5%",background:S.primary[300]}}),o.jsx("div",{style:{...P,width:"350px",height:"350px",top:"40%",right:"0%",background:S.lavender[300]}}),o.jsx("div",{style:{...P,width:"300px",height:"300px",bottom:"10%",left:"50%",background:S.mint[300]}}),o.jsx(za,{children:o.jsx(t3,{})}),o.jsxs(ea,{children:[o.jsx(sr,{delay:0,children:o.jsx("div",{style:{padding:`${w.xxxl}px ${w.xl}px ${w.xl}px`},children:o.jsxs("div",{style:{background:S.glass.backgroundAlt,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderRadius:`${fe.xxl}px`,padding:`${w.xxl}px`,border:`2px solid ${S.border.light}`,boxShadow:$e.xl,position:"relative"},children:[o.jsx(Mi,{delay:.5,duration:3,distance:8,children:o.jsx(Qg,{style:{position:"absolute",top:w.lg,left:w.lg,opacity:.2,color:S.primary[500]},size:32})}),o.jsx(Mi,{delay:.8,duration:3.5,distance:10,children:o.jsx(Md,{style:{position:"absolute",top:w.xl,right:w.xxxl,opacity:.2,color:S.rose[500]},size:28})}),o.jsx(Mi,{delay:1.1,duration:4,distance:12,children:o.jsx(wt,{style:{position:"absolute",bottom:w.lg,left:w.xxxl,opacity:.2,color:S.lavender[500]},size:36})}),o.jsx("div",{style:{...ee.textStyles.displayMd,color:S.text.primary,marginBottom:w.sm},children:"Willkommen zurck! "}),o.jsx("div",{style:{...ee.textStyles.bodyLg,color:S.text.secondary,marginBottom:w.xl},children:"Erschaffe magische Geschichten mit deinen Avataren"}),o.jsxs("div",{style:{position:"absolute",top:w.xl,right:w.xl,display:"flex",alignItems:"center",gap:w.md},children:[o.jsx("button",{onClick:E,disabled:y,style:{padding:`${w.md}px`,borderRadius:`${fe.pill}px`,background:S.glass.background,border:`2px solid ${S.border.light}`,cursor:"pointer",transition:`all ${_e.duration.normal} ${_e.easing.smooth}`},onMouseEnter:M=>{M.currentTarget.style.transform="scale(1.1)",M.currentTarget.style.borderColor=S.lavender[400]},onMouseLeave:M=>{M.currentTarget.style.transform="scale(1)",M.currentTarget.style.borderColor=S.border.light},children:o.jsx(bk,{size:20,style:{color:S.lavender[600],animation:y?"spin 1s linear infinite":"none"}})}),o.jsx(Fj,{afterSignOutUrl:"/"})]})]})})}),o.jsx(sr,{delay:100,children:o.jsxs("div",{style:{padding:`0 ${w.xl}px`,marginBottom:w.xxxl},children:[o.jsxs("div",{style:{...ee.textStyles.headingLg,color:S.text.primary,marginBottom:w.lg,display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx(wt,{size:32,style:{color:S.primary[500]}}),"Schnellaktionen"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:w.lg},children:[o.jsx(Ee,{variant:"glass",onPress:()=>e("/avatar"),children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xl}px`},children:[o.jsx("div",{style:{width:"72px",height:"72px",background:S.gradients.lavender,borderRadius:`${fe.xxl}px`,display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${w.md}px auto`,boxShadow:$e.colored.lavender},children:o.jsx(gs,{size:36,style:{color:S.text.inverse}})}),o.jsx("div",{style:{...ee.textStyles.headingSm,color:S.text.primary,marginBottom:w.xs},children:"Avatar erstellen"}),o.jsx("div",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:"Erschaffe einen neuen Charakter"})]})}),o.jsx(Ee,{variant:"glass",onPress:()=>e("/story"),children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xl}px`},children:[o.jsx("div",{style:{width:"72px",height:"72px",background:S.gradients.sunset,borderRadius:`${fe.xxl}px`,display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${w.md}px auto`,boxShadow:$e.colored.pink},children:o.jsx(gn,{size:36,style:{color:S.text.inverse}})}),o.jsx("div",{style:{...ee.textStyles.headingSm,color:S.text.primary,marginBottom:w.xs},children:"Geschichte erstellen"}),o.jsx("div",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:"Starte ein neues Abenteuer"})]})}),o.jsx(Ee,{variant:"glass",onPress:()=>e("/doku"),children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xl}px`},children:[o.jsx("div",{style:{width:"72px",height:"72px",background:S.gradients.ocean,borderRadius:`${fe.xxl}px`,display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${w.md}px auto`,boxShadow:$e.colored.mint},children:o.jsx(Ar,{size:36,style:{color:S.text.inverse}})}),o.jsx("div",{style:{...ee.textStyles.headingSm,color:S.text.primary,marginBottom:w.xs},children:"Doku erstellen"}),o.jsx("div",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:"Lerne etwas Neues"})]})})]})]})}),o.jsx(sr,{delay:200,children:o.jsxs("div",{style:{padding:`0 ${w.xl}px`,marginBottom:w.xxxl},children:[o.jsxs("div",{style:{...ee.textStyles.headingLg,color:S.text.primary,marginBottom:w.lg,display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx(gs,{size:32,style:{color:S.lavender[500]}}),"Deine Avatare (",c.length,")"]}),c.length===0?o.jsx(Ee,{variant:"glass",children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.huge}px`},children:[o.jsx("div",{style:{fontSize:"80px",marginBottom:w.lg},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.sm},children:"Noch keine Avatare"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:w.xl},children:"Erstelle deinen ersten Avatar, um loszulegen!"}),o.jsx(Ve,{title:"Avatar erstellen",onPress:()=>e("/avatar"),icon:o.jsx(Zg,{size:20}),variant:"fun"})]})}):o.jsx("div",{style:{display:"flex",gap:w.lg,overflowX:"auto",paddingBottom:w.sm},children:c.map((M,U)=>o.jsx(sr,{delay:300+U*50,children:o.jsx(Ee,{variant:"glass",style:{minWidth:"200px"},children:o.jsxs("div",{style:{padding:w.lg,position:"relative",textAlign:"center"},children:[o.jsxs("div",{style:{position:"absolute",top:w.sm,right:w.sm,display:"flex",gap:w.xs},children:[o.jsx("button",{onClick:()=>e(`/avatar/edit/${M.id}`),style:{width:"32px",height:"32px",borderRadius:`${fe.pill}px`,background:S.glass.background,border:`2px solid ${S.border.light}`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(TP,{size:16,style:{color:S.lavender[600]}})}),o.jsx("button",{onClick:()=>C(M.id,M.name),style:{width:"32px",height:"32px",borderRadius:`${fe.pill}px`,background:S.semantic.error+"20",border:`2px solid ${S.semantic.error}40`,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(ds,{size:16,style:{color:S.semantic.error}})})]}),o.jsx("div",{style:{width:"100px",height:"100px",borderRadius:`${fe.pill}px`,overflow:"hidden",margin:`0 auto ${w.md}px auto`,border:`3px solid ${S.border.light}`,background:S.gradients.lavender},children:M.imageUrl?o.jsx("img",{src:M.imageUrl,alt:M.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("span",{style:{fontSize:"48px"},children:M.creationType==="ai-generated"?"":""})})}),o.jsx("div",{style:{...ee.textStyles.label,color:S.text.primary,marginBottom:w.xxs},children:M.name}),o.jsx("div",{style:{...ee.textStyles.caption,color:S.text.tertiary},children:M.creationType==="ai-generated"?"KI-generiert":"Foto-basiert"})]})})},M.id))})]})}),o.jsx(sr,{delay:300,children:o.jsxs("div",{style:{padding:`0 ${w.xl}px`,marginBottom:w.xxxl},children:[o.jsxs("div",{style:{...ee.textStyles.headingLg,color:S.text.primary,marginBottom:w.lg,display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx(gn,{size:32,style:{color:S.rose[500]}}),"Deine Geschichten (",h.length,")"]}),h.length===0?o.jsx(Ee,{variant:"glass",children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.huge}px`},children:[o.jsx("div",{style:{fontSize:"80px",marginBottom:w.lg},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.sm},children:"Noch keine Geschichten"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:w.xl},children:"Erschaffe deine erste magische Geschichte!"}),o.jsx(Ve,{title:"Geschichte erstellen",onPress:()=>e("/story"),icon:o.jsx(wt,{size:20}),variant:"secondary"})]})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:w.lg},children:h.slice(0,6).map((M,U)=>{var _;return o.jsx(sr,{delay:400+U*50,children:o.jsx("div",{onClick:()=>e(`/story-reader/${M.id}`),style:{cursor:"pointer"},children:o.jsxs(Ee,{variant:"glass",style:{overflow:"hidden"},children:[o.jsxs("div",{style:{height:"180px",background:M.coverImageUrl?`url(${M.coverImageUrl})`:S.gradients.sunset,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:[!M.coverImageUrl&&o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(gn,{size:64,style:{color:S.text.inverse,opacity:.6}})}),o.jsx("button",{onClick:I=>{I.stopPropagation(),R(M.id,M.title)},style:{position:"absolute",top:w.md,right:w.md,padding:w.sm,background:S.semantic.error+"E0",border:"none",borderRadius:`${fe.pill}px`,cursor:"pointer"},children:o.jsx(ds,{size:16,style:{color:S.text.inverse}})})]}),o.jsxs("div",{style:{padding:w.lg},children:[o.jsx("div",{style:{...ee.textStyles.headingSm,color:S.text.primary,marginBottom:w.xs},children:M.title}),o.jsxs("div",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:[(_=M.description)==null?void 0:_.substring(0,80),"..."]})]})]})})},M.id)})})]})}),o.jsx(sr,{delay:400,children:o.jsxs("div",{style:{padding:`0 ${w.xl}px`},children:[o.jsxs("div",{style:{...ee.textStyles.headingLg,color:S.text.primary,marginBottom:w.lg,display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx(Ar,{size:32,style:{color:S.mint[500]}}),"Deine Dokus (",m.length,")"]}),m.length===0?o.jsx(Ee,{variant:"glass",children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.huge}px`},children:[o.jsx("div",{style:{fontSize:"80px",marginBottom:w.lg},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.sm},children:"Noch keine Dokus"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:w.xl},children:"Erstelle deine erste lehrreiche Doku!"}),o.jsx(Ve,{title:"Doku erstellen",onPress:()=>e("/doku"),icon:o.jsx(Ar,{size:20}),variant:"secondary"})]})}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:w.lg},children:m.slice(0,6).map((M,U)=>o.jsx(sr,{delay:500+U*50,children:o.jsx("div",{onClick:()=>e(`/doku-reader/${M.id}`),style:{cursor:"pointer"},children:o.jsxs(Ee,{variant:"glass",style:{overflow:"hidden"},children:[o.jsxs("div",{style:{height:"180px",background:M.coverImageUrl?`url(${M.coverImageUrl})`:S.gradients.ocean,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},children:[!M.coverImageUrl&&o.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Ar,{size:64,style:{color:S.text.inverse,opacity:.6}})}),o.jsx("button",{onClick:_=>{_.stopPropagation(),N(M.id,M.title)},style:{position:"absolute",top:w.md,right:w.md,padding:w.sm,background:S.semantic.error+"E0",border:"none",borderRadius:`${fe.pill}px`,cursor:"pointer"},children:o.jsx(ds,{size:16,style:{color:S.text.inverse}})})]}),o.jsxs("div",{style:{padding:w.lg},children:[o.jsx("div",{style:{...ee.textStyles.headingSm,color:S.text.primary,marginBottom:w.xs},children:M.title}),o.jsx("div",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:M.topic})]})]})})},M.id))})]})})]}),o.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&family=Fredoka:wght@400;500;600;700&display=swap');
        
        * {
          scrollbar-width: thin;
          scrollbar-color: ${S.lavender[300]} transparent;
        }
        
        *::-webkit-scrollbar {
          height: 8px;
          width: 8px;
        }
        
        *::-webkit-scrollbar-track {
          background: transparent;
        }
        
        *::-webkit-scrollbar-thumb {
          background: ${S.lavender[300]};
          border-radius: ${fe.pill}px;
        }
        
        *::-webkit-scrollbar-thumb:hover {
          background: ${S.lavender[400]};
        }
      `})]})},n3="modulepreload",r3=function(e){return"/"+e},$1={},ft=function(t,s,r){let i=Promise.resolve();if(s&&s.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=u(s.map(m=>{if(m=r3(m),m in $1)return;$1[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":n3,g||(v.as="script"),v.crossOrigin="",v.href=m,p&&v.setAttribute("nonce",p),document.head.appendChild(v),g)return new Promise((j,A)=>{v.addEventListener("load",j),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return i.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return t().catch(c)})},ry=b.createContext({});function Xi(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const sy=typeof window<"u",Od=sy?b.useLayoutEffect:b.useEffect,Dd=b.createContext(null);function ay(e,t){e.indexOf(t)===-1&&e.push(t)}function iy(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Pr=(e,t,s)=>s>t?t:s<e?e:s;let kl=()=>{};const ys={},Ak=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Nk(e){return typeof e=="object"&&e!==null}const Rk=e=>/^0[^.\s]+$/u.test(e);function oy(e){let t;return()=>(t===void 0&&(t=e()),t)}const _n=e=>e,s3=(e,t)=>s=>t(e(s)),Fl=(...e)=>e.reduce(s3),Vi=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class ly{constructor(){this.subscriptions=[]}add(t){return ay(this.subscriptions,t),()=>iy(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let c=0;c<i;c++){const u=this.subscriptions[c];u&&u(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rr=e=>e*1e3,ir=e=>e/1e3;function cy(e,t){return t?e*(1e3/t):0}const Mk=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,a3=1e-7,i3=12;function o3(e,t,s,r,i){let c,u,h=0;do u=t+(s-t)/2,c=Mk(u,r,i)-e,c>0?s=u:t=u;while(Math.abs(c)>a3&&++h<i3);return u}function Vl(e,t,s,r){if(e===t&&s===r)return _n;const i=c=>o3(c,0,1,e,s);return c=>c===0||c===1?c:Mk(i(c),t,r)}const _k=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ok=e=>t=>1-e(1-t),Dk=Vl(.33,1.53,.69,.99),uy=Ok(Dk),Pk=_k(uy),zk=e=>(e*=2)<1?.5*uy(e):.5*(2-Math.pow(2,-10*(e-1))),dy=e=>1-Math.sin(Math.acos(e)),Lk=Ok(dy),Uk=_k(dy),l3=Vl(.42,0,1,1),c3=Vl(0,0,.58,1),$k=Vl(.42,0,.58,1),u3=e=>Array.isArray(e)&&typeof e[0]!="number",Bk=e=>Array.isArray(e)&&typeof e[0]=="number",d3={linear:_n,easeIn:l3,easeInOut:$k,easeOut:c3,circIn:dy,circInOut:Uk,circOut:Lk,backIn:uy,backInOut:Pk,backOut:Dk,anticipate:zk},h3=e=>typeof e=="string",B1=e=>{if(Bk(e)){kl(e.length===4);const[t,s,r,i]=e;return Vl(t,s,r,i)}else if(h3(e))return d3[e];return e},yu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f3(e,t){let s=new Set,r=new Set,i=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(g){u.has(g)&&(m.schedule(g),e()),g(h)}const m={schedule:(g,y=!1,v=!1)=>{const A=v&&i?s:r;return y&&u.add(g),A.has(g)||A.add(g),g},cancel:g=>{r.delete(g),u.delete(g)},process:g=>{if(h=g,i){c=!0;return}i=!0,[s,r]=[r,s],s.forEach(p),s.clear(),i=!1,c&&(c=!1,m.process(g))}};return m}const m3=40;function Ik(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=yu.reduce((N,D)=>(N[D]=f3(c),N),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:g,update:y,preRender:v,render:j,postRender:A}=u,k=()=>{const N=ys.useManualTiming?i.timestamp:performance.now();s=!1,ys.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,m3),1)),i.timestamp=N,i.isProcessing=!0,h.process(i),p.process(i),m.process(i),g.process(i),y.process(i),v.process(i),j.process(i),A.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(k))},E=()=>{s=!0,r=!0,i.isProcessing||e(k)};return{schedule:yu.reduce((N,D)=>{const P=u[D];return N[D]=(M,U=!1,_=!1)=>(s||E(),P.schedule(M,U,_)),N},{}),cancel:N=>{for(let D=0;D<yu.length;D++)u[yu[D]].cancel(N)},state:i,steps:u}}const{schedule:et,cancel:xr,state:ln,steps:zm}=Ik(typeof requestAnimationFrame<"u"?requestAnimationFrame:_n,!0);let Bu;function p3(){Bu=void 0}const Mn={now:()=>(Bu===void 0&&Mn.set(ln.isProcessing||ys.useManualTiming?ln.timestamp:performance.now()),Bu),set:e=>{Bu=e,queueMicrotask(p3)}},Fk=e=>t=>typeof t=="string"&&t.startsWith(e),hy=Fk("--"),g3=Fk("var(--"),fy=e=>g3(e)?y3.test(e.split("/*")[0].trim()):!1,y3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Zi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tl={...Zi,transform:e=>Pr(0,1,e)},xu={...Zi,default:1},ml=e=>Math.round(e*1e5)/1e5,my=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x3(e){return e==null}const v3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,py=(e,t)=>s=>!!(typeof s=="string"&&v3.test(s)&&s.startsWith(e)||t&&!x3(s)&&Object.prototype.hasOwnProperty.call(s,t)),Vk=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,c,u,h]=r.match(my);return{[e]:parseFloat(i),[t]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},b3=e=>Pr(0,255,e),Lm={...Zi,transform:e=>Math.round(b3(e))},Aa={test:py("rgb","red"),parse:Vk("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Lm.transform(e)+", "+Lm.transform(t)+", "+Lm.transform(s)+", "+ml(Tl.transform(r))+")"};function w3(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Yp={test:py("#"),parse:w3,transform:Aa.transform},Hl=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ws=Hl("deg"),Mr=Hl("%"),Me=Hl("px"),S3=Hl("vh"),j3=Hl("vw"),I1={...Mr,parse:e=>Mr.parse(e)/100,transform:e=>Mr.transform(e*100)},_i={test:py("hsl","hue"),parse:Vk("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+Mr.transform(ml(t))+", "+Mr.transform(ml(s))+", "+ml(Tl.transform(r))+")"},Ht={test:e=>Aa.test(e)||Yp.test(e)||_i.test(e),parse:e=>Aa.test(e)?Aa.parse(e):_i.test(e)?_i.parse(e):Yp.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Aa.transform(e):_i.transform(e),getAnimatableNone:e=>{const t=Ht.parse(e);return t.alpha=0,Ht.transform(t)}},k3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T3(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(my))==null?void 0:t.length)||0)+(((s=e.match(k3))==null?void 0:s.length)||0)>0}const Hk="number",Gk="color",C3="var",E3="var(",F1="${}",A3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cl(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let c=0;const h=t.replace(A3,p=>(Ht.test(p)?(r.color.push(c),i.push(Gk),s.push(Ht.parse(p))):p.startsWith(E3)?(r.var.push(c),i.push(C3),s.push(p)):(r.number.push(c),i.push(Hk),s.push(parseFloat(p))),++c,F1)).split(F1);return{values:s,split:h,indexes:r,types:i}}function Wk(e){return Cl(e).values}function qk(e){const{split:t,types:s}=Cl(e),r=t.length;return i=>{let c="";for(let u=0;u<r;u++)if(c+=t[u],i[u]!==void 0){const h=s[u];h===Hk?c+=ml(i[u]):h===Gk?c+=Ht.transform(i[u]):c+=i[u]}return c}}const N3=e=>typeof e=="number"?0:Ht.test(e)?Ht.getAnimatableNone(e):e;function R3(e){const t=Wk(e);return qk(e)(t.map(N3))}const ta={test:T3,parse:Wk,createTransformer:qk,getAnimatableNone:R3};function Um(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function M3({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,c=0,u=0;if(!t)i=c=u=s;else{const h=s<.5?s*(1+t):s+t-s*t,p=2*s-h;i=Um(p,h,e+1/3),c=Um(p,h,e),u=Um(p,h,e-1/3)}return{red:Math.round(i*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:r}}function od(e,t){return s=>s>0?t:e}const Nt=(e,t,s)=>e+(t-e)*s,$m=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},_3=[Yp,Aa,_i],O3=e=>_3.find(t=>t.test(e));function V1(e){const t=O3(e);if(!t)return!1;let s=t.parse(e);return t===_i&&(s=M3(s)),s}const H1=(e,t)=>{const s=V1(e),r=V1(t);if(!s||!r)return od(e,t);const i={...s};return c=>(i.red=$m(s.red,r.red,c),i.green=$m(s.green,r.green,c),i.blue=$m(s.blue,r.blue,c),i.alpha=Nt(s.alpha,r.alpha,c),Aa.transform(i))},Jp=new Set(["none","hidden"]);function D3(e,t){return Jp.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function P3(e,t){return s=>Nt(e,t,s)}function gy(e){return typeof e=="number"?P3:typeof e=="string"?fy(e)?od:Ht.test(e)?H1:U3:Array.isArray(e)?Kk:typeof e=="object"?Ht.test(e)?H1:z3:od}function Kk(e,t){const s=[...e],r=s.length,i=e.map((c,u)=>gy(c)(c,t[u]));return c=>{for(let u=0;u<r;u++)s[u]=i[u](c);return s}}function z3(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=gy(e[i])(e[i],t[i]));return i=>{for(const c in r)s[c]=r[c](i);return s}}function L3(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const c=t.types[i],u=e.indexes[c][r[c]],h=e.values[u]??0;s[i]=h,r[c]++}return s}const U3=(e,t)=>{const s=ta.createTransformer(t),r=Cl(e),i=Cl(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Jp.has(e)&&!i.values.length||Jp.has(t)&&!r.values.length?D3(e,t):Fl(Kk(L3(r,i),i.values),s):od(e,t)};function Yk(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Nt(e,t,s):gy(e)(e,t)}const $3=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>et.update(t,s),stop:()=>xr(t),now:()=>ln.isProcessing?ln.timestamp:Mn.now()}},Jk=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let c=0;c<i;c++)r+=Math.round(e(c/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ld=2e4;function yy(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<ld;)t+=s,r=e.next(t);return t>=ld?1/0:t}function B3(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(yy(r),ld);return{type:"keyframes",ease:c=>r.next(i*c).value/t,duration:ir(i)}}const I3=5;function Xk(e,t,s){const r=Math.max(t-I3,0);return cy(s-e(r),t-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bm=.001;function F3({duration:e=Dt.duration,bounce:t=Dt.bounce,velocity:s=Dt.velocity,mass:r=Dt.mass}){let i,c,u=1-t;u=Pr(Dt.minDamping,Dt.maxDamping,u),e=Pr(Dt.minDuration,Dt.maxDuration,ir(e)),u<1?(i=m=>{const g=m*u,y=g*e,v=g-s,j=Xp(m,u),A=Math.exp(-y);return Bm-v/j*A},c=m=>{const y=m*u*e,v=y*s+s,j=Math.pow(u,2)*Math.pow(m,2)*e,A=Math.exp(-y),k=Xp(Math.pow(m,2),u);return(-i(m)+Bm>0?-1:1)*((v-j)*A)/k}):(i=m=>{const g=Math.exp(-m*e),y=(m-s)*e+1;return-Bm+g*y},c=m=>{const g=Math.exp(-m*e),y=(s-m)*(e*e);return g*y});const h=5/e,p=H3(i,c,h);if(e=Rr(e),isNaN(p))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:e};{const m=Math.pow(p,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:e}}}const V3=12;function H3(e,t,s){let r=s;for(let i=1;i<V3;i++)r=r-e(r)/t(r);return r}function Xp(e,t){return e*Math.sqrt(1-t*t)}const G3=["duration","bounce"],W3=["stiffness","damping","mass"];function G1(e,t){return t.some(s=>e[s]!==void 0)}function q3(e){let t={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...e};if(!G1(e,W3)&&G1(e,G3))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,c=2*Pr(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Dt.mass,stiffness:i,damping:c}}else{const s=F3(e);t={...t,...s,mass:Dt.mass},t.isResolvedFromDuration=!0}return t}function cd(e=Dt.visualDuration,t=Dt.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:p,damping:m,mass:g,duration:y,velocity:v,isResolvedFromDuration:j}=q3({...s,velocity:-ir(s.velocity||0)}),A=v||0,k=m/(2*Math.sqrt(p*g)),E=u-c,C=ir(Math.sqrt(p/g)),R=Math.abs(E)<5;r||(r=R?Dt.restSpeed.granular:Dt.restSpeed.default),i||(i=R?Dt.restDelta.granular:Dt.restDelta.default);let N;if(k<1){const P=Xp(C,k);N=M=>{const U=Math.exp(-k*C*M);return u-U*((A+k*C*E)/P*Math.sin(P*M)+E*Math.cos(P*M))}}else if(k===1)N=P=>u-Math.exp(-C*P)*(E+(A+C*E)*P);else{const P=C*Math.sqrt(k*k-1);N=M=>{const U=Math.exp(-k*C*M),_=Math.min(P*M,300);return u-U*((A+k*C*E)*Math.sinh(_)+P*E*Math.cosh(_))/P}}const D={calculatedDuration:j&&y||null,next:P=>{const M=N(P);if(j)h.done=P>=y;else{let U=P===0?A:0;k<1&&(U=P===0?Rr(A):Xk(N,P,M));const _=Math.abs(U)<=r,I=Math.abs(u-M)<=i;h.done=_&&I}return h.value=h.done?u:M,h},toString:()=>{const P=Math.min(yy(D),ld),M=Jk(U=>D.next(P*U).value,P,30);return P+"ms "+M},toTransition:()=>{}};return D}cd.applyToOptions=e=>{const t=B3(e,100,cd);return e.ease=t.ease,e.duration=Rr(t.duration),e.type="keyframes",e};function Zp({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:p,restDelta:m=.5,restSpeed:g}){const y=e[0],v={done:!1,value:y},j=_=>h!==void 0&&_<h||p!==void 0&&_>p,A=_=>h===void 0?p:p===void 0||Math.abs(h-_)<Math.abs(p-_)?h:p;let k=s*t;const E=y+k,C=u===void 0?E:u(E);C!==E&&(k=C-y);const R=_=>-k*Math.exp(-_/r),N=_=>C+R(_),D=_=>{const I=R(_),W=N(_);v.done=Math.abs(I)<=m,v.value=v.done?C:W};let P,M;const U=_=>{j(v.value)&&(P=_,M=cd({keyframes:[v.value,A(v.value)],velocity:Xk(N,_,v.value),damping:i,stiffness:c,restDelta:m,restSpeed:g}))};return U(0),{calculatedDuration:null,next:_=>{let I=!1;return!M&&P===void 0&&(I=!0,D(_),U(_)),P!==void 0&&_>=P?M.next(_-P):(!I&&D(_),v)}}}function K3(e,t,s){const r=[],i=s||ys.mix||Yk,c=e.length-1;for(let u=0;u<c;u++){let h=i(e[u],e[u+1]);if(t){const p=Array.isArray(t)?t[u]||_n:t;h=Fl(p,h)}r.push(h)}return r}function xy(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const c=e.length;if(kl(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[c-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=K3(t,r,i),p=h.length,m=g=>{if(u&&g<e[0])return t[0];let y=0;if(p>1)for(;y<e.length-2&&!(g<e[y+1]);y++);const v=Vi(e[y],e[y+1],g);return h[y](v)};return s?g=>m(Pr(e[0],e[c-1],g)):m}function Y3(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Vi(0,t,r);e.push(Nt(s,1,i))}}function Zk(e){const t=[0];return Y3(t,e.length-1),t}function J3(e,t){return e.map(s=>s*t)}function X3(e,t){return e.map(()=>t||$k).splice(0,e.length-1)}function pl({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=u3(r)?r.map(B1):B1(r),c={done:!1,value:t[0]},u=J3(s&&s.length===t.length?s:Zk(t),e),h=xy(u,t,{ease:Array.isArray(i)?i:X3(t,i)});return{calculatedDuration:e,next:p=>(c.value=h(p),c.done=p>=e,c)}}const Z3=e=>e!==null;function vy(e,{repeat:t,repeatType:s="loop"},r,i=1){const c=e.filter(Z3),h=i<0||t&&s!=="loop"&&t%2===1?0:c.length-1;return!h||r===void 0?c[h]:r}const Q3={decay:Zp,inertia:Zp,tween:pl,keyframes:pl,spring:cd};function Qk(e){typeof e.type=="string"&&(e.type=Q3[e.type])}class by{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const e4=e=>e/100;class Pd extends by{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Qk(t);const{type:s=pl,repeat:r=0,repeatDelay:i=0,repeatType:c,velocity:u=0}=t;let{keyframes:h}=t;const p=s||pl;p!==pl&&typeof h[0]!="number"&&(this.mixKeyframes=Fl(e4,Yk(h[0],h[1])),h=[0,100]);const m=p({...t,keyframes:h});c==="mirror"&&(this.mirroredGenerator=p({...t,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=yy(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:j,type:A,onUpdate:k,finalKeyframe:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const C=this.currentTime-m*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let N=this.currentTime,D=r;if(y){const _=Math.min(this.currentTime,i)/h;let I=Math.floor(_),W=_%1;!W&&_>=1&&(W=1),W===1&&I--,I=Math.min(I,y+1),!!(I%2)&&(v==="reverse"?(W=1-W,j&&(W-=j/h)):v==="mirror"&&(D=u)),N=Pr(0,1,W)*h}const P=R?{done:!1,value:g[0]}:D.next(N);c&&(P.value=c(P.value));let{done:M}=P;!R&&p!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const U=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return U&&A!==Zp&&(P.value=vy(g,this.options,E,this.speed)),k&&k(P.value),U&&this.finish(),P}then(t,s){return this.finished.then(t,s)}get duration(){return ir(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ir(t)}get time(){return ir(this.currentTime)}set time(t){var s;t=Rr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mn.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=ir(this.currentTime))}play(){var i,c;if(this.isStopped)return;const{driver:t=$3,startTime:s}=this.options;this.driver||(this.driver=t(u=>this.tick(u))),(c=(i=this.options).onPlay)==null||c.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function t4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Na=e=>e*180/Math.PI,Qp=e=>{const t=Na(Math.atan2(e[1],e[0]));return eg(t)},n4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Qp,rotateZ:Qp,skewX:e=>Na(Math.atan(e[1])),skewY:e=>Na(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eg=e=>(e=e%360,e<0&&(e+=360),e),W1=Qp,q1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),K1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),r4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q1,scaleY:K1,scale:e=>(q1(e)+K1(e))/2,rotateX:e=>eg(Na(Math.atan2(e[6],e[5]))),rotateY:e=>eg(Na(Math.atan2(-e[2],e[0]))),rotateZ:W1,rotate:W1,skewX:e=>Na(Math.atan(e[4])),skewY:e=>Na(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tg(e){return e.includes("scale")?1:0}function ng(e,t){if(!e||e==="none")return tg(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=r4,i=s;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n4,i=h}if(!i)return tg(t);const c=r[t],u=i[1].split(",").map(a4);return typeof c=="function"?c(u):u[c]}const s4=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ng(s,t)};function a4(e){return parseFloat(e.trim())}const Qi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],eo=new Set(Qi),Y1=e=>e===Zi||e===Me,i4=new Set(["x","y","z"]),o4=Qi.filter(e=>!i4.has(e));function l4(e){const t=[];return o4.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Ra={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ng(t,"x"),y:(e,{transform:t})=>ng(t,"y")};Ra.translateX=Ra.x;Ra.translateY=Ra.y;const Ma=new Set;let rg=!1,sg=!1,ag=!1;function eT(){if(sg){const e=Array.from(Ma).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=l4(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([c,u])=>{var h;(h=r.getValue(c))==null||h.set(u)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}sg=!1,rg=!1,Ma.forEach(e=>e.complete(ag)),Ma.clear()}function tT(){Ma.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sg=!0)})}function c4(){ag=!0,tT(),eT(),ag=!1}class wy{constructor(t,s,r,i,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ma.add(this),rg||(rg=!0,et.read(tT),et.resolveKeyframes(eT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const c=i==null?void 0:i.get(),u=t[t.length-1];if(c!==void 0)t[0]=c;else if(r&&s){const h=r.readValue(s,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),i&&c===void 0&&i.set(t[0])}t4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ma.delete(this)}cancel(){this.state==="scheduled"&&(Ma.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u4=e=>e.startsWith("--");function d4(e,t,s){u4(t)?e.style.setProperty(t,s):e.style[t]=s}const nT=oy(()=>window.ScrollTimeline!==void 0),h4={};function f4(e,t){const s=oy(e);return()=>h4[t]??s()}const rT=f4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ul=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,J1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ul([0,.65,.55,1]),circOut:ul([.55,0,1,.45]),backIn:ul([.31,.01,.66,-.59]),backOut:ul([.33,1.53,.69,.99])};function sT(e,t){if(e)return typeof e=="function"?rT()?Jk(e,t):"ease-out":Bk(e)?ul(e):Array.isArray(e)?e.map(s=>sT(s,t)||J1.easeOut):J1[e]}function m4(e,t,s,{delay:r=0,duration:i=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:p}={},m=void 0){const g={[t]:s};p&&(g.offset=p);const y=sT(h,i);Array.isArray(y)&&(g.easing=y);const v={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),e.animate(g,v)}function aT(e){return typeof e=="function"&&"applyToOptions"in e}function p4({type:e,...t}){return aT(e)&&rT()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class g4 extends by{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:p}=t;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=t,kl(typeof t.type!="string");const m=p4(t);this.animation=m4(s,r,i,m,c),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=vy(i,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):d4(s,r,g),this.animation.cancel()}p==null||p(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return ir(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ir(t)}get time(){return ir(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Rr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&nT()?(this.animation.timeline=t,_n):s(this)}}const iT={anticipate:zk,backInOut:Pk,circInOut:Uk};function y4(e){return e in iT}function x4(e){typeof e.ease=="string"&&y4(e.ease)&&(e.ease=iT[e.ease])}const X1=10;class v4 extends g4{constructor(t){x4(t),Qk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:c,...u}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const h=new Pd({...u,autoplay:!1}),p=Rr(this.finishedTime??this.time);s.setWithVelocity(h.sample(p-X1).value,h.sample(p).value,X1),h.stop()}}const Z1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ta.test(e)||e==="0")&&!e.startsWith("url("));function b4(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function w4(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const c=e[e.length-1],u=Z1(i,t),h=Z1(c,t);return!u||!h?!1:b4(e)||(s==="spring"||aT(s))&&r}function ig(e){e.duration=0,e.type="keyframes"}const S4=new Set(["opacity","clipPath","filter","transform"]),j4=oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function k4(e){var g;const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:c,type:u}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=t.owner.getProps();return j4()&&s&&S4.has(s)&&(s!=="transform"||!m)&&!p&&!r&&i!=="mirror"&&c!==0&&u!=="inertia"}const T4=40;class C4 extends by{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:p,motionValue:m,element:g,...y}){var A;super(),this.stop=()=>{var k,E;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(E=this.keyframeResolver)==null||E.cancel()},this.createdAt=Mn.now();const v={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:c,repeatType:u,name:p,motionValue:m,element:g,...y},j=(g==null?void 0:g.KeyframeResolver)||wy;this.keyframeResolver=new j(h,(k,E,C)=>this.onKeyframesResolved(k,E,v,!C),p,m,g),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:p,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Mn.now(),w4(t,c,u,h)||((ys.instantAnimations||!p)&&(g==null||g(vy(t,r,s))),t[0]=t[t.length-1],ig(r),r.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>T4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},j=!m&&k4(v)?new v4({...v,element:v.motionValue.owner.current}):new Pd(v);j.finished.then(()=>this.notifyFinished()).catch(_n),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),c4()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const E4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A4(e){const t=E4.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function oT(e,t,s=1){const[r,i]=A4(e);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const u=c.trim();return Ak(u)?parseFloat(u):u}return fy(i)?oT(i,t,s+1):i}function Sy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const lT=new Set(["width","height","top","left","right","bottom",...Qi]),N4={test:e=>e==="auto",parse:e=>e},cT=e=>t=>t.test(e),uT=[Zi,Me,Mr,Ws,j3,S3,N4],Q1=e=>uT.find(cT(e));function R4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Rk(e):!0}const M4=new Set(["brightness","contrast","saturate","opacity"]);function _4(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(my)||[];if(!r)return e;const i=s.replace(r,"");let c=M4.has(t)?1:0;return r!==s&&(c*=100),t+"("+c+i+")"}const O4=/\b([a-z-]*)\(.*?\)/gu,og={...ta,getAnimatableNone:e=>{const t=e.match(O4);return t?t.map(_4).join(" "):e}},ew={...Zi,transform:Math.round},D4={rotate:Ws,rotateX:Ws,rotateY:Ws,rotateZ:Ws,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:Ws,skewX:Ws,skewY:Ws,distance:Me,translateX:Me,translateY:Me,translateZ:Me,x:Me,y:Me,z:Me,perspective:Me,transformPerspective:Me,opacity:Tl,originX:I1,originY:I1,originZ:Me},jy={borderWidth:Me,borderTopWidth:Me,borderRightWidth:Me,borderBottomWidth:Me,borderLeftWidth:Me,borderRadius:Me,radius:Me,borderTopLeftRadius:Me,borderTopRightRadius:Me,borderBottomRightRadius:Me,borderBottomLeftRadius:Me,width:Me,maxWidth:Me,height:Me,maxHeight:Me,top:Me,right:Me,bottom:Me,left:Me,padding:Me,paddingTop:Me,paddingRight:Me,paddingBottom:Me,paddingLeft:Me,margin:Me,marginTop:Me,marginRight:Me,marginBottom:Me,marginLeft:Me,backgroundPositionX:Me,backgroundPositionY:Me,...D4,zIndex:ew,fillOpacity:Tl,strokeOpacity:Tl,numOctaves:ew},P4={...jy,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:og,WebkitFilter:og},dT=e=>P4[e];function hT(e,t){let s=dT(e);return s!==og&&(s=ta),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const z4=new Set(["auto","none","0"]);function L4(e,t,s){let r=0,i;for(;r<e.length&&!i;){const c=e[r];typeof c=="string"&&!z4.has(c)&&Cl(c).values.length&&(i=e[r]),r++}if(i&&s)for(const c of t)e[c]=hT(s,i)}class U4 extends wy{constructor(t,s,r,i,c){super(t,s,r,i,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),fy(m))){const g=oT(m,s.current);g!==void 0&&(t[p]=g),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!lT.has(r)||t.length!==2)return;const[i,c]=t,u=Q1(i),h=Q1(c);if(u!==h)if(Y1(u)&&Y1(h))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else Ra[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||R4(t[i]))&&r.push(i);r.length&&L4(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ra[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var h;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const c=r.length-1,u=r[c];r[c]=Ra[s](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}function fT(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const mT=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ky(e){return Nk(e)&&"offsetHeight"in e}const tw=30,$4=e=>!isNaN(parseFloat(e)),gl={current:void 0};class B4{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var c;const i=Mn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new ly);const r=this.events[t].add(s);return t==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return gl.current&&gl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>tw)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,tw);return cy(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gr(e,t){return new B4(e,t)}const{schedule:Ty}=Ik(queueMicrotask,!1),fr={x:!1,y:!1};function pT(){return fr.x||fr.y}function I4(e){return e==="x"||e==="y"?fr[e]?null:(fr[e]=!0,()=>{fr[e]=!1}):fr.x||fr.y?null:(fr.x=fr.y=!0,()=>{fr.x=fr.y=!1})}function gT(e,t){const s=fT(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function nw(e){return!(e.pointerType==="touch"||pT())}function F4(e,t,s={}){const[r,i,c]=gT(e,s),u=h=>{if(!nw(h))return;const{target:p}=h,m=t(p,h);if(typeof m!="function"||!p)return;const g=y=>{nw(y)&&(m(y),p.removeEventListener("pointerleave",g))};p.addEventListener("pointerleave",g,i)};return r.forEach(h=>{h.addEventListener("pointerenter",u,i)}),c}const yT=(e,t)=>t?e===t?!0:yT(e,t.parentElement):!1,Cy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function H4(e){return V4.has(e.tagName)||e.tabIndex!==-1}const Iu=new WeakSet;function rw(e){return t=>{t.key==="Enter"&&e(t)}}function Im(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const G4=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=rw(()=>{if(Iu.has(s))return;Im(s,"down");const i=rw(()=>{Im(s,"up")}),c=()=>Im(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function sw(e){return Cy(e)&&!pT()}function W4(e,t,s={}){const[r,i,c]=gT(e,s),u=h=>{const p=h.currentTarget;if(!sw(h))return;Iu.add(p);const m=t(p,h),g=(j,A)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),Iu.has(p)&&Iu.delete(p),sw(j)&&typeof m=="function"&&m(j,{success:A})},y=j=>{g(j,p===window||p===document||s.useGlobalTarget||yT(p,j.target))},v=j=>{g(j,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",v,i)};return r.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,i),ky(h)&&(h.addEventListener("focus",m=>G4(m,i)),!H4(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Ey(e){return Nk(e)&&"ownerSVGElement"in e}const Fu=new WeakMap;let qs;const xT=(e,t,s)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:Ey(r)&&"getBBox"in r?r.getBBox()[t]:r[s],q4=xT("inline","width","offsetWidth"),K4=xT("block","height","offsetHeight");function Y4({target:e,borderBoxSize:t}){var s;(s=Fu.get(e))==null||s.forEach(r=>{r(e,{get width(){return q4(e,t)},get height(){return K4(e,t)}})})}function J4(e){e.forEach(Y4)}function X4(){typeof ResizeObserver>"u"||(qs=new ResizeObserver(J4))}function Z4(e,t){qs||X4();const s=fT(e);return s.forEach(r=>{let i=Fu.get(r);i||(i=new Set,Fu.set(r,i)),i.add(t),qs==null||qs.observe(r)}),()=>{s.forEach(r=>{const i=Fu.get(r);i==null||i.delete(t),i!=null&&i.size||qs==null||qs.unobserve(r)})}}const Vu=new Set;let Oi;function Q4(){Oi=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Vu.forEach(t=>t(e))},window.addEventListener("resize",Oi)}function ez(e){return Vu.add(e),Oi||Q4(),()=>{Vu.delete(e),!Vu.size&&typeof Oi=="function"&&(window.removeEventListener("resize",Oi),Oi=void 0)}}function tz(e,t){return typeof e=="function"?ez(e):Z4(e,t)}function vT(e,t){let s;const r=()=>{const{currentTime:i}=t,u=(i===null?0:i.value)/100;s!==u&&e(u),s=u};return et.preUpdate(r,!0),()=>xr(r)}function nz(e){return Ey(e)&&e.tagName==="svg"}function rz(...e){const t=!Array.isArray(e[0]),s=t?0:-1,r=e[0+s],i=e[1+s],c=e[2+s],u=e[3+s],h=xy(i,c,u);return t?h(r):h}const cn=e=>!!(e&&e.getVelocity);function sz(e,t,s){const r=e.get();let i=null,c=r,u;const h=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,p=()=>{i&&(i.stop(),i=null)},m=()=>{p(),i=new Pd({keyframes:[iw(e.get()),iw(c)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...s,onUpdate:u})};if(e.attach((g,y)=>{c=g,u=v=>y(aw(v,h)),et.postRender(m)},p),cn(t)){const g=t.on("change",v=>e.set(aw(v,h))),y=e.on("destroy",g);return()=>{g(),y()}}return p}function aw(e,t){return t?e+t:e}function iw(e){return typeof e=="number"?e:parseFloat(e)}const az=[...uT,Ht,ta],iz=e=>az.find(cT(e)),Gl=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ow(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function oz(...e){return t=>{let s=!1;const r=e.map(i=>{const c=ow(i,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let i=0;i<r.length;i++){const c=r[i];typeof c=="function"?c():ow(e[i],null)}}}}function lz(...e){return b.useCallback(oz(...e),e)}class cz extends b.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=ky(r)&&r.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=i-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function uz({children:e,isPresent:t,anchorX:s,root:r}){const i=b.useId(),c=b.useRef(null),u=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=b.useContext(Gl),p=lz(c,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:m,height:g,top:y,left:v,right:j}=u.current;if(t||!c.current||!m||!g)return;const A=s==="left"?`left: ${v}`:`right: ${j}`;c.current.dataset.motionPopId=i;const k=document.createElement("style");h&&(k.nonce=h);const E=r??document.head;return E.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${g}px !important;
            ${A}px !important;
            top: ${y}px !important;
          }
        `),()=>{E.contains(k)&&E.removeChild(k)}},[t]),o.jsx(cz,{isPresent:t,childRef:c,sizeRef:u,children:b.cloneElement(e,{ref:p})})}const dz=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:c,mode:u,anchorX:h,root:p})=>{const m=Xi(hz),g=b.useId();let y=!0,v=b.useMemo(()=>(y=!1,{id:g,initial:t,isPresent:s,custom:i,onExitComplete:j=>{m.set(j,!0);for(const A of m.values())if(!A)return;r&&r()},register:j=>(m.set(j,!1),()=>m.delete(j))}),[s,m,r]);return c&&y&&(v={...v}),b.useMemo(()=>{m.forEach((j,A)=>m.set(A,!1))},[s]),b.useEffect(()=>{!s&&!m.size&&r&&r()},[s]),u==="popLayout"&&(e=o.jsx(uz,{isPresent:s,anchorX:h,root:p,children:e})),o.jsx(Dd.Provider,{value:v,children:e})};function hz(){return new Map}function bT(e=!0){const t=b.useContext(Dd);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,c=b.useId();b.useEffect(()=>{if(e)return i(c)},[e]);const u=b.useCallback(()=>e&&r&&r(c),[c,r,e]);return!s&&r?[!1,u]:[!0]}const vu=e=>e.key||"";function lw(e){const t=[];return b.Children.forEach(e,s=>{b.isValidElement(s)&&t.push(s)}),t}const or=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:p})=>{const[m,g]=bT(u),y=b.useMemo(()=>lw(e),[e]),v=u&&!m?[]:y.map(vu),j=b.useRef(!0),A=b.useRef(y),k=Xi(()=>new Map),[E,C]=b.useState(y),[R,N]=b.useState(y);Od(()=>{j.current=!1,A.current=y;for(let M=0;M<R.length;M++){const U=vu(R[M]);v.includes(U)?k.delete(U):k.get(U)!==!0&&k.set(U,!1)}},[R,v.length,v.join("-")]);const D=[];if(y!==E){let M=[...y];for(let U=0;U<R.length;U++){const _=R[U],I=vu(_);v.includes(I)||(M.splice(U,0,_),D.push(_))}return c==="wait"&&D.length&&(M=D),N(lw(M)),C(y),null}const{forceRender:P}=b.useContext(ry);return o.jsx(o.Fragment,{children:R.map(M=>{const U=vu(M),_=u&&!m?!1:y===R||v.includes(U),I=()=>{if(k.has(U))k.set(U,!0);else return;let W=!0;k.forEach(H=>{H||(W=!1)}),W&&(P==null||P(),N(A.current),u&&(g==null||g()),r&&r())};return o.jsx(dz,{isPresent:_,initial:!j.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:c,root:p,onExitComplete:_?void 0:I,anchorX:h,children:M},U)})})},wT=b.createContext({strict:!1}),cw={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hi={};for(const e in cw)Hi[e]={isEnabled:t=>cw[e].some(s=>!!t[s])};function fz(e){for(const t in e)Hi[t]={...Hi[t],...e[t]}}const mz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ud(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mz.has(e)}let ST=e=>!ud(e);function pz(e){typeof e=="function"&&(ST=t=>t.startsWith("on")?!ud(t):e(t))}try{pz(require("@emotion/is-prop-valid").default)}catch{}function gz(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(ST(i)||s===!0&&ud(i)||!t&&!ud(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const zd=b.createContext({});function Ld(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function El(e){return typeof e=="string"||Array.isArray(e)}const Ay=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ny=["initial",...Ay];function Ud(e){return Ld(e.animate)||Ny.some(t=>El(e[t]))}function jT(e){return!!(Ud(e)||e.variants)}function yz(e,t){if(Ud(e)){const{initial:s,animate:r}=e;return{initial:s===!1||El(s)?s:void 0,animate:El(r)?r:void 0}}return e.inherit!==!1?t:{}}function xz(e){const{initial:t,animate:s}=yz(e,b.useContext(zd));return b.useMemo(()=>({initial:t,animate:s}),[uw(t),uw(s)])}function uw(e){return Array.isArray(e)?e.join(" "):e}const Al={};function vz(e){for(const t in e)Al[t]=e[t],hy(t)&&(Al[t].isCSSVariable=!0)}function kT(e,{layout:t,layoutId:s}){return eo.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Al[e]||e==="opacity")}const bz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wz=Qi.length;function Sz(e,t,s){let r="",i=!0;for(let c=0;c<wz;c++){const u=Qi[c],h=e[u];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(u.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||s){const m=mT(h,jy[u]);if(!p){i=!1;const g=bz[u]||u;r+=`${g}(${m}) `}s&&(t[u]=m)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function Ry(e,t,s){const{style:r,vars:i,transformOrigin:c}=e;let u=!1,h=!1;for(const p in t){const m=t[p];if(eo.has(p)){u=!0;continue}else if(hy(p)){i[p]=m;continue}else{const g=mT(m,jy[p]);p.startsWith("origin")?(h=!0,c[p]=g):r[p]=g}}if(t.transform||(u||s?r.transform=Sz(t,e.transform,s):r.transform&&(r.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:g=0}=c;r.transformOrigin=`${p} ${m} ${g}`}}const My=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function TT(e,t,s){for(const r in t)!cn(t[r])&&!kT(r,s)&&(e[r]=t[r])}function jz({transformTemplate:e},t){return b.useMemo(()=>{const s=My();return Ry(s,t,e),Object.assign({},s.vars,s.style)},[t])}function kz(e,t){const s=e.style||{},r={};return TT(r,s,e),Object.assign(r,jz(e,t)),r}function Tz(e,t){const s={},r=kz(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const Cz={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ez={offset:"strokeDashoffset",array:"strokeDasharray"};function Az(e,t,s=1,r=0,i=!0){e.pathLength=1;const c=i?Cz:Ez;e[c.offset]=Me.transform(-r);const u=Me.transform(t),h=Me.transform(s);e[c.array]=`${u} ${h}`}function CT(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:c=1,pathOffset:u=0,...h},p,m,g){if(Ry(e,h,m),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:v}=e;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),t!==void 0&&(y.x=t),s!==void 0&&(y.y=s),r!==void 0&&(y.scale=r),i!==void 0&&Az(y,i,c,u,!1)}const ET=()=>({...My(),attrs:{}}),AT=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Nz(e,t,s,r){const i=b.useMemo(()=>{const c=ET();return CT(c,t,AT(r),e.transformTemplate,e.style),{...c.attrs,style:{...c.style}}},[t]);if(e.style){const c={};TT(c,e.style,e),i.style={...c,...i.style}}return i}const Rz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _y(e){return typeof e!="string"||e.includes("-")?!1:!!(Rz.indexOf(e)>-1||/[A-Z]/u.test(e))}function Mz(e,t,s,{latestValues:r},i,c=!1){const h=(_y(e)?Nz:Tz)(t,r,i,e),p=gz(t,typeof e=="string",c),m=e!==b.Fragment?{...p,...h,ref:s}:{},{children:g}=t,y=b.useMemo(()=>cn(g)?g.get():g,[g]);return b.createElement(e,{...m,children:y})}function dw(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function Oy(e,t,s,r){if(typeof t=="function"){const[i,c]=dw(r);t=t(s!==void 0?s:e.custom,i,c)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,c]=dw(r);t=t(s!==void 0?s:e.custom,i,c)}return t}function Hu(e){return cn(e)?e.get():e}function _z({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:Oz(s,r,i,e),renderState:t()}}function Oz(e,t,s,r){const i={},c=r(e,{});for(const v in c)i[v]=Hu(c[v]);let{initial:u,animate:h}=e;const p=Ud(e),m=jT(e);t&&m&&!p&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!Ld(y)){const v=Array.isArray(y)?y:[y];for(let j=0;j<v.length;j++){const A=Oy(e,v[j]);if(A){const{transitionEnd:k,transition:E,...C}=A;for(const R in C){let N=C[R];if(Array.isArray(N)){const D=g?N.length-1:0;N=N[D]}N!==null&&(i[R]=N)}for(const R in k)i[R]=k[R]}}}return i}const NT=e=>(t,s)=>{const r=b.useContext(zd),i=b.useContext(Dd),c=()=>_z(e,t,r,i);return s?c():Xi(c)};function Dy(e,t,s){var c;const{style:r}=e,i={};for(const u in r)(cn(r[u])||t.style&&cn(t.style[u])||kT(u,e)||((c=s==null?void 0:s.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(i[u]=r[u]);return i}const Dz=NT({scrapeMotionValuesFromProps:Dy,createRenderState:My});function RT(e,t,s){const r=Dy(e,t,s);for(const i in e)if(cn(e[i])||cn(t[i])){const c=Qi.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[c]=e[i]}return r}const Pz=NT({scrapeMotionValuesFromProps:RT,createRenderState:ET}),zz=Symbol.for("motionComponentSymbol");function Di(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Lz(e,t,s){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Di(s)&&(s.current=r))},[t])}const Py=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Uz="framerAppearId",MT="data-"+Py(Uz),_T=b.createContext({});function $z(e,t,s,r,i){var k,E;const{visualElement:c}=b.useContext(zd),u=b.useContext(wT),h=b.useContext(Dd),p=b.useContext(Gl).reducedMotion,m=b.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:c,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const g=m.current,y=b.useContext(_T);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Bz(m.current,s,i,y);const v=b.useRef(!1);b.useInsertionEffect(()=>{g&&v.current&&g.update(s,h)});const j=s[MT],A=b.useRef(!!j&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,j))&&((E=window.MotionHasOptimisedAnimation)==null?void 0:E.call(window,j)));return Od(()=>{g&&(v.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),A.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,j)}),A.current=!1),g.enteringChildren=void 0)}),g}function Bz(e,t,s,r){const{layoutId:i,layout:c,drag:u,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:g}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:OT(e.parent)),e.projection.setOptions({layoutId:i,layout:c,alwaysMeasureLayout:!!u||h&&Di(h),visualElement:e,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:p,layoutRoot:m})}function OT(e){if(e)return e.options.allowProjection!==!1?e.projection:OT(e.parent)}function Fm(e,{forwardMotionProps:t=!1}={},s,r){s&&fz(s);const i=_y(e)?Pz:Dz;function c(h,p){let m;const g={...b.useContext(Gl),...h,layoutId:Iz(h)},{isStatic:y}=g,v=xz(h),j=i(h,y);if(!y&&sy){Fz();const A=Vz(g);m=A.MeasureLayout,v.visualElement=$z(e,j,g,r,A.ProjectionNode)}return o.jsxs(zd.Provider,{value:v,children:[m&&v.visualElement?o.jsx(m,{visualElement:v.visualElement,...g}):null,Mz(e,h,Lz(j,v.visualElement,p),j,y,t)]})}c.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=b.forwardRef(c);return u[zz]=e,u}function Iz({layoutId:e}){const t=b.useContext(ry).id;return t&&e!==void 0?t+"-"+e:e}function Fz(e,t){b.useContext(wT).strict}function Vz(e){const{drag:t,layout:s}=Hi;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Hz(e,t){if(typeof Proxy>"u")return Fm;const s=new Map,r=(c,u)=>Fm(c,u,e,t),i=(c,u)=>r(c,u);return new Proxy(i,{get:(c,u)=>u==="create"?r:(s.has(u)||s.set(u,Fm(u,void 0,e,t)),s.get(u))})}function DT({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Gz({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Wz(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Vm(e){return e===void 0||e===1}function lg({scale:e,scaleX:t,scaleY:s}){return!Vm(e)||!Vm(t)||!Vm(s)}function Ea(e){return lg(e)||PT(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function PT(e){return hw(e.x)||hw(e.y)}function hw(e){return e&&e!=="0%"}function dd(e,t,s){const r=e-s,i=t*r;return s+i}function fw(e,t,s,r,i){return i!==void 0&&(e=dd(e,i,r)),dd(e,s,r)+t}function cg(e,t=0,s=1,r,i){e.min=fw(e.min,t,s,r,i),e.max=fw(e.max,t,s,r,i)}function zT(e,{x:t,y:s}){cg(e.x,t.translate,t.scale,t.originPoint),cg(e.y,s.translate,s.scale,s.originPoint)}const mw=.999999999999,pw=1.0000000000001;function qz(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let c,u;for(let h=0;h<i;h++){c=s[h],u=c.projectionDelta;const{visualElement:p}=c.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zi(e,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,zT(e,u)),r&&Ea(c.latestValues)&&zi(e,c.latestValues))}t.x<pw&&t.x>mw&&(t.x=1),t.y<pw&&t.y>mw&&(t.y=1)}function Pi(e,t){e.min=e.min+t,e.max=e.max+t}function gw(e,t,s,r,i=.5){const c=Nt(e.min,e.max,i);cg(e,t,s,c,r)}function zi(e,t){gw(e.x,t.x,t.scaleX,t.scale,t.originX),gw(e.y,t.y,t.scaleY,t.scale,t.originY)}function LT(e,t){return DT(Wz(e.getBoundingClientRect(),t))}function Kz(e,t,s){const r=LT(e,s),{scroll:i}=t;return i&&(Pi(r.x,i.offset.x),Pi(r.y,i.offset.y)),r}const yw=()=>({translate:0,scale:1,origin:0,originPoint:0}),Li=()=>({x:yw(),y:yw()}),xw=()=>({min:0,max:0}),Ut=()=>({x:xw(),y:xw()}),ug={current:null},UT={current:!1};function Yz(){if(UT.current=!0,!!sy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ug.current=e.matches;e.addEventListener("change",t),t()}else ug.current=!1}const Jz=new WeakMap;function Xz(e,t,s){for(const r in t){const i=t[r],c=s[r];if(cn(i))e.addValue(r,i);else if(cn(c))e.addValue(r,gr(i,{owner:e}));else if(c!==i)if(e.hasValue(r)){const u=e.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=e.getStaticValue(r);e.addValue(r,gr(u!==void 0?u:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const vw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Zz{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Mn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,et.render(this.render,!1,!0))};const{latestValues:p,renderState:m}=u;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=Ud(s),this.isVariantNode=jT(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(s,{},this);for(const v in y){const j=y[v];p[v]!==void 0&&cn(j)&&j.set(p[v])}}mount(t){var s;this.current=t,Jz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),UT.current||Yz(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ug.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),xr(this.notifyUpdate),xr(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const r=this.features[s];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=eo.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),c&&c(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hi){const s=Hi[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ut()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<vw.length;r++){const i=vw[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const c="on"+i,u=t[c];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=Xz(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=gr(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Ak(r)||Rk(r))?r=parseFloat(r):!iz(r)&&ta.test(s)&&(r=hT(t,s)),this.setBaseTarget(t,cn(r)?r.get():r)),cn(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var c;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const u=Oy(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);u&&(r=u[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!cn(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new ly),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){Ty.render(this.render)}}class $T extends Zz{constructor(){super(...arguments),this.KeyframeResolver=U4}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function BT(e,{style:t,vars:s},r,i){const c=e.style;let u;for(u in t)c[u]=t[u];i==null||i.applyProjectionStyles(c,r);for(u in s)c.setProperty(u,s[u])}function Qz(e){return window.getComputedStyle(e)}class e6 extends $T{constructor(){super(...arguments),this.type="html",this.renderInstance=BT}readValueFromInstance(t,s){var r;if(eo.has(s))return(r=this.projection)!=null&&r.isProjecting?tg(s):s4(t,s);{const i=Qz(t),c=(hy(s)?i.getPropertyValue(s):i[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(t,{transformPagePoint:s}){return LT(t,s)}build(t,s,r){Ry(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Dy(t,s,r)}}const IT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function t6(e,t,s,r){BT(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(IT.has(i)?i:Py(i),t.attrs[i])}class n6 extends $T{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ut}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(eo.has(s)){const r=dT(s);return r&&r.default||0}return s=IT.has(s)?s:Py(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return RT(t,s,r)}build(t,s,r){CT(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,i){t6(t,s,r,i)}mount(t){this.isSVGTag=AT(t.tagName),super.mount(t)}}const r6=(e,t)=>_y(e)?new n6(t):new e6(t,{allowProjection:e!==b.Fragment});function Ui(e,t,s){const r=e.getProps();return Oy(r,t,s!==void 0?s:r.custom,e)}const dg=e=>Array.isArray(e);function s6(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,gr(s))}function a6(e){return dg(e)?e[e.length-1]||0:e}function i6(e,t){const s=Ui(e,t);let{transitionEnd:r={},transition:i={},...c}=s||{};c={...c,...r};for(const u in c){const h=a6(c[u]);s6(e,u,h)}}function o6(e){return!!(cn(e)&&e.add)}function hg(e,t){const s=e.getValue("willChange");if(o6(s))return s.add(t);if(!s&&ys.WillChange){const r=new ys.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function FT(e){return e.props[MT]}const l6=e=>e!==null;function c6(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(l6),c=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[c]}const u6={type:"spring",stiffness:500,damping:25,restSpeed:10},d6=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),h6={type:"keyframes",duration:.8},f6={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},m6=(e,{keyframes:t})=>t.length>2?h6:eo.has(e)?e.startsWith("scale")?d6(t[1]):u6:f6;function p6({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:c,repeatType:u,repeatDelay:h,from:p,elapsed:m,...g}){return!!Object.keys(g).length}const zy=(e,t,s,r={},i,c)=>u=>{const h=Sy(r,e)||{},p=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Rr(p);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:v=>{t.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:c?void 0:i};p6(h)||Object.assign(g,m6(e,g)),g.duration&&(g.duration=Rr(g.duration)),g.repeatDelay&&(g.repeatDelay=Rr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(ig(g),g.delay===0&&(y=!0)),(ys.instantAnimations||ys.skipAnimations)&&(y=!0,ig(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!c&&t.get()!==void 0){const v=c6(g.keyframes,h);if(v!==void 0){et.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new Pd(g):new C4(g)};function g6({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function VT(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:c=e.getDefaultTransition(),transitionEnd:u,...h}=t;r&&(c=r);const p=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const g in h){const y=e.getValue(g,e.latestValues[g]??null),v=h[g];if(v===void 0||m&&g6(m,g))continue;const j={delay:s,...Sy(c||{},g)},A=y.get();if(A!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===A&&!j.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const C=FT(e);if(C){const R=window.MotionHandoffAnimation(C,g,et);R!==null&&(j.startTime=R,k=!0)}}hg(e,g),y.start(zy(g,y,v,e.shouldReduceMotion&&lT.has(g)?{type:!1}:j,e,k));const E=y.animation;E&&p.push(E)}return u&&Promise.all(p).then(()=>{et.update(()=>{u&&i6(e,u)})}),p}function HT(e,t,s,r=0,i=1){const c=Array.from(e).sort((m,g)=>m.sortNodePosition(g)).indexOf(t),u=e.size,h=(u-1)*r;return typeof s=="function"?s(c,u):i===1?c*r:h-c*r}function fg(e,t,s={}){var p;const r=Ui(e,t,s.type==="exit"?(p=e.presenceContext)==null?void 0:p.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const c=r?()=>Promise.all(VT(e,r,s)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=i;return y6(e,t,m,g,y,v,s)}:()=>Promise.resolve(),{when:h}=i;if(h){const[m,g]=h==="beforeChildren"?[c,u]:[u,c];return m().then(()=>g())}else return Promise.all([c(),u(s.delay)])}function y6(e,t,s=0,r=0,i=0,c=1,u){const h=[];for(const p of e.variantChildren)p.notify("AnimationStart",t),h.push(fg(p,t,{...u,delay:s+(typeof r=="function"?0:r)+HT(e.variantChildren,p,r,i,c)}).then(()=>p.notify("AnimationComplete",t)));return Promise.all(h)}function x6(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(c=>fg(e,c,s));r=Promise.all(i)}else if(typeof t=="string")r=fg(e,t,s);else{const i=typeof t=="function"?Ui(e,t,s.custom):t;r=Promise.all(VT(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function GT(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const v6=Ny.length;function WT(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?WT(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<v6;s++){const r=Ny[s],i=e.props[r];(El(i)||i===!1)&&(t[r]=i)}return t}const b6=[...Ay].reverse(),w6=Ay.length;function S6(e){return t=>Promise.all(t.map(({animation:s,options:r})=>x6(e,s,r)))}function j6(e){let t=S6(e),s=bw(),r=!0;const i=p=>(m,g)=>{var v;const y=Ui(e,g,p==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(y){const{transition:j,transitionEnd:A,...k}=y;m={...m,...k,...A}}return m};function c(p){t=p(e)}function u(p){const{props:m}=e,g=WT(e.parent)||{},y=[],v=new Set;let j={},A=1/0;for(let E=0;E<w6;E++){const C=b6[E],R=s[C],N=m[C]!==void 0?m[C]:g[C],D=El(N),P=C===p?R.isActive:null;P===!1&&(A=E);let M=N===g[C]&&N!==m[C]&&D;if(M&&r&&e.manuallyAnimateOnMount&&(M=!1),R.protectedKeys={...j},!R.isActive&&P===null||!N&&!R.prevProp||Ld(N)||typeof N=="boolean")continue;const U=k6(R.prevProp,N);let _=U||C===p&&R.isActive&&!M&&D||E>A&&D,I=!1;const W=Array.isArray(N)?N:[N];let H=W.reduce(i(C),{});P===!1&&(H={});const{prevResolvedValues:se={}}=R,K={...se,...H},re=L=>{_=!0,v.has(L)&&(I=!0,v.delete(L)),R.needsAnimating[L]=!0;const V=e.getValue(L);V&&(V.liveStyle=!1)};for(const L in K){const V=H[L],Y=se[L];if(j.hasOwnProperty(L))continue;let z=!1;dg(V)&&dg(Y)?z=!GT(V,Y):z=V!==Y,z?V!=null?re(L):v.add(L):V!==void 0&&v.has(L)?re(L):R.protectedKeys[L]=!0}R.prevProp=N,R.prevResolvedValues=H,R.isActive&&(j={...j,...H}),r&&e.blockInitialAnimation&&(_=!1);const Q=M&&U;_&&(!Q||I)&&y.push(...W.map(L=>{const V={type:C};if(typeof L=="string"&&r&&!Q&&e.manuallyAnimateOnMount&&e.parent){const{parent:Y}=e,z=Ui(Y,L);if(Y.enteringChildren&&z){const{delayChildren:X}=z.transition||{};V.delay=HT(Y.enteringChildren,e,X)}}return{animation:L,options:V}}))}if(v.size){const E={};if(typeof m.initial!="boolean"){const C=Ui(e,Array.isArray(m.initial)?m.initial[0]:m.initial);C&&C.transition&&(E.transition=C.transition)}v.forEach(C=>{const R=e.getBaseTarget(C),N=e.getValue(C);N&&(N.liveStyle=!0),E[C]=R??null}),y.push({animation:E})}let k=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(k=!1),r=!1,k?t(y):Promise.resolve()}function h(p,m){var y;if(s[p].isActive===m)return Promise.resolve();(y=e.variantChildren)==null||y.forEach(v=>{var j;return(j=v.animationState)==null?void 0:j.setActive(p,m)}),s[p].isActive=m;const g=u(p);for(const v in s)s[v].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=bw()}}}function k6(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!GT(t,e):!1}function ja(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bw(){return{animate:ja(!0),whileInView:ja(),whileHover:ja(),whileTap:ja(),whileDrag:ja(),whileFocus:ja(),exit:ja()}}class ra{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T6 extends ra{constructor(t){super(t),t.animationState||(t.animationState=j6(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ld(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let C6=0;class E6 extends ra{constructor(){super(...arguments),this.id=C6++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const A6={animation:{Feature:T6},exit:{Feature:E6}};function Nl(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Wl(e){return{point:{x:e.pageX,y:e.pageY}}}const N6=e=>t=>Cy(t)&&e(t,Wl(t));function yl(e,t,s,r){return Nl(e,t,N6(s),r)}const qT=1e-4,R6=1-qT,M6=1+qT,KT=.01,_6=0-KT,O6=0+KT;function jn(e){return e.max-e.min}function D6(e,t,s){return Math.abs(e-t)<=s}function ww(e,t,s,r=.5){e.origin=r,e.originPoint=Nt(t.min,t.max,e.origin),e.scale=jn(s)/jn(t),e.translate=Nt(s.min,s.max,e.origin)-e.originPoint,(e.scale>=R6&&e.scale<=M6||isNaN(e.scale))&&(e.scale=1),(e.translate>=_6&&e.translate<=O6||isNaN(e.translate))&&(e.translate=0)}function xl(e,t,s,r){ww(e.x,t.x,s.x,r?r.originX:void 0),ww(e.y,t.y,s.y,r?r.originY:void 0)}function Sw(e,t,s){e.min=s.min+t.min,e.max=e.min+jn(t)}function P6(e,t,s){Sw(e.x,t.x,s.x),Sw(e.y,t.y,s.y)}function jw(e,t,s){e.min=t.min-s.min,e.max=e.min+jn(t)}function vl(e,t,s){jw(e.x,t.x,s.x),jw(e.y,t.y,s.y)}function rr(e){return[e("x"),e("y")]}const YT=({current:e})=>e?e.ownerDocument.defaultView:null,kw=(e,t)=>Math.abs(e-t);function z6(e,t){const s=kw(e.x,t.x),r=kw(e.y,t.y);return Math.sqrt(s**2+r**2)}class JT{constructor(t,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gm(this.lastMoveEventInfo,this.history),j=this.startEvent!==null,A=z6(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!j&&!A)return;const{point:k}=v,{timestamp:E}=ln;this.history.push({...k,timestamp:E});const{onStart:C,onMove:R}=this.handlers;j||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,v)},this.handlePointerMove=(v,j)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Hm(j,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(v,j)=>{this.end();const{onEnd:A,onSessionEnd:k,resumeAnimation:E}=this.handlers;if(this.dragSnapToOrigin&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Gm(v.type==="pointercancel"?this.lastMoveEventInfo:Hm(j,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,C),k&&k(v,C)},!Cy(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=u,this.contextWindow=i||window;const h=Wl(t),p=Hm(h,this.transformPagePoint),{point:m}=p,{timestamp:g}=ln;this.history=[{...m,timestamp:g}];const{onSessionStart:y}=s;y&&y(t,Gm(p,this.history)),this.removeListeners=Fl(yl(this.contextWindow,"pointermove",this.handlePointerMove),yl(this.contextWindow,"pointerup",this.handlePointerUp),yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xr(this.updatePoint)}}function Hm(e,t){return t?{point:t(e.point)}:e}function Tw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gm({point:e},t){return{point:e,delta:Tw(e,XT(t)),offset:Tw(e,L6(t)),velocity:U6(t,.1)}}function L6(e){return e[0]}function XT(e){return e[e.length-1]}function U6(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=XT(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>Rr(t)));)s--;if(!r)return{x:0,y:0};const c=ir(i.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const u={x:(i.x-r.x)/c,y:(i.y-r.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function $6(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?Nt(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?Nt(s,e,r.max):Math.min(e,s)),e}function Cw(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function B6(e,{top:t,left:s,bottom:r,right:i}){return{x:Cw(e.x,s,i),y:Cw(e.y,t,r)}}function Ew(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function I6(e,t){return{x:Ew(e.x,t.x),y:Ew(e.y,t.y)}}function F6(e,t){let s=.5;const r=jn(e),i=jn(t);return i>r?s=Vi(t.min,t.max-r,e.min):r>i&&(s=Vi(e.min,e.max-i,t.min)),Pr(0,1,s)}function V6(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const mg=.35;function H6(e=mg){return e===!1?e=0:e===!0&&(e=mg),{x:Aw(e,"left","right"),y:Aw(e,"top","bottom")}}function Aw(e,t,s){return{min:Nw(e,t),max:Nw(e,s)}}function Nw(e,t){return typeof e=="number"?e:e[t]||0}const G6=new WeakMap;class W6{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ut(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Wl(y).point)},u=(y,v)=>{const{drag:j,dragPropagation:A,onDragStart:k}=this.getProps();if(j&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I4(j),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rr(C=>{let R=this.getAxisMotionValue(C).get()||0;if(Mr.test(R)){const{projection:N}=this.visualElement;if(N&&N.layout){const D=N.layout.layoutBox[C];D&&(R=jn(D)*(parseFloat(R)/100))}}this.originPoint[C]=R}),k&&et.postRender(()=>k(y,v)),hg(this.visualElement,"transform");const{animationState:E}=this.visualElement;E&&E.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:j,dragDirectionLock:A,onDirectionLock:k,onDrag:E}=this.getProps();if(!j&&!this.openDragLock)return;const{offset:C}=v;if(A&&this.currentDirection===null){this.currentDirection=q6(C),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),E&&E(y,v)},p=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>rr(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new JT(t,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:YT(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,i=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!i||!r)return;const{velocity:u}=i;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&et.postRender(()=>h(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!bu(t,i,this.currentDirection))return;const c=this.getAxisMotionValue(t);let u=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(u=$6(u,this.constraints[t],this.elastic[t])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,i=this.constraints;t&&Di(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=B6(r.layoutBox,t):this.constraints=!1,this.elastic=H6(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&rr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=V6(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Di(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const c=Kz(r,i.root,this.visualElement.getTransformPagePoint());let u=I6(i.layout.layoutBox,c);if(s){const h=s(Gz(u));this.hasMutatedConstraints=!!h,h&&(u=DT(h))}return u}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=rr(g=>{if(!bu(g,s,this.currentDirection))return;let y=p&&p[g]||{};u&&(y={min:0,max:0});const v=i?200:1e6,j=i?40:1e7,A={type:"inertia",velocity:r?t[g]:0,bounceStiffness:v,bounceDamping:j,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,A)});return Promise.all(m).then(h)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return hg(this.visualElement,t),r.start(zy(t,r,0,s,this.visualElement,!1))}stopAnimation(){rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rr(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rr(s=>{const{drag:r}=this.getProps();if(!bu(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,c=this.getAxisMotionValue(s);if(i&&i.layout){const{min:u,max:h}=i.layout.layoutBox[s];c.set(t[s]-Nt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Di(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};rr(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const p=h.get();i[u]=F6({min:p,max:p},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rr(u=>{if(!bu(u,t,null))return;const h=this.getAxisMotionValue(u),{min:p,max:m}=this.constraints[u];h.set(Nt(p,m,i[u]))})}addListeners(){if(!this.visualElement.current)return;G6.set(this.visualElement,this);const t=this.visualElement.current,s=yl(t,"pointerdown",p=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Di(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,c=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),et.read(r);const u=Nl(window,"resize",()=>this.scalePositionWithinConstraints()),h=i.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(rr(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=p[g].translate,y.set(y.get()+p[g].translate))}),this.visualElement.render())}));return()=>{u(),s(),c(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:c=!1,dragElastic:u=mg,dragMomentum:h=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function bu(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function q6(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class K6 extends ra{constructor(t){super(t),this.removeGroupControls=_n,this.removeListeners=_n,this.controls=new W6(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_n}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rw=e=>(t,s)=>{e&&et.postRender(()=>e(t,s))};class Y6 extends ra{constructor(){super(...arguments),this.removePointerDownListener=_n}onPointerDown(t){this.session=new JT(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YT(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Rw(t),onStart:Rw(s),onMove:r,onEnd:(c,u)=>{delete this.session,i&&et.postRender(()=>i(c,u))}}}mount(){this.removePointerDownListener=yl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mw(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const tl={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Me.test(e))e=parseFloat(e);else return e;const s=Mw(e,t.target.x),r=Mw(e,t.target.y);return`${s}% ${r}%`}},J6={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=ta.parse(e);if(i.length>5)return r;const c=ta.createTransformer(e),u=typeof i[0]!="number"?1:0,h=s.x.scale*t.x,p=s.y.scale*t.y;i[0+u]/=h,i[1+u]/=p;const m=Nt(h,p,.5);return typeof i[2+u]=="number"&&(i[2+u]/=m),typeof i[3+u]=="number"&&(i[3+u]/=m),c(i)}};let Wm=!1;class X6 extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:c}=t;vz(Z6),c&&(s.group&&s.group.add(c),r&&r.register&&i&&r.register(c),Wm&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Gu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:c}=this.props,{projection:u}=r;return u&&(u.isPresent=c,Wm=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==c?u.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?u.promote():u.relegate()||et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ty.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;Wm=!0,i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ZT(e){const[t,s]=bT(),r=b.useContext(ry);return o.jsx(X6,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(_T),isPresent:t,safeToRemove:s})}const Z6={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:J6};function Q6(e,t,s){const r=cn(e)?e:gr(e);return r.start(zy("",r,t,s)),r.animation}const eL=(e,t)=>e.depth-t.depth;class tL{constructor(){this.children=[],this.isDirty=!1}add(t){ay(this.children,t),this.isDirty=!0}remove(t){iy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(eL),this.isDirty=!1,this.children.forEach(t)}}function nL(e,t){const s=Mn.now(),r=({timestamp:i})=>{const c=i-s;c>=t&&(xr(r),e(c-t))};return et.setup(r,!0),()=>xr(r)}const QT=["TopLeft","TopRight","BottomLeft","BottomRight"],rL=QT.length,_w=e=>typeof e=="string"?parseFloat(e):e,Ow=e=>typeof e=="number"||Me.test(e);function sL(e,t,s,r,i,c){i?(e.opacity=Nt(0,s.opacity??1,aL(r)),e.opacityExit=Nt(t.opacity??1,0,iL(r))):c&&(e.opacity=Nt(t.opacity??1,s.opacity??1,r));for(let u=0;u<rL;u++){const h=`border${QT[u]}Radius`;let p=Dw(t,h),m=Dw(s,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||Ow(p)===Ow(m)?(e[h]=Math.max(Nt(_w(p),_w(m),r),0),(Mr.test(m)||Mr.test(p))&&(e[h]+="%")):e[h]=m}(t.rotate||s.rotate)&&(e.rotate=Nt(t.rotate||0,s.rotate||0,r))}function Dw(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const aL=e2(0,.5,Lk),iL=e2(.5,.95,_n);function e2(e,t,s){return r=>r<e?0:r>t?1:s(Vi(e,t,r))}function Pw(e,t){e.min=t.min,e.max=t.max}function tr(e,t){Pw(e.x,t.x),Pw(e.y,t.y)}function zw(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Lw(e,t,s,r,i){return e-=t,e=dd(e,1/s,r),i!==void 0&&(e=dd(e,1/i,r)),e}function oL(e,t=0,s=1,r=.5,i,c=e,u=e){if(Mr.test(t)&&(t=parseFloat(t),t=Nt(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=Nt(c.min,c.max,r);e===c&&(h-=t),e.min=Lw(e.min,t,s,h,i),e.max=Lw(e.max,t,s,h,i)}function Uw(e,t,[s,r,i],c,u){oL(e,t[s],t[r],t[i],t.scale,c,u)}const lL=["x","scaleX","originX"],cL=["y","scaleY","originY"];function $w(e,t,s,r){Uw(e.x,t,lL,s?s.x:void 0,r?r.x:void 0),Uw(e.y,t,cL,s?s.y:void 0,r?r.y:void 0)}function Bw(e){return e.translate===0&&e.scale===1}function t2(e){return Bw(e.x)&&Bw(e.y)}function Iw(e,t){return e.min===t.min&&e.max===t.max}function uL(e,t){return Iw(e.x,t.x)&&Iw(e.y,t.y)}function Fw(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function n2(e,t){return Fw(e.x,t.x)&&Fw(e.y,t.y)}function Vw(e){return jn(e.x)/jn(e.y)}function Hw(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class dL{constructor(){this.members=[]}add(t){ay(this.members,t),t.scheduleRender()}remove(t){if(iy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const c=this.members[i];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hL(e,t,s){let r="";const i=e.x.translate/t.x,c=e.y.translate/t.y,u=(s==null?void 0:s.z)||0;if((i||c||u)&&(r=`translate3d(${i}px, ${c}px, ${u}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:m,rotate:g,rotateX:y,rotateY:v,skewX:j,skewY:A}=s;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),y&&(r+=`rotateX(${y}deg) `),v&&(r+=`rotateY(${v}deg) `),j&&(r+=`skewX(${j}deg) `),A&&(r+=`skewY(${A}deg) `)}const h=e.x.scale*t.x,p=e.y.scale*t.y;return(h!==1||p!==1)&&(r+=`scale(${h}, ${p})`),r||"none"}const qm=["","X","Y","Z"],fL=1e3;let mL=0;function Km(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function r2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=FT(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:c}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",et,!(i||c))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&r2(r)}function s2({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},h=t==null?void 0:t()){this.id=mL++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yL),this.nodes.forEach(wL),this.nodes.forEach(SL),this.nodes.forEach(xL)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new tL)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ly),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const p=this.eventHandlers.get(u);p&&p.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Ey(u)&&!nz(u),this.instance=u;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),e){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;et.read(()=>{y=window.innerWidth}),e(u,()=>{const j=window.innerWidth;j!==y&&(y=j,this.root.updateBlockedByResize=!0,g&&g(),g=nL(v,250),Gu.hasAnimatedSinceResize&&(Gu.hasAnimatedSinceResize=!1,this.nodes.forEach(qw)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||m.getDefaultTransition()||EL,{onLayoutAnimationStart:k,onLayoutAnimationComplete:E}=m.getProps(),C=!this.targetLayout||!n2(this.targetLayout,j),R=!y&&v;if(this.options.layoutRoot||this.resumeFrom||R||y&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const N={...Sy(A,"layout"),onPlay:k,onComplete:E};(m.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N),this.setAnimationOrigin(g,R)}else y||qw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jL),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Gw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ww);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bL),this.nodes.forEach(pL),this.nodes.forEach(gL)):this.nodes.forEach(Ww),this.clearAllSnapshots();const h=Mn.now();ln.delta=Pr(0,1e3/60,h-ln.timestamp),ln.timestamp=h,ln.isProcessing=!0,zm.update.process(ln),zm.preRender.process(ln),zm.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ty.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vL),this.sharedNodes.forEach(kL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jn(this.snapshot.measuredBox.x)&&!jn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ut(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!t2(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ea(this.latestValues)||g)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return u&&(p=this.removeTransform(p)),AL(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Ut();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(NL))){const{scroll:g}=this.root;g&&(Pi(h.x,g.offset.x),Pi(h.y,g.offset.y))}return h}removeElementScroll(u){var p;const h=Ut();if(tr(h,u),(p=this.scroll)!=null&&p.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&tr(h,u),Pi(h.x,y.offset.x),Pi(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const p=Ut();tr(p,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&zi(p,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ea(g.latestValues)&&zi(p,g.latestValues)}return Ea(this.latestValues)&&zi(p,this.latestValues),p}removeTransform(u){const h=Ut();tr(h,u);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Ea(m.latestValues))continue;lg(m.latestValues)&&m.updateSnapshot();const g=Ut(),y=m.measurePageBox();tr(g,y),$w(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return Ea(this.latestValues)&&$w(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var v;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=ln.timestamp,!this.targetDelta&&!this.relativeTarget){const j=this.getClosestProjectingParent();j&&j.layout&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),vl(this.relativeTargetOrigin,this.layout.layoutBox,j.layout.layoutBox),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ut(),this.targetWithTransforms=Ut()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),P6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tr(this.target,this.layout.layoutBox),zT(this.target,this.targetDelta)):tr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const j=this.getClosestProjectingParent();j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?(this.relativeParent=j,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ut(),this.relativeTargetOrigin=Ut(),vl(this.relativeTargetOrigin,this.target,j.target),tr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lg(this.parent.latestValues)||PT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(p=!1),p)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;tr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;qz(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ut());const{target:j}=u;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zw(this.prevProjectionDelta.x,this.projectionDelta.x),zw(this.prevProjectionDelta.y,this.projectionDelta.y)),xl(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!Hw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Hw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Li(),this.projectionDelta=Li(),this.projectionDeltaWithTransform=Li()}setAnimationOrigin(u,h=!1){const p=this.snapshot,m=p?p.latestValues:{},g={...this.latestValues},y=Li();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=Ut(),j=p?p.source:void 0,A=this.layout?this.layout.source:void 0,k=j!==A,E=this.getStack(),C=!E||E.members.length<=1,R=!!(k&&!C&&this.options.crossfade===!0&&!this.path.some(CL));this.animationProgress=0;let N;this.mixTargetDelta=D=>{const P=D/1e3;Kw(y.x,u.x,P),Kw(y.y,u.y,P),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TL(this.relativeTarget,this.relativeTargetOrigin,v,P),N&&uL(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=Ut()),tr(N,this.relativeTarget)),k&&(this.animationValues=g,sL(g,m,this.latestValues,P,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,p,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(p=this.resumingFrom)==null?void 0:p.currentAnimation)==null||m.stop(),this.pendingAnimation&&(xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{Gu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gr(0)),this.currentAnimation=Q6(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:g}=u;if(!(!h||!p||!m)){if(this!==u&&this.layout&&m&&a2(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||Ut();const y=jn(this.layout.layoutBox.x);p.x.min=u.target.x.min,p.x.max=p.x.min+y;const v=jn(this.layout.layoutBox.y);p.y.min=u.target.y.min,p.y.max=p.y.min+v}tr(h,p),zi(h,g),xl(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new dL),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:p}=u;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&Km("z",u,m,this.animationValues);for(let g=0;g<qm.length;g++)Km(`rotate${qm[g]}`,u,m,this.animationValues),Km(`skew${qm[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Hu(h==null?void 0:h.pointerEvents)||"",u.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Hu(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Ea(this.latestValues)&&(u.transform=p?p({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=hL(this.projectionDeltaWithTransform,this.treeScale,g);p&&(y=p(g,y)),u.transform=y;const{x:v,y:j}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${j.origin*100}% 0`,m.animationValues?u.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in Al){if(g[A]===void 0)continue;const{correct:k,applyTo:E,isCSSVariable:C}=Al[A],R=y==="none"?g[A]:k(g[A],m);if(E){const N=E.length;for(let D=0;D<N;D++)u[E[D]]=R}else C?this.options.visualElement.renderState.vars[A]=R:u[A]=R}this.options.layoutId&&(u.pointerEvents=m===this?Hu(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Gw),this.root.sharedNodes.clear()}}}function pL(e){e.updateLayout()}function gL(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:c}=e.options,u=t.source!==e.layout.source;c==="size"?rr(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],j=jn(v);v.min=r[y].min,v.max=v.min+j}):a2(c,t.layoutBox,r)&&rr(y=>{const v=u?t.measuredBox[y]:t.layoutBox[y],j=jn(r[y]);v.max=v.min+j,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+j)});const h=Li();xl(h,r,t.layoutBox);const p=Li();u?xl(p,e.applyTransform(i,!0),t.measuredBox):xl(p,r,t.layoutBox);const m=!t2(h);let g=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:j}=y;if(v&&j){const A=Ut();vl(A,t.layoutBox,v.layoutBox);const k=Ut();vl(k,r,j.layoutBox),n2(A,k)||(g=!0),y.options.layoutRoot&&(e.relativeTarget=k,e.relativeTargetOrigin=A,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function yL(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vL(e){e.clearSnapshot()}function Gw(e){e.clearMeasurements()}function Ww(e){e.isLayoutDirty=!1}function bL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qw(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wL(e){e.resolveTargetDelta()}function SL(e){e.calcProjection()}function jL(e){e.resetSkewAndRotation()}function kL(e){e.removeLeadSnapshot()}function Kw(e,t,s){e.translate=Nt(t.translate,0,s),e.scale=Nt(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function Yw(e,t,s,r){e.min=Nt(t.min,s.min,r),e.max=Nt(t.max,s.max,r)}function TL(e,t,s,r){Yw(e.x,t.x,s.x,r),Yw(e.y,t.y,s.y,r)}function CL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const EL={duration:.45,ease:[.4,0,.1,1]},Jw=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Xw=Jw("applewebkit/")&&!Jw("chrome/")?Math.round:_n;function Zw(e){e.min=Xw(e.min),e.max=Xw(e.max)}function AL(e){Zw(e.x),Zw(e.y)}function a2(e,t,s){return e==="position"||e==="preserve-aspect"&&!D6(Vw(t),Vw(s),.2)}function NL(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const RL=s2({attachResizeListener:(e,t)=>Nl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ym={current:void 0},i2=s2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ym.current){const e=new RL({});e.mount(window),e.setOptions({layoutScroll:!0}),Ym.current=e}return Ym.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),ML={pan:{Feature:Y6},drag:{Feature:K6,ProjectionNode:i2,MeasureLayout:ZT}};function Qw(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,c=r[i];c&&et.postRender(()=>c(t,Wl(t)))}class _L extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=F4(t,(s,r)=>(Qw(this.node,r,"Start"),i=>Qw(this.node,i,"End"))))}unmount(){}}class OL extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(Nl(this.node.current,"focus",()=>this.onFocus()),Nl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eS(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),c=r[i];c&&et.postRender(()=>c(t,Wl(t)))}class DL extends ra{mount(){const{current:t}=this.node;t&&(this.unmount=W4(t,(s,r)=>(eS(this.node,r,"Start"),(i,{success:c})=>eS(this.node,i,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pg=new WeakMap,Jm=new WeakMap,PL=e=>{const t=pg.get(e.target);t&&t(e)},zL=e=>{e.forEach(PL)};function LL({root:e,...t}){const s=e||document;Jm.has(s)||Jm.set(s,{});const r=Jm.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(zL,{root:e,...t})),r[i]}function UL(e,t,s){const r=LL(t);return pg.set(e,s),r.observe(e),()=>{pg.delete(e),r.unobserve(e)}}const $L={some:0,all:1};class BL extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:c}=t,u={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$L[i]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,c&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=m?g:y;v&&v(p)};return UL(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(IL(t,s))&&this.startObserver()}unmount(){}}function IL({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const FL={inView:{Feature:BL},tap:{Feature:DL},focus:{Feature:OL},hover:{Feature:_L}},VL={layout:{ProjectionNode:i2,MeasureLayout:ZT}},HL={...A6,...FL,...ML,...VL},je=Hz(HL,r6),GL=50,tS=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),WL=()=>({time:0,x:tS(),y:tS()}),qL={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function nS(e,t,s,r){const i=s[t],{length:c,position:u}=qL[t],h=i.current,p=s.time;i.current=e[`scroll${u}`],i.scrollLength=e[`scroll${c}`]-e[`client${c}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Vi(0,i.scrollLength,i.current);const m=r-p;i.velocity=m>GL?0:cy(i.current-h,m)}function KL(e,t,s){nS(e,"x",t,s),nS(e,"y",t,s),t.time=s}function YL(e,t){const s={x:0,y:0};let r=e;for(;r&&r!==t;)if(ky(r))s.x+=r.offsetLeft,s.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const c=r.getBoundingClientRect();s.x+=i.left-c.left,s.y+=i.top-c.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:c}=r.getBBox();s.x+=i,s.y+=c;let u=null,h=r.parentNode;for(;!u;)h.tagName==="svg"&&(u=h),h=r.parentNode;r=u}else break;return s}const gg={start:0,center:.5,end:1};function rS(e,t,s=0){let r=0;if(e in gg&&(e=gg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),s+r}const JL=[0,0];function XL(e,t,s,r){let i=Array.isArray(e)?e:JL,c=0,u=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,gg[e]?e:"0"]),c=rS(i[0],s,r),u=rS(i[1],t),c-u}const ZL={All:[[0,0],[1,1]]},QL={x:0,y:0};function eU(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function tU(e,t,s){const{offset:r=ZL.All}=s,{target:i=e,axis:c="y"}=s,u=c==="y"?"height":"width",h=i!==e?YL(i,e):QL,p=i===e?{width:e.scrollWidth,height:e.scrollHeight}:eU(i),m={width:e.clientWidth,height:e.clientHeight};t[c].offset.length=0;let g=!t[c].interpolate;const y=r.length;for(let v=0;v<y;v++){const j=XL(r[v],m[u],p[u],h[c]);!g&&j!==t[c].interpolatorOffsets[v]&&(g=!0),t[c].offset[v]=j}g&&(t[c].interpolate=xy(t[c].offset,Zk(r),{clamp:!1}),t[c].interpolatorOffsets=[...t[c].offset]),t[c].progress=Pr(0,1,t[c].interpolate(t[c].current))}function nU(e,t=e,s){if(s.x.targetOffset=0,s.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)s.x.targetOffset+=r.offsetLeft,s.y.targetOffset+=r.offsetTop,r=r.offsetParent}s.x.targetLength=t===e?t.scrollWidth:t.clientWidth,s.y.targetLength=t===e?t.scrollHeight:t.clientHeight,s.x.containerLength=e.clientWidth,s.y.containerLength=e.clientHeight}function rU(e,t,s,r={}){return{measure:i=>{nU(e,r.target,s),KL(e,s,i),(r.offset||r.target)&&tU(e,s,r)},notify:()=>t(s)}}const nl=new WeakMap,sS=new WeakMap,Xm=new WeakMap,aS=e=>e===document.scrollingElement?window:e;function o2(e,{container:t=document.scrollingElement,...s}={}){if(!t)return _n;let r=Xm.get(t);r||(r=new Set,Xm.set(t,r));const i=WL(),c=rU(t,e,i,s);if(r.add(c),!nl.has(t)){const h=()=>{for(const y of r)y.measure(ln.timestamp);et.preUpdate(p)},p=()=>{for(const y of r)y.notify()},m=()=>et.read(h);nl.set(t,m);const g=aS(t);window.addEventListener("resize",m,{passive:!0}),t!==document.documentElement&&sS.set(t,tz(t,m)),g.addEventListener("scroll",m,{passive:!0}),m()}const u=nl.get(t);return et.read(u,!1,!0),()=>{var m;xr(u);const h=Xm.get(t);if(!h||(h.delete(c),h.size))return;const p=nl.get(t);nl.delete(t),p&&(aS(t).removeEventListener("scroll",p),(m=sS.get(t))==null||m(),window.removeEventListener("resize",p))}}const iS=new Map;function sU(e){const t={value:0},s=o2(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:s}}function l2({source:e,container:t,...s}){const{axis:r}=s;e&&(t=e);const i=iS.get(t)??new Map;iS.set(t,i);const c=s.target??"self",u=i.get(c)??{},h=r+(s.offset??[]).join(",");return u[h]||(u[h]=!s.target&&nT()?new ScrollTimeline({source:t,axis:r}):sU({container:t,...s})),u[h]}function aU(e,t){const s=l2(t);return e.attachTimeline({timeline:t.target?void 0:s,observe:r=>(r.pause(),vT(i=>{r.time=r.iterationDuration*i},s))})}function iU(e){return e.length===2}function oU(e,t){return iU(e)?o2(s=>{e(s[t.axis].progress,s)},t):vT(e,l2(t))}function lU(e,{axis:t="y",container:s=document.scrollingElement,...r}={}){if(!s)return _n;const i={axis:t,container:s,...r};return typeof e=="function"?oU(e,i):aU(e,i)}const cU=()=>({scrollX:gr(0),scrollY:gr(0),scrollXProgress:gr(0),scrollYProgress:gr(0)}),wu=e=>e?!e.current:!1;function c2({container:e,target:t,...s}={}){const r=Xi(cU),i=b.useRef(null),c=b.useRef(!1),u=b.useCallback(()=>(i.current=lU((h,{x:p,y:m})=>{r.scrollX.set(p.current),r.scrollXProgress.set(p.progress),r.scrollY.set(m.current),r.scrollYProgress.set(m.progress)},{...s,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var h;(h=i.current)==null||h.call(i)}),[e,t,JSON.stringify(s.offset)]);return Od(()=>{if(c.current=!1,wu(e)||wu(t)){c.current=!0;return}else return u()},[u]),b.useEffect(()=>{if(c.current)return kl(!wu(e)),kl(!wu(t)),u()},[u]),r}function u2(e){const t=Xi(()=>gr(e)),{isStatic:s}=b.useContext(Gl);if(s){const[,r]=b.useState(e);b.useEffect(()=>t.on("change",r),[])}return t}function d2(e,t){const s=u2(t()),r=()=>s.set(t());return r(),Od(()=>{const i=()=>et.preRender(r,!1,!0),c=e.map(u=>u.on("change",i));return()=>{c.forEach(u=>u()),xr(r)}}),s}function uU(e){gl.current=[],e();const t=d2(gl.current,e);return gl.current=void 0,t}function Rl(e,t,s,r){if(typeof e=="function")return uU(e);const i=typeof t=="function"?t:rz(t,s,r);return Array.isArray(e)?oS(e,i):oS([e],([c])=>i(c))}function oS(e,t){const s=Xi(()=>[]);return d2(e,()=>{s.length=0;const r=e.length;for(let i=0;i<r;i++)s[i]=e[i].get();return t(s)})}function lS(e,t={}){const{isStatic:s}=b.useContext(Gl),r=()=>cn(e)?e.get():e;if(s)return Rl(r);const i=u2(r());return b.useInsertionEffect(()=>sz(i,e,t),[i,JSON.stringify(t)]),i}const Gi=({children:e,className:t="",delay:s=0})=>o.jsx(je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.4,delay:s/1e3},className:t,children:e}),zr=({children:e,className:t="",preset:s="fade",delay:r=0})=>{const i={fade:{hidden:{opacity:0},visible:{opacity:1}},slide:{hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},scale:{hidden:{opacity:0,scale:.8},visible:{opacity:1,scale:1}}};return o.jsx(je.div,{variants:i[s],initial:"hidden",animate:"visible",transition:{duration:.6,delay:r/1e3},className:t,children:e})},dU=({config:e,updateConfig:t,inputMode:s})=>o.jsxs(Gi,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-2",children:" Grundangaben"}),o.jsx(zr,{preset:"fade",delay:200,className:"text-gray-600",children:"Erzhl uns von deinem Charakter"})]}),s==="simple"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Name"}),o.jsx("input",{type:"text",value:e.name,onChange:r=>t({name:r.target.value}),placeholder:"Wie soll dein Avatar heien?",className:"w-full p-4 text-lg rounded-2xl border-2 border-purple-200 focus:border-purple-400 bg-white shadow-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Typ"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[" Mensch"," Tier"," Fantasie-Wesen"," Roboter"," Pflanze"," Anderes"].map(r=>o.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t({type:r.split(" ")[1]}),className:`p-4 rounded-xl border-2 text-left transition-all ${e.type===r.split(" ")[1]?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:o.jsx("div",{className:"text-xl",children:r})},r))})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Alter"}),o.jsxs("select",{value:e.age,onChange:r=>t({age:parseInt(r.target.value)}),className:"w-full p-4 text-lg rounded-2xl border-2 border-purple-200 focus:border-purple-400 bg-white",children:[o.jsx("option",{value:5,children:" Baby"}),o.jsx("option",{value:10,children:" Kind"}),o.jsx("option",{value:16,children:" Jugendlich"}),o.jsx("option",{value:30,children:" Erwachsen"}),o.jsx("option",{value:60,children:" Alt"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Geschlecht"}),o.jsxs("select",{value:e.gender,onChange:r=>t({gender:r.target.value}),className:"w-full p-4 text-lg rounded-2xl border-2 border-purple-200 focus:border-purple-400 bg-white",children:[o.jsx("option",{value:"junge",children:" Junge"}),o.jsx("option",{value:"mdchen",children:" Mdchen"}),o.jsx("option",{value:"divers",children:" Divers"}),o.jsx("option",{value:"nicht-angegeben",children:" Nicht angegeben"})]})]})]})]}):o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Beschreibe deinen Avatar"}),o.jsx("textarea",{value:`${e.name} - ${e.type}, ${e.age} Jahre alt`,onChange:r=>{const c=r.target.value.split(" - ");c.length>=2&&t({name:c[0],type:c[1].split(",")[0]||e.type})},placeholder:"z.B. Luna - Ein neugieriges Mdchen, 8 Jahre alt, mit groen grnen Augen und einem verschmitzten Lcheln...",rows:4,className:"w-full p-4 text-lg rounded-2xl border-2 border-purple-200 focus:border-purple-400 bg-white resize-none"})]})})]}),hU=({config:e,updateConfig:t,inputMode:s})=>o.jsxs(Gi,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-2",children:" Aussehen"}),o.jsx(zr,{preset:"fade",delay:200,className:"text-gray-600",children:"Wie sieht dein Avatar aus?"})]}),s==="simple"?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Augenfarbe"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:[{color:"blau",bg:"bg-blue-400",emoji:""},{color:"grn",bg:"bg-green-400",emoji:""},{color:"braun",bg:"bg-amber-600",emoji:""},{color:"grau",bg:"bg-gray-400",emoji:""},{color:"bunt",bg:"bg-gradient-to-r from-purple-400 to-pink-400",emoji:""}].map(r=>o.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t({eyeColor:r.color}),className:`w-16 h-16 rounded-full border-4 flex items-center justify-center text-xl ${e.eyeColor===r.color?"border-purple-500 shadow-lg":"border-white shadow-md"} ${r.bg}`,children:r.emoji},r.color))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Haarfarbe"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:[{color:"blond",bg:"bg-yellow-300",emoji:""},{color:"braun",bg:"bg-amber-700",emoji:""},{color:"schwarz",bg:"bg-gray-900",emoji:""},{color:"rot",bg:"bg-red-500",emoji:""},{color:"glatze",bg:"bg-pink-200",emoji:""}].map(r=>o.jsx(je.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t({hairColor:r.color}),className:`w-16 h-16 rounded-full border-4 flex items-center justify-center text-xl ${e.hairColor===r.color?"border-purple-500 shadow-lg":"border-white shadow-md"} ${r.bg}`,children:r.emoji},r.color))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Besonderheiten"}),o.jsx("div",{className:"flex flex-wrap gap-3",children:[" Brille"," Flgel"," Hrner"," Schwanz"," Narbe"," Tattoo"].map(r=>{var i;return o.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{const c=r.split(" ")[1],u=e.specialFeatures||[],h=u.includes(c);t({specialFeatures:h?u.filter(p=>p!==c):[...u,c]})},className:`px-4 py-2 rounded-xl border-2 transition-all ${(i=e.specialFeatures)!=null&&i.includes(r.split(" ")[1])?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:r},r)})})]})]}):o.jsx("textarea",{placeholder:"Beschreibe das Aussehen deines Avatars im Detail...",rows:6,className:"w-full p-4 text-lg rounded-2xl border-2 border-purple-200 focus:border-purple-400 bg-white resize-none"})]}),fU=({config:e,updateConfig:t})=>o.jsxs(Gi,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-2",children:" Stil & Ausdruck"}),o.jsx(zr,{preset:"fade",delay:200,className:"text-gray-600",children:"Wie kleidet sich dein Avatar?"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Kleidungsstil"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[" Modern"," Mittelalterlich"," Mrchenhaft"," Zukunft"," Rstung"," Magisch"].map(s=>o.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t({clothing:s.split(" ")[1]}),className:`p-4 rounded-xl border-2 text-left transition-all ${e.clothing===s.split(" ")[1]?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:o.jsx("div",{className:"text-xl",children:s})},s))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Stimme"}),o.jsx("div",{className:"flex gap-3",children:[" Hoch"," Normal"," Tief"," Witzig"," Geheimnisvoll"].map(s=>o.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t({voice:s.split(" ")[1]}),className:`px-4 py-2 rounded-xl border-2 transition-all ${e.voice===s.split(" ")[1]?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:s},s))})]})]})]}),mU=({config:e,updateConfig:t})=>o.jsxs(Gi,{className:"space-y-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-2",children:" Herkunft & Geschichte"}),o.jsx(zr,{preset:"fade",delay:200,className:"text-gray-600",children:"Woher kommt dein Avatar?"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Welt"}),o.jsx("div",{className:"grid grid-cols-2 gap-3",children:[" Wald"," Stadt"," Schloss"," Zukunft"," Unterwasser"," Weltraum"].map(s=>o.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t({world:s.split(" ")[1]}),className:`p-4 rounded-xl border-2 text-left transition-all ${e.world===s.split(" ")[1]?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:o.jsx("div",{className:"text-xl",children:s})},s))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-3",children:"Hintergrundgeschichte"}),o.jsx("div",{className:"space-y-3",children:[" Verloren gegangenes Kind"," Abenteurer auf Reise"," Zauberschler"," Tier mit besonderem Talent",' Einfach "normales" Kind'].map(s=>o.jsx(je.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>t({backstory:s.substring(2)}),className:`w-full p-4 rounded-xl border-2 text-left transition-all ${e.backstory===s.substring(2)?"border-purple-400 bg-purple-50 text-purple-700":"border-gray-200 bg-white hover:border-purple-200"}`,children:o.jsx("div",{className:"text-lg",children:s})},s))})]})]})]}),h2=()=>{const e=Gt(),t=yt(),[s,r]=b.useState(0),[i,c]=b.useState("simple"),[u,h]=b.useState(!1),[p,m]=b.useState(null),[g,y]=b.useState(!1),[v,j]=b.useState({basicInfo:{name:"",type:"",age:10,gender:"",size:"mittel",build:"normal"},appearance:{eyeColor:"",hairColor:"",skinColor:"hell",specialFeatures:[]},style:{clothing:"",accessories:[],voice:"",expression:""},background:{world:"",backstory:""},inputMode:i}),A=[{title:"Modus whlen",component:"mode"},{title:"Grundangaben",component:"basic"},{title:"Aussehen",component:"appearance"},{title:"Stil",component:"style"},{title:"Herkunft",component:"background"},{title:"Erstellen",component:"create"}],k=b.useCallback(_=>{j(I=>({...I,basicInfo:{...I.basicInfo,..._}}))},[]),E=b.useCallback(_=>{j(I=>({...I,appearance:{...I.appearance,..._}}))},[]),C=b.useCallback(_=>{j(I=>({...I,style:{...I.style,..._}}))},[]),R=b.useCallback(_=>{j(I=>({...I,background:{...I.background,..._}}))},[]),N=()=>{s<A.length-1&&r(s+1)},D=()=>{s>0&&r(s-1)},P=async()=>{h(!0);try{const _={knowledge:{value:0,description:"Wissensakkumulation in verschiedenen Bereichen"},creativity:{value:0,description:"Kreative Problemlsung und Fantasie"},vocabulary:{value:0,description:"Sprachlicher Ausdruck und Kommunikation"},courage:{value:0,description:"Bereitschaft Risiken einzugehen"},curiosity:{value:0,description:"Wissensdurst und Entdeckergeist"},teamwork:{value:0,description:"Zusammenarbeit und Kooperation"},empathy:{value:0,description:"Mitgefhl und Verstndnis fr andere"},persistence:{value:0,description:"Durchhaltevermgen und Beharrlichkeit"},logic:{value:0,description:"Analytisches Denken und Schlussfolgerung"}},I={name:v.basicInfo.name||"Unbekannt",type:v.basicInfo.type||"Charakter",world:v.background.world||"einer unbekannten Welt",backstory:v.background.backstory||"Hat eine geheimnisvolle Vergangenheit",eyeColor:v.appearance.eyeColor||"braune",hairColor:v.appearance.hairColor||"dunkle"},W=`${I.name} ist ein ${I.type} aus ${I.world}. ${I.backstory}. Hat ${I.eyeColor} Augen und ${I.hairColor} Haare.`,H={characterType:I.type,appearance:W},se={name:I.name,description:W,physicalTraits:H,personalityTraits:_,imageUrl:p||void 0,visualProfile:void 0,creationType:"ai-generated"};console.log("Creating avatar via backend API...",se);const K=await t.avatar.create(se);console.log("Avatar created successfully:",K);const re=`avatar_personality_${K.id}`,Q={traits:[{trait:"Mut",value:50,history:[]},{trait:"Kreativitt",value:50,history:[]},{trait:"Empathie",value:50,history:[]},{trait:"Intelligenz",value:50,history:[]},{trait:"Sozialitt",value:50,history:[]},{trait:"Energie",value:50,history:[]}],lastUpdated:new Date().toISOString()};localStorage.setItem(re,JSON.stringify(Q)),ft(async()=>{const{showAvatarCreatedToast:B,showSuccessToast:L}=await import("./toastUtils-Bu-OBlOz.js");return{showAvatarCreatedToast:B,showSuccessToast:L}},[]).then(({showAvatarCreatedToast:B,showSuccessToast:L})=>{B(I.name),L("Avatar bereit! Persnlichkeitsmerkmale entwickeln sich durch Geschichten.")}),e("/avatar")}catch(_){console.error("Error creating avatar:",_),alert("Avatar konnte nicht erstellt werden. Bitte versuche es erneut.")}finally{h(!1)}},M=async()=>{try{y(!0);const _={courage:5,intelligence:5,creativity:5,empathy:5,strength:5,humor:5,adventure:5,patience:5,curiosity:5,leadership:5},I=`${v.basicInfo.type} mit ${v.appearance.eyeColor} Augen und ${v.appearance.hairColor} Haaren. ${v.appearance.specialFeatures.join(", ")}`,W=await t.ai.generateAvatarImage({characterType:v.basicInfo.type,appearance:I,personalityTraits:_,style:"disney"});m(W.imageUrl),ft(async()=>{const{showSuccessToast:H}=await import("./toastUtils-Bu-OBlOz.js");return{showSuccessToast:H}},[]).then(({showSuccessToast:H})=>{H(" Avatar-Bild wurde erfolgreich generiert!")})}catch(_){console.error("Error generating avatar image:",_),ft(async()=>{const{showErrorToast:I}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:I}},[]).then(({showErrorToast:I})=>{I("Fehler beim Generieren des Avatar-Bildes. Bitte versuche es erneut.")})}finally{y(!1)}},U=()=>{switch(A[s].component){case"mode":return o.jsxs(Gi,{className:"text-center space-y-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-4",children:" Wie mchtest du deinen Avatar erstellen?"}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[o.jsxs(je.button,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>{c("simple"),N()},className:"p-8 bg-gradient-to-br from-purple-400 to-pink-400 rounded-3xl text-white text-left shadow-2xl",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Einfach & Spaig"}),o.jsx("p",{className:"text-lg opacity-90",children:"Klicke dich durch bunte Optionen. Perfekt fr Kinder!"})]}),o.jsxs(je.button,{whileHover:{scale:1.02,y:-5},whileTap:{scale:.98},onClick:()=>{c("advanced"),N()},className:"p-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl text-white text-left shadow-2xl",children:[o.jsx("div",{className:"text-6xl mb-4",children:""}),o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Kreativ & Frei"}),o.jsx("p",{className:"text-lg opacity-90",children:"Beschreibe deinen Avatar mit eigenen Worten. Fr Kreative!"})]})]})]});case"basic":return o.jsx(dU,{config:v.basicInfo,updateConfig:k,inputMode:i});case"appearance":return o.jsx(hU,{config:v.appearance,updateConfig:E,inputMode:i});case"style":return o.jsx(fU,{config:v.style,updateConfig:C});case"background":return o.jsx(mU,{config:v.background,updateConfig:R});case"create":return o.jsxs(Gi,{className:"text-center space-y-8",children:[o.jsx(zr,{preset:"scale",className:"text-3xl font-bold text-gray-800 mb-4",children:" Dein Avatar ist bereit!"}),o.jsxs("div",{className:"bg-gradient-to-br from-yellow-100 to-orange-100 rounded-3xl p-8 max-w-md mx-auto",children:[o.jsx("div",{className:"w-32 h-32 bg-white rounded-full mx-auto mb-4 flex items-center justify-center shadow-lg",children:p?o.jsx("img",{src:p,alt:"Avatar",className:"w-full h-full rounded-full object-cover"}):o.jsx("div",{className:"text-4xl",children:""})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-2",children:v.basicInfo.name}),o.jsxs("p",{className:"text-gray-600 mb-4",children:[v.basicInfo.type," aus ",v.background.world]}),o.jsx("div",{className:"bg-blue-50 rounded-2xl p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Info:"})," Persnlichkeitsmerkmale starten neutral und entwickeln sich durch deine Geschichten!"]})}),o.jsx("div",{className:"flex flex-col gap-3 mb-6",children:o.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,disabled:g||!v.basicInfo.name||!v.basicInfo.type,className:"bg-gradient-to-r from-pink-400 to-purple-400 text-white px-6 py-3 rounded-2xl text-base font-semibold shadow-lg disabled:opacity-50 flex items-center justify-center gap-2",children:g?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Generiere Bild..."]}):o.jsx(o.Fragment,{children:" Bild generieren"})})}),o.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:P,disabled:u,className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-2xl text-lg font-bold shadow-lg disabled:opacity-50",children:u?"Erstelle Avatar... ":" Avatar erstellen"})]})]});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:[o.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-b border-purple-200 p-4 sticky top-0 z-10",children:[o.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[o.jsx("button",{onClick:()=>s===0?e("/avatar"):D(),className:"p-2 rounded-full hover:bg-purple-100 transition-colors",children:o.jsx(yn,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Avatar Wizard"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Schritt ",s+1," von ",A.length]})]}),o.jsx("div",{className:"w-10"})," "]}),o.jsx("div",{className:"max-w-4xl mx-auto mt-4",children:o.jsx("div",{className:"flex items-center space-x-2",children:A.map((_,I)=>o.jsxs($.Fragment,{children:[o.jsx(je.div,{initial:{scale:.8},animate:{scale:I===s?1.2:I<=s?1:.8,backgroundColor:I<=s?"#8b5cf6":"#e5e7eb"},className:"w-8 h-8 rounded-full flex items-center justify-center text-white text-sm font-bold",children:I<s?o.jsx(ls,{size:16}):I+1}),I<A.length-1&&o.jsx(je.div,{initial:{width:"0%"},animate:{width:"100%",backgroundColor:I<s?"#8b5cf6":"#e5e7eb"},className:"flex-1 h-2 rounded-full"})]},I))})})]}),o.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[o.jsx(or,{mode:"wait",children:o.jsx(je.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.4},className:"min-h-[60vh]",children:U()},s)}),s>0&&A[s].component!=="create"&&o.jsxs("div",{className:"flex justify-between mt-8",children:[o.jsx(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-2xl font-semibold hover:bg-gray-300 transition-colors",children:"Zurck"}),o.jsxs(je.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:N,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl font-semibold shadow-lg flex items-center gap-2",children:["Weiter ",o.jsx(Jg,{size:16})]})]})]})]})},Se=({children:e,delay:t=0,className:s="",from:r="bottom",style:i={}})=>{const[c,u]=b.useState(!1);b.useEffect(()=>{const m=setTimeout(()=>{u(!0)},t);return()=>clearTimeout(m)},[t]);const p={opacity:c?1:0,transform:(()=>{if(!c)switch(r){case"bottom":return"translateY(20px)";case"top":return"translateY(-20px)";case"left":return"translateX(-20px)";case"right":return"translateX(20px)";case"scale":return"scale(0.96)";default:return"translateY(20px)"}return"translateY(0px) translateX(0px) scale(1.0)"})(),transition:"all 0.3s cubic-bezier(0.2, 0.0, 0.0, 1.0)",...i};return o.jsx("div",{style:p,className:s,children:e})},pU=()=>{const{avatarId:e}=Pa(),t=Gt(),s=yt(),[r,i]=b.useState(null),[c,u]=b.useState(!0),[h,p]=b.useState(!1),[m,g]=b.useState(!1),[y,v]=b.useState(""),[j,A]=b.useState(""),[k,E]=b.useState({characterType:"",appearance:""}),[C,R]=b.useState({courage:7,intelligence:6,creativity:8,empathy:7,strength:5,humor:8,adventure:9,patience:4,curiosity:9,leadership:6});b.useEffect(()=>{if(!e){console.error("No avatarId provided");return}(async()=>{try{u(!0);const V=await s.avatar.get(e);i(V),v(V.name),A(V.description||""),E(V.physicalTraits||{characterType:"",appearance:""});const Y=V.personalityTraits,z={courage:0,intelligence:0,creativity:0,empathy:0,strength:0,humor:0,adventure:0,patience:0,curiosity:0,leadership:0};Y&&typeof Y=="object"&&Object.keys(Y).length>0&&Object.entries(Y).forEach(([X,Z])=>{typeof Z=="number"?z[X]=Z:typeof Z=="object"&&Z!==null&&"value"in Z&&(z[X]=Z.value)}),R(z)}catch(V){console.error("Error loading avatar:",V),alert("Avatar konnte nicht geladen werden."),t("/")}finally{u(!1)}})()},[e]);const N=(L,V)=>{E(Y=>({...Y,[L]:V}))},D=async()=>{if(!e||!y.trim()){alert("Bitte gib deinem Avatar einen Namen.");return}try{p(!0),await s.avatar.update(e,{name:y.trim(),description:j.trim()||void 0,physicalTraits:k,personalityTraits:C}),alert(`Avatar "${y}" wurde erfolgreich aktualisiert! `),t("/")}catch(L){console.error("Error updating avatar:",L),alert("Avatar konnte nicht aktualisiert werden. Bitte versuche es erneut.")}finally{p(!1)}},P=async()=>{if(!r||!e||!r.imageUrl){alert("Kein Bild vorhanden zum Analysieren.");return}try{g(!0),console.log(" Analyzing existing avatar image...");const V=(await s.ai.analyzeAvatarImage({imageUrl:r.imageUrl,hints:{name:y,personalityTraits:C}})).visualProfile;await s.avatar.update(e,{visualProfile:V}),i(Y=>Y?{...Y,visualProfile:V}:null),alert("Bild erfolgreich analysiert und visuelles Profil gespeichert! "),console.log(" Visual profile updated:",V)}catch(L){console.error("Error analyzing avatar image:",L),alert("Fehler beim Analysieren des Bildes. Bitte versuche es erneut.")}finally{g(!1)}},M=async()=>{if(!(!r||!e))try{g(!0);const L=await s.ai.generateAvatarImage({characterType:k.characterType,appearance:k.appearance,personalityTraits:C,style:"disney"});let V;try{V=(await s.ai.analyzeAvatarImage({imageUrl:L.imageUrl,hints:{name:y,personalityTraits:C}})).visualProfile}catch(Y){console.error("Error analyzing new avatar image:",Y)}await s.avatar.update(e,{imageUrl:L.imageUrl,visualProfile:V}),i(Y=>Y?{...Y,imageUrl:L.imageUrl,visualProfile:V}:null),alert("Avatar-Bild wurde erfolgreich neu generiert! ")}catch(L){console.error("Error regenerating avatar image:",L),alert("Fehler beim Generieren des neuen Avatar-Bildes. Bitte versuche es erneut.")}finally{g(!1)}},U={knowledge:{label:"Wissen",icon:"",color:S.primary[500]},creativity:{label:"Kreativitt",icon:"",color:S.peach[500]},vocabulary:{label:"Wortschatz",icon:"",color:S.lavender[500]},courage:{label:"Mut",icon:"",color:S.semantic.error},curiosity:{label:"Neugier",icon:"",color:S.peach[400]},teamwork:{label:"Teamgeist",icon:"",color:S.sky[500]},empathy:{label:"Empathie",icon:"",color:S.rose[500]},persistence:{label:"Ausdauer",icon:"",color:S.mint[500]},logic:{label:"Logik",icon:"",color:S.lilac[500]}},_={minHeight:"100vh",background:S.background.primary,paddingBottom:"120px"},I={background:S.glass.background,border:`1px solid ${S.glass.border}`,padding:`${w.lg}px`,boxShadow:S.glass.shadow,backdropFilter:"blur(14px) saturate(160%)",WebkitBackdropFilter:"blur(14px) saturate(160%)"},W={display:"flex",alignItems:"center",maxWidth:"880px",margin:"0 auto"},H={padding:`${w.sm}px`,borderRadius:`${fe.pill}px`,background:S.glass.backgroundAlt,border:`1px solid ${S.glass.border}`,color:S.text.primary,cursor:"pointer",marginRight:`${w.md}px`,transition:"all 0.2s ease"},se={...ee.textStyles.headingMd,color:S.text.primary,flex:1,textAlign:"center"},K={maxWidth:"880px",margin:"0 auto",padding:`${w.xl}px`},re={width:"100%",padding:`${w.lg}px`,border:`2px solid ${S.border.normal}`,borderRadius:`${fe.lg}px`,fontSize:ee.textStyles.body.fontSize,fontFamily:ee.fonts.primary,backgroundColor:S.background.card,color:S.text.primary,outline:"none",transition:"all 0.3s ease"};S.border.normal;const Q={textAlign:"center",padding:`${w.xl}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,borderRadius:`${fe.xl}px`,boxShadow:S.glass.shadow,backdropFilter:"blur(14px) saturate(160%)",WebkitBackdropFilter:"blur(14px) saturate(160%)"},B={width:"140px",height:"140px",borderRadius:`${fe.pill}px`,backgroundColor:S.background.card,display:"flex",alignItems:"center",justifyContent:"center",margin:`0 auto ${w.lg}px auto`,fontSize:"64px",overflow:"hidden",position:"relative",border:`4px solid ${S.glass.border}`,boxShadow:$e.lg};return c?o.jsx("div",{style:{..._,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid rgba(255,255,255,0.6)",borderTop:`4px solid ${S.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:`0 auto ${w.lg}px auto`}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Lade Avatar..."})]})}):r?o.jsxs("div",{style:_,children:[o.jsx("div",{style:I,children:o.jsxs("div",{style:W,children:[o.jsx("button",{style:H,onClick:()=>t("/"),children:o.jsx(yn,{size:20})}),o.jsx("div",{style:se,children:"Avatar bearbeiten"})]})}),o.jsxs("div",{style:K,children:[o.jsx(Se,{delay:100,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:`${w.xl}px`},children:[o.jsx("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.lg}px`},children:" Grundinformationen"}),o.jsxs("div",{style:{marginBottom:`${w.lg}px`},children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Name"}),o.jsx("input",{type:"text",value:y,onChange:L=>v(L.target.value),style:re})]}),o.jsxs("div",{style:{marginBottom:`${w.lg}px`},children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Beschreibung"}),o.jsx("textarea",{value:j,onChange:L=>A(L.target.value),rows:3,placeholder:"Eine kurze Beschreibung deines Avatars...",style:{...re,minHeight:"80px"}})]}),o.jsxs("div",{style:{marginBottom:`${w.lg}px`},children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Charakter-Typ"}),o.jsx("input",{type:"text",value:k.characterType,onChange:L=>N("characterType",L.target.value),placeholder:"z.B. Tier (Hund, Katze) oder Mensch",style:re})]}),o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Aussehen & Merkmale"}),o.jsx("textarea",{value:k.appearance,onChange:L=>N("appearance",L.target.value),rows:4,placeholder:"Beschreibe das Aussehen: Farbe, Gre, besondere Merkmale...",style:{...re,minHeight:"120px"}})]})]})}),o.jsx(Se,{delay:200,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:`${w.xl}px`},children:[o.jsx("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.sm}px`},children:" Persnlichkeitsentwicklung"}),o.jsx("p",{style:{fontSize:"14px",color:S.text.secondary,marginBottom:`${w.lg}px`,lineHeight:"1.5"},children:"Die Persnlichkeit deines Avatars entwickelt sich automatisch durch Erlebnisse in Geschichten und Dokus. Du kannst diese Werte nicht manuell ndern."}),o.jsx("div",{style:{backgroundColor:"#F3F4F6",borderRadius:`${fe.lg}px`,padding:`${w.md}px`,border:"2px dashed #D1D5DB"},children:Object.entries(C).map(([L,V],Y)=>{const z=U[L];return z?o.jsxs("div",{style:{marginBottom:Y<Object.keys(C).length-1?`${w.md}px`:0,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"20px",marginRight:`${w.sm}px`},children:z.icon}),o.jsx("span",{style:{fontSize:"14px",color:S.text.primary,fontWeight:"500"},children:z.label})]}),o.jsx("div",{style:{padding:`${w.xs}px ${w.md}px`,borderRadius:`${fe.md}px`,backgroundColor:z.color,color:S.text.inverse,fontWeight:"bold",fontSize:"14px",minWidth:"40px",textAlign:"center"},children:V})]},L):null})}),o.jsx("p",{style:{fontSize:"12px",color:S.text.secondary,marginTop:`${w.md}px`,fontStyle:"italic"},children:" Tipp: Lasse deinen Avatar Geschichten lesen, um seine Persnlichkeit weiterzuentwickeln!"})]})}),o.jsx(Se,{delay:300,children:o.jsx(Ee,{variant:"glass",style:{marginBottom:`${w.xl}px`},children:o.jsxs("div",{style:Q,children:[o.jsx("div",{style:B,children:r.imageUrl?o.jsx("img",{src:r.imageUrl,alt:"Avatar Preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("span",{children:""})}),o.jsx(Ve,{title:m?"Generiere...":" Neues Bild",onPress:M,disabled:m,icon:o.jsx(wt,{size:16}),variant:"secondary"})]})})}),o.jsx(Se,{delay:350,children:r.imageUrl&&!r.visualProfile&&o.jsxs("div",{style:{marginBottom:`${w.lg}px`,padding:`${w.md}px`,background:S.semantic.warning+"20",borderRadius:`${fe.md}px`,border:`1px solid ${S.semantic.warning}`},children:[o.jsx("p",{style:{...ee.textStyles.body,color:S.semantic.warning,marginBottom:`${w.sm}px`},children:" Kein visuelles Profil vorhanden! Bild analysieren, um konsistente Darstellung in Geschichten zu gewhrleisten."}),o.jsx(Ve,{title:" Bild analysieren",onPress:P,disabled:m,variant:"secondary"})]})}),o.jsx(Se,{delay:400,children:o.jsxs("div",{style:{display:"flex",gap:w.lg},children:[o.jsx(Ve,{title:"Abbrechen",onPress:()=>t("/"),variant:"outline",className:"flex-1"}),o.jsx(Ve,{title:" nderungen speichern",onPress:D,disabled:h,icon:o.jsx(wk,{size:16}),variant:"fun",className:"flex-1"})]})})]}),o.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]}):o.jsx("div",{style:_,children:o.jsx("div",{style:I,children:o.jsxs("div",{style:W,children:[o.jsx("button",{style:H,onClick:()=>t("/"),children:o.jsx(yn,{size:20})}),o.jsx("div",{style:se,children:"Avatar nicht gefunden"})]})})})},gU=({avatar:e,onUse:t,onDelete:s})=>{var H,se,K,re,Q;const r=Gt(),i=B=>{B.stopPropagation(),r(`/avatar/${e.id}`)},c=B=>{B.stopPropagation(),r(`/avatar/edit/${e.id}`)},u=B=>{B.stopPropagation(),t(e)},h=B=>{B.stopPropagation(),s&&confirm(`Mchtest du "${e.name}" wirklich lschen?`)&&s(e)},p={background:S.glass.background,backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:`2px solid ${S.border.light}`,borderRadius:`${fe.xl}px`,overflow:"hidden",boxShadow:$e.md,transition:`all ${_e.duration.normal} ${_e.easing.smooth}`,cursor:"pointer"},m={position:"relative",height:"200px",overflow:"hidden"},g={width:"100%",height:"100%",objectFit:"cover",transition:`transform ${_e.duration.slow} ${_e.easing.smooth}`},y={width:"100%",height:"100%",background:S.gradients.primary,display:"flex",alignItems:"center",justifyContent:"center"},v={position:"absolute",top:w.md,left:w.md,width:"12px",height:"12px",borderRadius:"50%",backgroundColor:e.status==="complete"?S.semantic.success:e.status==="generating"?S.semantic.warning:S.semantic.error,boxShadow:$e.glow.lavender},j={position:"absolute",top:w.md,right:w.md,background:S.glass.background,backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.xs}px ${w.md}px`,...ee.textStyles.caption,fontWeight:"600",color:S.text.primary,border:`1px solid ${S.border.light}`},A={position:"absolute",inset:0,background:"linear-gradient(180deg, rgba(169, 137, 242, 0) 0%, rgba(169, 137, 242, 0.3) 100%)",opacity:0,transition:`opacity ${_e.duration.normal} ${_e.easing.smooth}`,display:"flex",alignItems:"center",justifyContent:"center"},k={background:S.glass.background,backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.sm}px ${w.xl}px`,...ee.textStyles.label,color:S.text.primary,border:`2px solid ${S.border.light}`},E={padding:`${w.lg}px`},C={...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.xs,transition:`color ${_e.duration.fast} ${_e.easing.smooth}`},R={...ee.textStyles.bodySm,color:S.text.secondary,marginBottom:w.md},N={marginBottom:w.md},D={...ee.textStyles.caption,color:S.text.tertiary,marginBottom:w.xs},P={display:"flex",flexWrap:"wrap",gap:w.xs},M={padding:`${w.xxs}px ${w.sm}px`,background:S.lilac[50],color:S.lilac[700],borderRadius:`${fe.pill}px`,...ee.textStyles.caption,fontWeight:"600",border:`1px solid ${S.lilac[200]}`},U={display:"flex",gap:w.sm},_={flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:w.xs,padding:`${w.sm}px ${w.md}px`,background:S.gradients.primary,color:S.text.inverse,border:"none",borderRadius:`${fe.md}px`,...ee.textStyles.label,cursor:"pointer",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},I={display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.sm}px`,background:S.background.card,border:`2px solid ${S.border.light}`,borderRadius:`${fe.md}px`,cursor:"pointer",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},W={...I,background:S.semantic.error+"15",borderColor:S.semantic.error+"30"};return o.jsxs("div",{style:p,onMouseEnter:B=>{B.currentTarget.style.transform="translateY(-8px)",B.currentTarget.style.boxShadow=$e.xl;const L=B.currentTarget.querySelector("img");L&&(L.style.transform="scale(1.08)");const V=B.currentTarget.querySelector("[data-overlay]");V&&(V.style.opacity="1");const Y=B.currentTarget.querySelector("[data-title]");Y&&(Y.style.color=S.sage[600])},onMouseLeave:B=>{B.currentTarget.style.transform="translateY(0)",B.currentTarget.style.boxShadow=$e.md;const L=B.currentTarget.querySelector("img");L&&(L.style.transform="scale(1)");const V=B.currentTarget.querySelector("[data-overlay]");V&&(V.style.opacity="0");const Y=B.currentTarget.querySelector("[data-title]");Y&&(Y.style.color=S.text.primary)},children:[o.jsxs("div",{style:m,onClick:i,children:[e.imageUrl?o.jsx("img",{src:e.imageUrl,alt:e.name,style:g}):o.jsx("div",{style:y,children:o.jsx(gs,{size:64,style:{color:S.text.inverse,opacity:.8}})}),o.jsx("div",{style:v}),(se=(H=e.personality)==null?void 0:H.traits)!=null&&se.length||(K=e.memories)!=null&&K.length?o.jsxs("div",{style:j,children:[o.jsx(wt,{size:12,style:{display:"inline",marginRight:"4px"}}),((re=e.memories)==null?void 0:re.length)||0," Erinnerungen"]}):null,o.jsx("div",{style:A,"data-overlay":!0,children:o.jsx("div",{style:k,children:"Details anzeigen"})})]}),o.jsxs("div",{style:E,children:[o.jsx("h3",{onClick:i,style:C,"data-title":!0,children:e.name}),o.jsx("p",{style:R,children:e.description||"Keine Beschreibung"}),((Q=e.personality)==null?void 0:Q.traits)&&e.personality.traits.length>0&&o.jsxs("div",{style:N,children:[o.jsx("div",{style:D,children:"Persnlichkeit:"}),o.jsxs("div",{style:P,children:[e.personality.traits.slice(0,3).map(B=>o.jsxs("span",{style:M,children:[B.trait,": ",B.value,"%"]},B.trait)),e.personality.traits.length>3&&o.jsxs("span",{style:M,children:["+",e.personality.traits.length-3]})]})]}),o.jsxs("div",{style:U,children:[o.jsxs("button",{onClick:u,style:_,onMouseEnter:B=>{B.currentTarget.style.transform="scale(1.05)",B.currentTarget.style.boxShadow=$e.colored.lavender},onMouseLeave:B=>{B.currentTarget.style.transform="scale(1)",B.currentTarget.style.boxShadow="none"},children:[o.jsx(lP,{size:16}),"Verwenden"]}),o.jsx("button",{onClick:c,style:I,onMouseEnter:B=>{B.currentTarget.style.transform="scale(1.1)",B.currentTarget.style.borderColor=S.sage[300]},onMouseLeave:B=>{B.currentTarget.style.transform="scale(1)",B.currentTarget.style.borderColor=S.border.light},children:o.jsx(Xg,{size:18,style:{color:S.sage[600]}})}),s&&o.jsx("button",{onClick:h,style:W,onMouseEnter:B=>{B.currentTarget.style.transform="scale(1.1)",B.currentTarget.style.background=S.semantic.error+"30"},onMouseLeave:B=>{B.currentTarget.style.transform="scale(1)",B.currentTarget.style.background=S.semantic.error+"15"},children:o.jsx(ds,{size:18,style:{color:S.semantic.error}})})]})]})]})};function Qs(e,t,{checkForDefaultPrevented:s=!0}={}){return function(i){if(e==null||e(i),s===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function cS(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $d(...e){return t=>{let s=!1;const r=e.map(i=>{const c=cS(i,t);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let i=0;i<r.length;i++){const c=r[i];typeof c=="function"?c():cS(e[i],null)}}}}function La(...e){return b.useCallback($d(...e),e)}function yU(e,t){const s=b.createContext(t),r=c=>{const{children:u,...h}=c,p=b.useMemo(()=>h,Object.values(h));return o.jsx(s.Provider,{value:p,children:u})};r.displayName=e+"Provider";function i(c){const u=b.useContext(s);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[r,i]}function xU(e,t=[]){let s=[];function r(c,u){const h=b.createContext(u),p=s.length;s=[...s,u];const m=y=>{var C;const{scope:v,children:j,...A}=y,k=((C=v==null?void 0:v[e])==null?void 0:C[p])||h,E=b.useMemo(()=>A,Object.values(A));return o.jsx(k.Provider,{value:E,children:j})};m.displayName=c+"Provider";function g(y,v){var k;const j=((k=v==null?void 0:v[e])==null?void 0:k[p])||h,A=b.useContext(j);if(A)return A;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[m,g]}const i=()=>{const c=s.map(u=>b.createContext(u));return function(h){const p=(h==null?void 0:h[e])||c;return b.useMemo(()=>({[`__scope${e}`]:{...h,[e]:p}}),[h,p])}};return i.scopeName=e,[r,vU(i,...t)]}function vU(...e){const t=e[0];if(e.length===1)return t;const s=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const u=r.reduce((h,{useScope:p,scopeName:m})=>{const y=p(c)[`__scope${m}`];return{...h,...y}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return s.scopeName=t.scopeName,s}var Ml=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},bU=Pg[" useId ".trim().toString()]||(()=>{}),wU=0;function Zm(e){const[t,s]=b.useState(bU());return Ml(()=>{s(r=>r??String(wU++))},[e]),e||(t?`radix-${t}`:"")}var SU=Pg[" useInsertionEffect ".trim().toString()]||Ml;function jU({prop:e,defaultProp:t,onChange:s=()=>{},caller:r}){const[i,c,u]=kU({defaultProp:t,onChange:s}),h=e!==void 0,p=h?e:i;{const g=b.useRef(e!==void 0);b.useEffect(()=>{const y=g.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=h},[h,r])}const m=b.useCallback(g=>{var y;if(h){const v=TU(g)?g(e):g;v!==e&&((y=u.current)==null||y.call(u,v))}else c(g)},[h,e,c,u]);return[p,m]}function kU({defaultProp:e,onChange:t}){const[s,r]=b.useState(e),i=b.useRef(s),c=b.useRef(t);return SU(()=>{c.current=t},[t]),b.useEffect(()=>{var u;i.current!==s&&((u=c.current)==null||u.call(c,s),i.current=s)},[s,i]),[s,r,c]}function TU(e){return typeof e=="function"}function CU(e){const t=EU(e),s=b.forwardRef((r,i)=>{const{children:c,...u}=r,h=b.Children.toArray(c),p=h.find(NU);if(p){const m=p.props.children,g=h.map(y=>y===p?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return o.jsx(t,{...u,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,g):null})}return o.jsx(t,{...u,ref:i,children:c})});return s.displayName=`${e}.Slot`,s}function EU(e){const t=b.forwardRef((s,r)=>{const{children:i,...c}=s;if(b.isValidElement(i)){const u=MU(i),h=RU(c,i.props);return i.type!==b.Fragment&&(h.ref=r?$d(r,u):u),b.cloneElement(i,h)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AU=Symbol("radix.slottable");function NU(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AU}function RU(e,t){const s={...t};for(const r in t){const i=e[r],c=t[r];/^on[A-Z]/.test(r)?i&&c?s[r]=(...h)=>{const p=c(...h);return i(...h),p}:i&&(s[r]=i):r==="style"?s[r]={...i,...c}:r==="className"&&(s[r]=[i,c].filter(Boolean).join(" "))}return{...e,...s}}function MU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var _U=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xs=_U.reduce((e,t)=>{const s=CU(`Primitive.${t}`),r=b.forwardRef((i,c)=>{const{asChild:u,...h}=i,p=u?s:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(p,{...h,ref:c})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function OU(e,t){e&&Ig.flushSync(()=>e.dispatchEvent(t))}function _l(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...s)=>{var r;return(r=t.current)==null?void 0:r.call(t,...s)},[])}function DU(e,t=globalThis==null?void 0:globalThis.document){const s=_l(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&s(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[s,t])}var PU="DismissableLayer",yg="dismissableLayer.update",zU="dismissableLayer.pointerDownOutside",LU="dismissableLayer.focusOutside",uS,f2=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),m2=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:s=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...p}=e,m=b.useContext(f2),[g,y]=b.useState(null),v=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=b.useState({}),A=La(t,U=>y(U)),k=Array.from(m.layers),[E]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),C=k.indexOf(E),R=g?k.indexOf(g):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,D=R>=C,P=BU(U=>{const _=U.target,I=[...m.branches].some(W=>W.contains(_));!D||I||(i==null||i(U),u==null||u(U),U.defaultPrevented||h==null||h())},v),M=IU(U=>{const _=U.target;[...m.branches].some(W=>W.contains(_))||(c==null||c(U),u==null||u(U),U.defaultPrevented||h==null||h())},v);return DU(U=>{R===m.layers.size-1&&(r==null||r(U),!U.defaultPrevented&&h&&(U.preventDefault(),h()))},v),b.useEffect(()=>{if(g)return s&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(uS=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),dS(),()=>{s&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=uS)}},[g,v,s,m]),b.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),dS())},[g,m]),b.useEffect(()=>{const U=()=>j({});return document.addEventListener(yg,U),()=>document.removeEventListener(yg,U)},[]),o.jsx(xs.div,{...p,ref:A,style:{pointerEvents:N?D?"auto":"none":void 0,...e.style},onFocusCapture:Qs(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Qs(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Qs(e.onPointerDownCapture,P.onPointerDownCapture)})});m2.displayName=PU;var UU="DismissableLayerBranch",$U=b.forwardRef((e,t)=>{const s=b.useContext(f2),r=b.useRef(null),i=La(t,r);return b.useEffect(()=>{const c=r.current;if(c)return s.branches.add(c),()=>{s.branches.delete(c)}},[s.branches]),o.jsx(xs.div,{...e,ref:i})});$U.displayName=UU;function BU(e,t=globalThis==null?void 0:globalThis.document){const s=_l(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let p=function(){p2(zU,s,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=p,t.addEventListener("click",i.current,{once:!0})):p()}else t.removeEventListener("click",i.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",i.current)}},[t,s]),{onPointerDownCapture:()=>r.current=!0}}function IU(e,t=globalThis==null?void 0:globalThis.document){const s=_l(e),r=b.useRef(!1);return b.useEffect(()=>{const i=c=>{c.target&&!r.current&&p2(LU,s,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,s]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function dS(){const e=new CustomEvent(yg);document.dispatchEvent(e)}function p2(e,t,s,{discrete:r}){const i=s.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:s});t&&i.addEventListener(e,t,{once:!0}),r?OU(i,c):i.dispatchEvent(c)}var Qm="focusScope.autoFocusOnMount",ep="focusScope.autoFocusOnUnmount",hS={bubbles:!1,cancelable:!0},FU="FocusScope",g2=b.forwardRef((e,t)=>{const{loop:s=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:c,...u}=e,[h,p]=b.useState(null),m=_l(i),g=_l(c),y=b.useRef(null),v=La(t,k=>p(k)),j=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let k=function(N){if(j.paused||!h)return;const D=N.target;h.contains(D)?y.current=D:Ks(y.current,{select:!0})},E=function(N){if(j.paused||!h)return;const D=N.relatedTarget;D!==null&&(h.contains(D)||Ks(y.current,{select:!0}))},C=function(N){if(document.activeElement===document.body)for(const P of N)P.removedNodes.length>0&&Ks(h)};document.addEventListener("focusin",k),document.addEventListener("focusout",E);const R=new MutationObserver(C);return h&&R.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",k),document.removeEventListener("focusout",E),R.disconnect()}}},[r,h,j.paused]),b.useEffect(()=>{if(h){mS.add(j);const k=document.activeElement;if(!h.contains(k)){const C=new CustomEvent(Qm,hS);h.addEventListener(Qm,m),h.dispatchEvent(C),C.defaultPrevented||(VU(KU(y2(h)),{select:!0}),document.activeElement===k&&Ks(h))}return()=>{h.removeEventListener(Qm,m),setTimeout(()=>{const C=new CustomEvent(ep,hS);h.addEventListener(ep,g),h.dispatchEvent(C),C.defaultPrevented||Ks(k??document.body,{select:!0}),h.removeEventListener(ep,g),mS.remove(j)},0)}}},[h,m,g,j]);const A=b.useCallback(k=>{if(!s&&!r||j.paused)return;const E=k.key==="Tab"&&!k.altKey&&!k.ctrlKey&&!k.metaKey,C=document.activeElement;if(E&&C){const R=k.currentTarget,[N,D]=HU(R);N&&D?!k.shiftKey&&C===D?(k.preventDefault(),s&&Ks(N,{select:!0})):k.shiftKey&&C===N&&(k.preventDefault(),s&&Ks(D,{select:!0})):C===R&&k.preventDefault()}},[s,r,j.paused]);return o.jsx(xs.div,{tabIndex:-1,...u,ref:v,onKeyDown:A})});g2.displayName=FU;function VU(e,{select:t=!1}={}){const s=document.activeElement;for(const r of e)if(Ks(r,{select:t}),document.activeElement!==s)return}function HU(e){const t=y2(e),s=fS(t,e),r=fS(t.reverse(),e);return[s,r]}function y2(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function fS(e,t){for(const s of e)if(!GU(s,{upTo:t}))return s}function GU(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function WU(e){return e instanceof HTMLInputElement&&"select"in e}function Ks(e,{select:t=!1}={}){if(e&&e.focus){const s=document.activeElement;e.focus({preventScroll:!0}),e!==s&&WU(e)&&t&&e.select()}}var mS=qU();function qU(){let e=[];return{add(t){const s=e[0];t!==s&&(s==null||s.pause()),e=pS(e,t),e.unshift(t)},remove(t){var s;e=pS(e,t),(s=e[0])==null||s.resume()}}}function pS(e,t){const s=[...e],r=s.indexOf(t);return r!==-1&&s.splice(r,1),s}function KU(e){return e.filter(t=>t.tagName!=="A")}var YU="Portal",x2=b.forwardRef((e,t)=>{var h;const{container:s,...r}=e,[i,c]=b.useState(!1);Ml(()=>c(!0),[]);const u=s||i&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?oj.createPortal(o.jsx(xs.div,{...r,ref:t}),u):null});x2.displayName=YU;function JU(e,t){return b.useReducer((s,r)=>t[s][r]??s,e)}var Bd=e=>{const{present:t,children:s}=e,r=XU(t),i=typeof s=="function"?s({present:r.isPresent}):b.Children.only(s),c=La(r.ref,ZU(i));return typeof s=="function"||r.isPresent?b.cloneElement(i,{ref:c}):null};Bd.displayName="Presence";function XU(e){const[t,s]=b.useState(),r=b.useRef(null),i=b.useRef(e),c=b.useRef("none"),u=e?"mounted":"unmounted",[h,p]=JU(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const m=Su(r.current);c.current=h==="mounted"?m:"none"},[h]),Ml(()=>{const m=r.current,g=i.current;if(g!==e){const v=c.current,j=Su(m);e?p("MOUNT"):j==="none"||(m==null?void 0:m.display)==="none"?p("UNMOUNT"):p(g&&v!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,p]),Ml(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,y=j=>{const k=Su(r.current).includes(CSS.escape(j.animationName));if(j.target===t&&k&&(p("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},v=j=>{j.target===t&&(c.current=Su(r.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:b.useCallback(m=>{r.current=m?getComputedStyle(m):null,s(m)},[])}}function Su(e){return(e==null?void 0:e.animationName)||"none"}function ZU(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var tp=0;function QU(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gS()),document.body.insertAdjacentElement("beforeend",e[1]??gS()),tp++,()=>{tp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),tp--}},[])}function gS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Er=function(){return Er=Object.assign||function(t){for(var s,r=1,i=arguments.length;r<i;r++){s=arguments[r];for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(t[c]=s[c])}return t},Er.apply(this,arguments)};function v2(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(s[r[i]]=e[r[i]]);return s}function e$(e,t,s){if(s||arguments.length===2)for(var r=0,i=t.length,c;r<i;r++)(c||!(r in t))&&(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return e.concat(c||Array.prototype.slice.call(t))}var Wu="right-scroll-bar-position",qu="width-before-scroll-bar",t$="with-scroll-bars-hidden",n$="--removed-body-scroll-bar-size";function np(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function r$(e,t){var s=b.useState(function(){return{value:e,callback:t,facade:{get current(){return s.value},set current(r){var i=s.value;i!==r&&(s.value=r,s.callback(r,i))}}}})[0];return s.callback=t,s.facade}var s$=typeof window<"u"?b.useLayoutEffect:b.useEffect,yS=new WeakMap;function a$(e,t){var s=r$(null,function(r){return e.forEach(function(i){return np(i,r)})});return s$(function(){var r=yS.get(s);if(r){var i=new Set(r),c=new Set(e),u=s.current;i.forEach(function(h){c.has(h)||np(h,null)}),c.forEach(function(h){i.has(h)||np(h,u)})}yS.set(s,e)},[e]),s}function i$(e){return e}function o$(e,t){t===void 0&&(t=i$);var s=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return s.length?s[s.length-1]:e},useMedium:function(c){var u=t(c,r);return s.push(u),function(){s=s.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(r=!0;s.length;){var u=s;s=[],u.forEach(c)}s={push:function(h){return c(h)},filter:function(){return s}}},assignMedium:function(c){r=!0;var u=[];if(s.length){var h=s;s=[],h.forEach(c),u=s}var p=function(){var g=u;u=[],g.forEach(c)},m=function(){return Promise.resolve().then(p)};m(),s={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),s}}}};return i}function l$(e){e===void 0&&(e={});var t=o$(null);return t.options=Er({async:!0,ssr:!1},e),t}var b2=function(e){var t=e.sideCar,s=v2(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Er({},s))};b2.isSideCarExport=!0;function c$(e,t){return e.useMedium(t),b2}var w2=l$(),rp=function(){},Id=b.forwardRef(function(e,t){var s=b.useRef(null),r=b.useState({onScrollCapture:rp,onWheelCapture:rp,onTouchMoveCapture:rp}),i=r[0],c=r[1],u=e.forwardProps,h=e.children,p=e.className,m=e.removeScrollBar,g=e.enabled,y=e.shards,v=e.sideCar,j=e.noRelative,A=e.noIsolation,k=e.inert,E=e.allowPinchZoom,C=e.as,R=C===void 0?"div":C,N=e.gapMode,D=v2(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=v,M=a$([s,t]),U=Er(Er({},D),i);return b.createElement(b.Fragment,null,g&&b.createElement(P,{sideCar:w2,removeScrollBar:m,shards:y,noRelative:j,noIsolation:A,inert:k,setCallbacks:c,allowPinchZoom:!!E,lockRef:s,gapMode:N}),u?b.cloneElement(b.Children.only(h),Er(Er({},U),{ref:M})):b.createElement(R,Er({},U,{className:p,ref:M}),h))});Id.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Id.classNames={fullWidth:qu,zeroRight:Wu};var u$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function d$(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=u$();return t&&e.setAttribute("nonce",t),e}function h$(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f$(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var m$=function(){var e=0,t=null;return{add:function(s){e==0&&(t=d$())&&(h$(t,s),f$(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},p$=function(){var e=m$();return function(t,s){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&s])}},S2=function(){var e=p$(),t=function(s){var r=s.styles,i=s.dynamic;return e(r,i),null};return t},g$={left:0,top:0,right:0,gap:0},sp=function(e){return parseInt(e||"",10)||0},y$=function(e){var t=window.getComputedStyle(document.body),s=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[sp(s),sp(r),sp(i)]},x$=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return g$;var t=y$(e),s=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-s+t[2]-t[0])}},v$=S2(),$i="data-scroll-locked",b$=function(e,t,s,r){var i=e.left,c=e.top,u=e.right,h=e.gap;return s===void 0&&(s="margin"),`
  .`.concat(t$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat($i,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),s==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),s==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wu,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(qu,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Wu," .").concat(Wu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(qu," .").concat(qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat($i,`] {
    `).concat(n$,": ").concat(h,`px;
  }
`)},xS=function(){var e=parseInt(document.body.getAttribute($i)||"0",10);return isFinite(e)?e:0},w$=function(){b.useEffect(function(){return document.body.setAttribute($i,(xS()+1).toString()),function(){var e=xS()-1;e<=0?document.body.removeAttribute($i):document.body.setAttribute($i,e.toString())}},[])},S$=function(e){var t=e.noRelative,s=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;w$();var c=b.useMemo(function(){return x$(i)},[i]);return b.createElement(v$,{styles:b$(c,!t,i,s?"":"!important")})},xg=!1;if(typeof window<"u")try{var ju=Object.defineProperty({},"passive",{get:function(){return xg=!0,!0}});window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{xg=!1}var ki=xg?{passive:!1}:!1,j$=function(e){return e.tagName==="TEXTAREA"},j2=function(e,t){if(!(e instanceof Element))return!1;var s=window.getComputedStyle(e);return s[t]!=="hidden"&&!(s.overflowY===s.overflowX&&!j$(e)&&s[t]==="visible")},k$=function(e){return j2(e,"overflowY")},T$=function(e){return j2(e,"overflowX")},vS=function(e,t){var s=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=k2(e,r);if(i){var c=T2(e,r),u=c[1],h=c[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==s.body);return!1},C$=function(e){var t=e.scrollTop,s=e.scrollHeight,r=e.clientHeight;return[t,s,r]},E$=function(e){var t=e.scrollLeft,s=e.scrollWidth,r=e.clientWidth;return[t,s,r]},k2=function(e,t){return e==="v"?k$(t):T$(t)},T2=function(e,t){return e==="v"?C$(t):E$(t)},A$=function(e,t){return e==="h"&&t==="rtl"?-1:1},N$=function(e,t,s,r,i){var c=A$(e,window.getComputedStyle(t).direction),u=c*r,h=s.target,p=t.contains(h),m=!1,g=u>0,y=0,v=0;do{if(!h)break;var j=T2(e,h),A=j[0],k=j[1],E=j[2],C=k-E-c*A;(A||C)&&k2(e,h)&&(y+=C,v+=A);var R=h.parentNode;h=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!p&&h!==document.body||p&&(t.contains(h)||t===h));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(m=!0),m},ku=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bS=function(e){return[e.deltaX,e.deltaY]},wS=function(e){return e&&"current"in e?e.current:e},R$=function(e,t){return e[0]===t[0]&&e[1]===t[1]},M$=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},_$=0,Ti=[];function O$(e){var t=b.useRef([]),s=b.useRef([0,0]),r=b.useRef(),i=b.useState(_$++)[0],c=b.useState(S2)[0],u=b.useRef(e);b.useEffect(function(){u.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var k=e$([e.lockRef.current],(e.shards||[]).map(wS),!0).filter(Boolean);return k.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),k.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var h=b.useCallback(function(k,E){if("touches"in k&&k.touches.length===2||k.type==="wheel"&&k.ctrlKey)return!u.current.allowPinchZoom;var C=ku(k),R=s.current,N="deltaX"in k?k.deltaX:R[0]-C[0],D="deltaY"in k?k.deltaY:R[1]-C[1],P,M=k.target,U=Math.abs(N)>Math.abs(D)?"h":"v";if("touches"in k&&U==="h"&&M.type==="range")return!1;var _=vS(U,M);if(!_)return!0;if(_?P=U:(P=U==="v"?"h":"v",_=vS(U,M)),!_)return!1;if(!r.current&&"changedTouches"in k&&(N||D)&&(r.current=P),!P)return!0;var I=r.current||P;return N$(I,E,k,I==="h"?N:D)},[]),p=b.useCallback(function(k){var E=k;if(!(!Ti.length||Ti[Ti.length-1]!==c)){var C="deltaY"in E?bS(E):ku(E),R=t.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&R$(P.delta,C)})[0];if(R&&R.should){E.cancelable&&E.preventDefault();return}if(!R){var N=(u.current.shards||[]).map(wS).filter(Boolean).filter(function(P){return P.contains(E.target)}),D=N.length>0?h(E,N[0]):!u.current.noIsolation;D&&E.cancelable&&E.preventDefault()}}},[]),m=b.useCallback(function(k,E,C,R){var N={name:k,delta:E,target:C,should:R,shadowParent:D$(C)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(D){return D!==N})},1)},[]),g=b.useCallback(function(k){s.current=ku(k),r.current=void 0},[]),y=b.useCallback(function(k){m(k.type,bS(k),k.target,h(k,e.lockRef.current))},[]),v=b.useCallback(function(k){m(k.type,ku(k),k.target,h(k,e.lockRef.current))},[]);b.useEffect(function(){return Ti.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",p,ki),document.addEventListener("touchmove",p,ki),document.addEventListener("touchstart",g,ki),function(){Ti=Ti.filter(function(k){return k!==c}),document.removeEventListener("wheel",p,ki),document.removeEventListener("touchmove",p,ki),document.removeEventListener("touchstart",g,ki)}},[]);var j=e.removeScrollBar,A=e.inert;return b.createElement(b.Fragment,null,A?b.createElement(c,{styles:M$(i)}):null,j?b.createElement(S$,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function D$(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const P$=c$(w2,O$);var C2=b.forwardRef(function(e,t){return b.createElement(Id,Er({},e,{ref:t,sideCar:P$}))});C2.classNames=Id.classNames;var z$=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ci=new WeakMap,Tu=new WeakMap,Cu={},ap=0,E2=function(e){return e&&(e.host||E2(e.parentNode))},L$=function(e,t){return t.map(function(s){if(e.contains(s))return s;var r=E2(s);return r&&e.contains(r)?r:(console.error("aria-hidden",s,"in not contained inside",e,". Doing nothing"),null)}).filter(function(s){return!!s})},U$=function(e,t,s,r){var i=L$(t,Array.isArray(e)?e:[e]);Cu[s]||(Cu[s]=new WeakMap);var c=Cu[s],u=[],h=new Set,p=new Set(i),m=function(y){!y||h.has(y)||(h.add(y),m(y.parentNode))};i.forEach(m);var g=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(v){if(h.has(v))g(v);else try{var j=v.getAttribute(r),A=j!==null&&j!=="false",k=(Ci.get(v)||0)+1,E=(c.get(v)||0)+1;Ci.set(v,k),c.set(v,E),u.push(v),k===1&&A&&Tu.set(v,!0),E===1&&v.setAttribute(s,"true"),A||v.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",v,C)}})};return g(t),h.clear(),ap++,function(){u.forEach(function(y){var v=Ci.get(y)-1,j=c.get(y)-1;Ci.set(y,v),c.set(y,j),v||(Tu.has(y)||y.removeAttribute(r),Tu.delete(y)),j||y.removeAttribute(s)}),ap--,ap||(Ci=new WeakMap,Ci=new WeakMap,Tu=new WeakMap,Cu={})}},$$=function(e,t,s){s===void 0&&(s="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=z$(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),U$(r,i,s,"aria-hidden")):function(){return null}};function B$(e){const t=I$(e),s=b.forwardRef((r,i)=>{const{children:c,...u}=r,h=b.Children.toArray(c),p=h.find(V$);if(p){const m=p.props.children,g=h.map(y=>y===p?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return o.jsx(t,{...u,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,g):null})}return o.jsx(t,{...u,ref:i,children:c})});return s.displayName=`${e}.Slot`,s}function I$(e){const t=b.forwardRef((s,r)=>{const{children:i,...c}=s;if(b.isValidElement(i)){const u=G$(i),h=H$(c,i.props);return i.type!==b.Fragment&&(h.ref=r?$d(r,u):u),b.cloneElement(i,h)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F$=Symbol("radix.slottable");function V$(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F$}function H$(e,t){const s={...t};for(const r in t){const i=e[r],c=t[r];/^on[A-Z]/.test(r)?i&&c?s[r]=(...h)=>{const p=c(...h);return i(...h),p}:i&&(s[r]=i):r==="style"?s[r]={...i,...c}:r==="className"&&(s[r]=[i,c].filter(Boolean).join(" "))}return{...e,...s}}function G$(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Fd="Dialog",[A2,V7]=xU(Fd),[W$,br]=A2(Fd),N2=e=>{const{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:c,modal:u=!0}=e,h=b.useRef(null),p=b.useRef(null),[m,g]=jU({prop:r,defaultProp:i??!1,onChange:c,caller:Fd});return o.jsx(W$,{scope:t,triggerRef:h,contentRef:p,contentId:Zm(),titleId:Zm(),descriptionId:Zm(),open:m,onOpenChange:g,onOpenToggle:b.useCallback(()=>g(y=>!y),[g]),modal:u,children:s})};N2.displayName=Fd;var R2="DialogTrigger",M2=b.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=br(R2,s),c=La(t,i.triggerRef);return o.jsx(xs.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$y(i.open),...r,ref:c,onClick:Qs(e.onClick,i.onOpenToggle)})});M2.displayName=R2;var Ly="DialogPortal",[q$,_2]=A2(Ly,{forceMount:void 0}),O2=e=>{const{__scopeDialog:t,forceMount:s,children:r,container:i}=e,c=br(Ly,t);return o.jsx(q$,{scope:t,forceMount:s,children:b.Children.map(r,u=>o.jsx(Bd,{present:s||c.open,children:o.jsx(x2,{asChild:!0,container:i,children:u})}))})};O2.displayName=Ly;var hd="DialogOverlay",D2=b.forwardRef((e,t)=>{const s=_2(hd,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,c=br(hd,e.__scopeDialog);return c.modal?o.jsx(Bd,{present:r||c.open,children:o.jsx(Y$,{...i,ref:t})}):null});D2.displayName=hd;var K$=B$("DialogOverlay.RemoveScroll"),Y$=b.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=br(hd,s);return o.jsx(C2,{as:K$,allowPinchZoom:!0,shards:[i.contentRef],children:o.jsx(xs.div,{"data-state":$y(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Da="DialogContent",P2=b.forwardRef((e,t)=>{const s=_2(Da,e.__scopeDialog),{forceMount:r=s.forceMount,...i}=e,c=br(Da,e.__scopeDialog);return o.jsx(Bd,{present:r||c.open,children:c.modal?o.jsx(J$,{...i,ref:t}):o.jsx(X$,{...i,ref:t})})});P2.displayName=Da;var J$=b.forwardRef((e,t)=>{const s=br(Da,e.__scopeDialog),r=b.useRef(null),i=La(t,s.contentRef,r);return b.useEffect(()=>{const c=r.current;if(c)return $$(c)},[]),o.jsx(z2,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qs(e.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=s.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Qs(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:Qs(e.onFocusOutside,c=>c.preventDefault())})}),X$=b.forwardRef((e,t)=>{const s=br(Da,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return o.jsx(z2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,h;(u=e.onCloseAutoFocus)==null||u.call(e,c),c.defaultPrevented||(r.current||(h=s.triggerRef.current)==null||h.focus(),c.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:c=>{var p,m;(p=e.onInteractOutside)==null||p.call(e,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const u=c.target;((m=s.triggerRef.current)==null?void 0:m.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&i.current&&c.preventDefault()}})}),z2=b.forwardRef((e,t)=>{const{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:c,...u}=e,h=br(Da,s),p=b.useRef(null),m=La(t,p);return QU(),o.jsxs(o.Fragment,{children:[o.jsx(g2,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:c,children:o.jsx(m2,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":$y(h.open),...u,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Q$,{titleId:h.titleId}),o.jsx(tB,{contentRef:p,descriptionId:h.descriptionId})]})]})}),Uy="DialogTitle",L2=b.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=br(Uy,s);return o.jsx(xs.h2,{id:i.titleId,...r,ref:t})});L2.displayName=Uy;var U2="DialogDescription",$2=b.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=br(U2,s);return o.jsx(xs.p,{id:i.descriptionId,...r,ref:t})});$2.displayName=U2;var B2="DialogClose",Z$=b.forwardRef((e,t)=>{const{__scopeDialog:s,...r}=e,i=br(B2,s);return o.jsx(xs.button,{type:"button",...r,ref:t,onClick:Qs(e.onClick,()=>i.onOpenChange(!1))})});Z$.displayName=B2;function $y(e){return e?"open":"closed"}var I2="DialogTitleWarning",[H7,F2]=yU(I2,{contentName:Da,titleName:Uy,docsSlug:"dialog"}),Q$=({titleId:e})=>{const t=F2(I2),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},eB="DialogDescriptionWarning",tB=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${F2(eB).contentName}}.`;return b.useEffect(()=>{var c;const i=(c=e.current)==null?void 0:c.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},nB=N2,rB=M2,sB=O2,aB=D2,iB=P2,oB=L2,lB=$2;function cB(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const V2=$.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ql=()=>{const e=$.useContext(V2);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};cB(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function uB(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function dB(){return By(/^Mac/)}function hB(){return By(/^iPhone/)}function SS(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function fB(){return By(/^iPad/)||dB()&&navigator.maxTouchPoints>1}function H2(){return hB()||fB()}function By(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const mB=24,pB=typeof window<"u"?b.useLayoutEffect:b.useEffect;function jS(...e){return(...t)=>{for(let s of e)typeof s=="function"&&s(...t)}}const ip=typeof document<"u"&&window.visualViewport;function kS(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function G2(e){for(kS(e)&&(e=e.parentElement);e&&!kS(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const gB=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Eu=0,op;function yB(e={}){let{isDisabled:t}=e;pB(()=>{if(!t)return Eu++,Eu===1&&H2()&&(op=xB()),()=>{Eu--,Eu===0&&(op==null||op())}},[t])}function xB(){let e,t=0,s=y=>{e=G2(y.target),!(e===document.documentElement&&e===document.body)&&(t=y.changedTouches[0].pageY)},r=y=>{if(!e||e===document.documentElement||e===document.body){y.preventDefault();return}let v=y.changedTouches[0].pageY,j=e.scrollTop,A=e.scrollHeight-e.clientHeight;A!==0&&((j<=0&&v>t||j>=A&&v<t)&&y.preventDefault(),t=v)},i=y=>{let v=y.target;vg(v)&&v!==document.activeElement&&(y.preventDefault(),v.style.transform="translateY(-2000px)",v.focus(),requestAnimationFrame(()=>{v.style.transform=""}))},c=y=>{let v=y.target;vg(v)&&(v.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{v.style.transform="",ip&&(ip.height<window.innerHeight?requestAnimationFrame(()=>{TS(v)}):ip.addEventListener("resize",()=>TS(v),{once:!0}))}))},u=()=>{window.scrollTo(0,0)},h=window.pageXOffset,p=window.pageYOffset,m=jS(vB(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=jS(rl(document,"touchstart",s,{passive:!1,capture:!0}),rl(document,"touchmove",r,{passive:!1,capture:!0}),rl(document,"touchend",i,{passive:!1,capture:!0}),rl(document,"focus",c,!0),rl(window,"scroll",u));return()=>{m(),g(),window.scrollTo(h,p)}}function vB(e,t,s){let r=e.style[t];return e.style[t]=s,()=>{e.style[t]=r}}function rl(e,t,s,r){return e.addEventListener(t,s,r),()=>{e.removeEventListener(t,s,r)}}function TS(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=G2(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let r=s.getBoundingClientRect().top,i=e.getBoundingClientRect().top,c=e.getBoundingClientRect().bottom;const u=s.getBoundingClientRect().bottom+mB;c>u&&(s.scrollTop+=i-r)}e=s.parentElement}}function vg(e){return e instanceof HTMLInputElement&&!gB.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function bB(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function wB(...e){return t=>e.forEach(s=>bB(s,t))}function W2(...e){return b.useCallback(wB(...e),e)}const q2=new WeakMap;function Zt(e,t,s=!1){if(!e||!(e instanceof HTMLElement))return;let r={};Object.entries(t).forEach(([i,c])=>{if(i.startsWith("--")){e.style.setProperty(i,c);return}r[i]=e.style[i],e.style[i]=c}),!s&&q2.set(e,r)}function SB(e,t){if(!e||!(e instanceof HTMLElement))return;let s=q2.get(e);s&&(e.style[t]=s[t])}const Vt=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Au(e,t){if(!e)return null;const s=window.getComputedStyle(e),r=s.transform||s.webkitTransform||s.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Vt(t)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Vt(t)?5:4]):null)}function jB(e){return 8*(Math.log(e+1)-2)}function lp(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}function kB(...e){return(...t)=>{for(const s of e)typeof s=="function"&&s(...t)}}const At={DURATION:.5,EASE:[.32,.72,0,1]},K2=.4,TB=.25,CB=100,Y2=8,ka=16,bg=26,cp="vaul-dragging";function J2(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...s)=>t.current==null?void 0:t.current.call(t,...s),[])}function EB({defaultProp:e,onChange:t}){const s=$.useState(e),[r]=s,i=$.useRef(r),c=J2(t);return $.useEffect(()=>{i.current!==r&&(c(r),i.current=r)},[r,i,c]),s}function X2({prop:e,defaultProp:t,onChange:s=()=>{}}){const[r,i]=EB({defaultProp:t,onChange:s}),c=e!==void 0,u=c?e:r,h=J2(s),p=$.useCallback(m=>{if(c){const y=typeof m=="function"?m(e):m;y!==e&&h(y)}else i(m)},[c,e,i,h]);return[u,p]}function AB({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:s,drawerRef:r,overlayRef:i,fadeFromIndex:c,onSnapPointChange:u,direction:h="bottom",container:p,snapToSequentialPoint:m}){const[g,y]=X2({prop:e,defaultProp:s==null?void 0:s[0],onChange:t}),[v,j]=$.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);$.useEffect(()=>{function U(){j({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",U),()=>window.removeEventListener("resize",U)},[]);const A=$.useMemo(()=>g===(s==null?void 0:s[s.length-1])||null,[s,g]),k=$.useMemo(()=>{var U;return(U=s==null?void 0:s.findIndex(_=>_===g))!=null?U:null},[s,g]),E=s&&s.length>0&&(c||c===0)&&!Number.isNaN(c)&&s[c]===g||!s,C=$.useMemo(()=>{const U=p?{width:p.getBoundingClientRect().width,height:p.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var _;return(_=s==null?void 0:s.map(I=>{const W=typeof I=="string";let H=0;if(W&&(H=parseInt(I,10)),Vt(h)){const K=W?H:v?I*U.height:0;return v?h==="bottom"?U.height-K:-U.height+K:K}const se=W?H:v?I*U.width:0;return v?h==="right"?U.width-se:-U.width+se:se}))!=null?_:[]},[s,v,p]),R=$.useMemo(()=>k!==null?C==null?void 0:C[k]:null,[C,k]),N=$.useCallback(U=>{var _;const I=(_=C==null?void 0:C.findIndex(W=>W===U))!=null?_:null;u(I),Zt(r.current,{transition:`transform ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,transform:Vt(h)?`translate3d(0, ${U}px, 0)`:`translate3d(${U}px, 0, 0)`}),C&&I!==C.length-1&&c!==void 0&&I!==c&&I<c?Zt(i.current,{transition:`opacity ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,opacity:"0"}):Zt(i.current,{transition:`opacity ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,opacity:"1"}),y(s==null?void 0:s[Math.max(I,0)])},[r.current,s,C,c,i,y]);$.useEffect(()=>{if(g||e){var U;const _=(U=s==null?void 0:s.findIndex(I=>I===e||I===g))!=null?U:-1;C&&_!==-1&&typeof C[_]=="number"&&N(C[_])}},[g,e,s,C,N]);function D({draggedDistance:U,closeDrawer:_,velocity:I,dismissible:W}){if(c===void 0)return;const H=h==="bottom"||h==="right"?(R??0)-U:(R??0)+U,se=k===c-1,K=k===0,re=U>0;if(se&&Zt(i.current,{transition:`opacity ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`}),!m&&I>2&&!re){W?_():N(C[0]);return}if(!m&&I>2&&re&&C&&s){N(C[s.length-1]);return}const Q=C==null?void 0:C.reduce((L,V)=>typeof L!="number"||typeof V!="number"?L:Math.abs(V-H)<Math.abs(L-H)?V:L),B=Vt(h)?window.innerHeight:window.innerWidth;if(I>K2&&Math.abs(U)<B*.4){const L=re?1:-1;if(L>0&&A&&s){N(C[s.length-1]);return}if(K&&L<0&&W&&_(),k===null)return;N(C[k+L]);return}N(Q)}function P({draggedDistance:U}){if(R===null)return;const _=h==="bottom"||h==="right"?R-U:R+U;(h==="bottom"||h==="right")&&_<C[C.length-1]||(h==="top"||h==="left")&&_>C[C.length-1]||Zt(r.current,{transform:Vt(h)?`translate3d(0, ${_}px, 0)`:`translate3d(${_}px, 0, 0)`})}function M(U,_){if(!s||typeof k!="number"||!C||c===void 0)return null;const I=k===c-1;if(k>=c&&_)return 0;if(I&&!_)return 1;if(!E&&!I)return null;const H=I?k+1:k-1,se=I?C[H]-C[H-1]:C[H+1]-C[H],K=U/Math.abs(se);return I?1-K:K}return{isLastSnapPoint:A,activeSnapPoint:g,shouldFade:E,getPercentageDragged:M,setActiveSnapPoint:y,activeSnapPointIndex:k,onRelease:D,onDrag:P,snapPointsOffset:C}}const NB=()=>()=>{};function RB(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:r,noBodyStyles:i}=ql(),c=$.useRef(null),u=b.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-bg)/window.innerWidth}$.useEffect(()=>{if(t&&s){c.current&&clearTimeout(c.current);const p=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!p)return;kB(r&&!i?lp(document.body,{background:"black"}):NB,lp(p,{transformOrigin:Vt(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${At.DURATION}s`,transitionTimingFunction:`cubic-bezier(${At.EASE.join(",")})`}));const m=lp(p,{borderRadius:`${Y2}px`,overflow:"hidden",...Vt(e)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),c.current=window.setTimeout(()=>{u?document.body.style.background=u:document.body.style.removeProperty("background")},At.DURATION*1e3)}}},[t,s,u])}let sl=null;function MB({isOpen:e,modal:t,nested:s,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:c}){const[u,h]=$.useState(()=>typeof window<"u"?window.location.href:""),p=$.useRef(0),m=$.useCallback(()=>{if(SS()&&sl===null&&e&&!c){sl={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:y,innerHeight:v}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-p.current}px`,left:`${-y}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const j=v-window.innerHeight;j&&p.current>=v&&(document.body.style.top=`${-(p.current+j)}px`)}),300)}},[e]),g=$.useCallback(()=>{if(SS()&&sl!==null&&!c){const y=-parseInt(document.body.style.top,10),v=-parseInt(document.body.style.left,10);Object.assign(document.body.style,sl),window.requestAnimationFrame(()=>{if(i&&u!==window.location.href){h(window.location.href);return}window.scrollTo(v,y)}),sl=null}},[u]);return $.useEffect(()=>{function y(){p.current=window.scrollY}return y(),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}},[]),$.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[t,g]),$.useEffect(()=>{s||!r||(e?(!window.matchMedia("(display-mode: standalone)").matches&&m(),t||window.setTimeout(()=>{g()},500)):g())},[e,r,u,t,s,m,g]),{restorePositionSetting:g}}function _B({open:e,onOpenChange:t,children:s,onDrag:r,onRelease:i,snapPoints:c,shouldScaleBackground:u=!1,setBackgroundColorOnScale:h=!0,closeThreshold:p=TB,scrollLockTimeout:m=CB,dismissible:g=!0,handleOnly:y=!1,fadeFromIndex:v=c&&c.length-1,activeSnapPoint:j,setActiveSnapPoint:A,fixed:k,modal:E=!0,onClose:C,nested:R,noBodyStyles:N=!1,direction:D="bottom",defaultOpen:P=!1,disablePreventScroll:M=!0,snapToSequentialPoint:U=!1,preventScrollRestoration:_=!1,repositionInputs:I=!0,onAnimationEnd:W,container:H,autoFocus:se=!1}){var K,re;const[Q=!1,B]=X2({defaultProp:P,prop:e,onChange:ke=>{t==null||t(ke),!ke&&!R&&Pt(),setTimeout(()=>{W==null||W(ke)},At.DURATION*1e3),ke&&!E&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ke||(document.body.style.pointerEvents="auto")}}),[L,V]=$.useState(!1),[Y,z]=$.useState(!1),[X,Z]=$.useState(!1),F=$.useRef(null),ie=$.useRef(null),oe=$.useRef(null),he=$.useRef(null),ye=$.useRef(null),pe=$.useRef(!1),Qe=$.useRef(null),xt=$.useRef(0),jt=$.useRef(!1),Wt=$.useRef(!P),He=$.useRef(0),ge=$.useRef(null),kt=$.useRef(((K=ge.current)==null?void 0:K.getBoundingClientRect().height)||0),tt=$.useRef(((re=ge.current)==null?void 0:re.getBoundingClientRect().width)||0),qe=$.useRef(0),On=$.useCallback(ke=>{c&&ke===en.length-1&&(ie.current=new Date)},[]),{activeSnapPoint:Ke,activeSnapPointIndex:dt,setActiveSnapPoint:qt,onRelease:$t,snapPointsOffset:en,onDrag:vs,shouldFade:Kt,getPercentageDragged:Mt}=AB({snapPoints:c,activeSnapPointProp:j,setActiveSnapPointProp:A,drawerRef:ge,fadeFromIndex:v,overlayRef:F,onSnapPointChange:On,direction:D,container:H,snapToSequentialPoint:U});yB({isDisabled:!Q||Y||!E||X||!L||!I||!M});const{restorePositionSetting:Pt}=MB({isOpen:Q,modal:E,nested:R??!1,hasBeenOpened:L,preventScrollRestoration:_,noBodyStyles:N});function tn(){return(window.innerWidth-bg)/window.innerWidth}function Tt(ke){var Ge,Ye;!g&&!c||ge.current&&!ge.current.contains(ke.target)||(kt.current=((Ge=ge.current)==null?void 0:Ge.getBoundingClientRect().height)||0,tt.current=((Ye=ge.current)==null?void 0:Ye.getBoundingClientRect().width)||0,z(!0),oe.current=new Date,H2()&&window.addEventListener("touchend",()=>pe.current=!1,{once:!0}),ke.target.setPointerCapture(ke.pointerId),xt.current=Vt(D)?ke.pageY:ke.pageX)}function cr(ke,Ge){var Ye;let Oe=ke;const mt=(Ye=window.getSelection())==null?void 0:Ye.toString(),Te=ge.current?Au(ge.current,D):null,Be=new Date;if(Oe.tagName==="SELECT"||Oe.hasAttribute("data-vaul-no-drag")||Oe.closest("[data-vaul-no-drag]"))return!1;if(D==="right"||D==="left")return!0;if(ie.current&&Be.getTime()-ie.current.getTime()<500)return!1;if(Te!==null&&(D==="bottom"?Te>0:Te<0))return!0;if(mt&&mt.length>0)return!1;if(ye.current&&Be.getTime()-ye.current.getTime()<m&&Te===0||Ge)return ye.current=Be,!1;for(;Oe;){if(Oe.scrollHeight>Oe.clientHeight){if(Oe.scrollTop!==0)return ye.current=new Date,!1;if(Oe.getAttribute("role")==="dialog")return!0}Oe=Oe.parentNode}return!0}function Ua(ke){if(ge.current&&Y){const Ge=D==="bottom"||D==="right"?1:-1,Ye=(xt.current-(Vt(D)?ke.pageY:ke.pageX))*Ge,Oe=Ye>0,mt=c&&!g&&!Oe;if(mt&&dt===0)return;const Te=Math.abs(Ye),Be=document.querySelector("[data-vaul-drawer-wrapper]"),nt=D==="bottom"||D==="top"?kt.current:tt.current;let rt=Te/nt;const vn=Mt(Te,Oe);if(vn!==null&&(rt=vn),mt&&rt>=1||!pe.current&&!cr(ke.target,Oe))return;if(ge.current.classList.add(cp),pe.current=!0,Zt(ge.current,{transition:"none"}),Zt(F.current,{transition:"none"}),c&&vs({draggedDistance:Ye}),Oe&&!c){const Je=jB(Ye),pt=Math.min(Je*-1,0)*Ge;Zt(ge.current,{transform:Vt(D)?`translate3d(0, ${pt}px, 0)`:`translate3d(${pt}px, 0, 0)`});return}const ot=1-rt;if((Kt||v&&dt===v-1)&&(r==null||r(ke,rt),Zt(F.current,{opacity:`${ot}`,transition:"none"},!0)),Be&&F.current&&u){const Je=Math.min(tn()+rt*(1-tn()),1),pt=8-rt*8,st=Math.max(0,14-rt*14);Zt(Be,{borderRadius:`${pt}px`,transform:Vt(D)?`scale(${Je}) translate3d(0, ${st}px, 0)`:`scale(${Je}) translate3d(${st}px, 0, 0)`,transition:"none"},!0)}if(!c){const Je=Te*Ge;Zt(ge.current,{transform:Vt(D)?`translate3d(0, ${Je}px, 0)`:`translate3d(${Je}px, 0, 0)`})}}}$.useEffect(()=>{window.requestAnimationFrame(()=>{Wt.current=!0})},[]),$.useEffect(()=>{var ke;function Ge(){if(!ge.current||!I)return;const Ye=document.activeElement;if(vg(Ye)||jt.current){var Oe;const mt=((Oe=window.visualViewport)==null?void 0:Oe.height)||0,Te=window.innerHeight;let Be=Te-mt;const nt=ge.current.getBoundingClientRect().height||0,rt=nt>Te*.8;qe.current||(qe.current=nt);const vn=ge.current.getBoundingClientRect().top;if(Math.abs(He.current-Be)>60&&(jt.current=!jt.current),c&&c.length>0&&en&&dt){const ot=en[dt]||0;Be+=ot}if(He.current=Be,nt>mt||jt.current){const ot=ge.current.getBoundingClientRect().height;let Je=ot;ot>mt&&(Je=mt-(rt?vn:bg)),k?ge.current.style.height=`${ot-Math.max(Be,0)}px`:ge.current.style.height=`${Math.max(Je,mt-vn)}px`}else uB()||(ge.current.style.height=`${qe.current}px`);c&&c.length>0&&!jt.current?ge.current.style.bottom="0px":ge.current.style.bottom=`${Math.max(Be,0)}px`}}return(ke=window.visualViewport)==null||ke.addEventListener("resize",Ge),()=>{var Ye;return(Ye=window.visualViewport)==null?void 0:Ye.removeEventListener("resize",Ge)}},[dt,c,en]);function Tn(ke){bs(),C==null||C(),ke||B(!1),setTimeout(()=>{c&&qt(c[0])},At.DURATION*1e3)}function Ir(){if(!ge.current)return;const ke=document.querySelector("[data-vaul-drawer-wrapper]"),Ge=Au(ge.current,D);Zt(ge.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`}),Zt(F.current,{transition:`opacity ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,opacity:"1"}),u&&Ge&&Ge>0&&Q&&Zt(ke,{borderRadius:`${Y2}px`,overflow:"hidden",...Vt(D)?{transform:`scale(${tn()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${tn()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${At.DURATION}s`,transitionTimingFunction:`cubic-bezier(${At.EASE.join(",")})`},!0)}function bs(){!Y||!ge.current||(ge.current.classList.remove(cp),pe.current=!1,z(!1),he.current=new Date)}function Gn(ke){if(!Y||!ge.current)return;ge.current.classList.remove(cp),pe.current=!1,z(!1),he.current=new Date;const Ge=Au(ge.current,D);if(!ke||!cr(ke.target,!1)||!Ge||Number.isNaN(Ge)||oe.current===null)return;const Ye=he.current.getTime()-oe.current.getTime(),Oe=xt.current-(Vt(D)?ke.pageY:ke.pageX),mt=Math.abs(Oe)/Ye;if(mt>.05&&(Z(!0),setTimeout(()=>{Z(!1)},200)),c){$t({draggedDistance:Oe*(D==="bottom"||D==="right"?1:-1),closeDrawer:Tn,velocity:mt,dismissible:g}),i==null||i(ke,!0);return}if(D==="bottom"||D==="right"?Oe>0:Oe<0){Ir(),i==null||i(ke,!0);return}if(mt>K2){Tn(),i==null||i(ke,!1);return}var Te;const Be=Math.min((Te=ge.current.getBoundingClientRect().height)!=null?Te:0,window.innerHeight);var nt;const rt=Math.min((nt=ge.current.getBoundingClientRect().width)!=null?nt:0,window.innerWidth),vn=D==="left"||D==="right";if(Math.abs(Ge)>=(vn?rt:Be)*p){Tn(),i==null||i(ke,!1);return}i==null||i(ke,!0),Ir()}$.useEffect(()=>(Q&&(Zt(document.documentElement,{scrollBehavior:"auto"}),ie.current=new Date),()=>{SB(document.documentElement,"scrollBehavior")}),[Q]);function Fr(ke){const Ge=ke?(window.innerWidth-ka)/window.innerWidth:1,Ye=ke?-ka:0;Qe.current&&window.clearTimeout(Qe.current),Zt(ge.current,{transition:`transform ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,transform:Vt(D)?`scale(${Ge}) translate3d(0, ${Ye}px, 0)`:`scale(${Ge}) translate3d(${Ye}px, 0, 0)`}),!ke&&ge.current&&(Qe.current=setTimeout(()=>{const Oe=Au(ge.current,D);Zt(ge.current,{transition:"none",transform:Vt(D)?`translate3d(0, ${Oe}px, 0)`:`translate3d(${Oe}px, 0, 0)`})},500))}function Vr(ke,Ge){if(Ge<0)return;const Ye=(window.innerWidth-ka)/window.innerWidth,Oe=Ye+Ge*(1-Ye),mt=-ka+Ge*ka;Zt(ge.current,{transform:Vt(D)?`scale(${Oe}) translate3d(0, ${mt}px, 0)`:`scale(${Oe}) translate3d(${mt}px, 0, 0)`,transition:"none"})}function sa(ke,Ge){const Ye=Vt(D)?window.innerHeight:window.innerWidth,Oe=Ge?(Ye-ka)/Ye:1,mt=Ge?-ka:0;Ge&&Zt(ge.current,{transition:`transform ${At.DURATION}s cubic-bezier(${At.EASE.join(",")})`,transform:Vt(D)?`scale(${Oe}) translate3d(0, ${mt}px, 0)`:`scale(${Oe}) translate3d(${mt}px, 0, 0)`})}return $.useEffect(()=>{E||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[E]),$.createElement(nB,{defaultOpen:P,onOpenChange:ke=>{!g&&!ke||(ke?V(!0):Tn(!0),B(ke))},open:Q},$.createElement(V2.Provider,{value:{activeSnapPoint:Ke,snapPoints:c,setActiveSnapPoint:qt,drawerRef:ge,overlayRef:F,onOpenChange:t,onPress:Tt,onRelease:Gn,onDrag:Ua,dismissible:g,shouldAnimate:Wt,handleOnly:y,isOpen:Q,isDragging:Y,shouldFade:Kt,closeDrawer:Tn,onNestedDrag:Vr,onNestedOpenChange:Fr,onNestedRelease:sa,keyboardIsOpen:jt,modal:E,snapPointsOffset:en,activeSnapPointIndex:dt,direction:D,shouldScaleBackground:u,setBackgroundColorOnScale:h,noBodyStyles:N,container:H,autoFocus:se}},s))}const Z2=$.forwardRef(function({...e},t){const{overlayRef:s,snapPoints:r,onRelease:i,shouldFade:c,isOpen:u,modal:h,shouldAnimate:p}=ql(),m=W2(t,s),g=r&&r.length>0;if(!h)return null;const y=$.useCallback(v=>i(v),[i]);return $.createElement(aB,{onMouseUp:y,ref:m,"data-vaul-overlay":"","data-vaul-snap-points":u&&g?"true":"false","data-vaul-snap-points-overlay":u&&c?"true":"false","data-vaul-animate":p!=null&&p.current?"true":"false",...e})});Z2.displayName="Drawer.Overlay";const Q2=$.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:s,...r},i){const{drawerRef:c,onPress:u,onRelease:h,onDrag:p,keyboardIsOpen:m,snapPointsOffset:g,activeSnapPointIndex:y,modal:v,isOpen:j,direction:A,snapPoints:k,container:E,handleOnly:C,shouldAnimate:R,autoFocus:N}=ql(),[D,P]=$.useState(!1),M=W2(i,c),U=$.useRef(null),_=$.useRef(null),I=$.useRef(!1),W=k&&k.length>0;RB();const H=(K,re,Q=0)=>{if(I.current)return!0;const B=Math.abs(K.y),L=Math.abs(K.x),V=L>B,Y=["bottom","right"].includes(re)?1:-1;if(re==="left"||re==="right"){if(!(K.x*Y<0)&&L>=0&&L<=Q)return V}else if(!(K.y*Y<0)&&B>=0&&B<=Q)return!V;return I.current=!0,!0};$.useEffect(()=>{W&&window.requestAnimationFrame(()=>{P(!0)})},[]);function se(K){U.current=null,I.current=!1,h(K)}return $.createElement(iB,{"data-vaul-drawer-direction":A,"data-vaul-drawer":"","data-vaul-delayed-snap-points":D?"true":"false","data-vaul-snap-points":j&&W?"true":"false","data-vaul-custom-container":E?"true":"false","data-vaul-animate":R!=null&&R.current?"true":"false",...r,ref:M,style:g&&g.length>0?{"--snap-point-height":`${g[y??0]}px`,...t}:t,onPointerDown:K=>{C||(r.onPointerDown==null||r.onPointerDown.call(r,K),U.current={x:K.pageX,y:K.pageY},u(K))},onOpenAutoFocus:K=>{s==null||s(K),N||K.preventDefault()},onPointerDownOutside:K=>{if(e==null||e(K),!v||K.defaultPrevented){K.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:K=>{if(!v){K.preventDefault();return}},onPointerMove:K=>{if(_.current=K,C||(r.onPointerMove==null||r.onPointerMove.call(r,K),!U.current))return;const re=K.pageY-U.current.y,Q=K.pageX-U.current.x,B=K.pointerType==="touch"?10:2;H({x:Q,y:re},A,B)?p(K):(Math.abs(Q)>B||Math.abs(re)>B)&&(U.current=null)},onPointerUp:K=>{r.onPointerUp==null||r.onPointerUp.call(r,K),U.current=null,I.current=!1,h(K)},onPointerOut:K=>{r.onPointerOut==null||r.onPointerOut.call(r,K),se(_.current)},onContextMenu:K=>{r.onContextMenu==null||r.onContextMenu.call(r,K),_.current&&se(_.current)}})});Q2.displayName="Drawer.Content";const OB=250,DB=120,PB=$.forwardRef(function({preventCycle:e=!1,children:t,...s},r){const{closeDrawer:i,isDragging:c,snapPoints:u,activeSnapPoint:h,setActiveSnapPoint:p,dismissible:m,handleOnly:g,isOpen:y,onPress:v,onDrag:j}=ql(),A=$.useRef(null),k=$.useRef(!1);function E(){if(k.current){N();return}window.setTimeout(()=>{C()},DB)}function C(){if(c||e||k.current){N();return}if(N(),!u||u.length===0){m||i();return}if(h===u[u.length-1]&&m){i();return}const P=u.findIndex(U=>U===h);if(P===-1)return;const M=u[P+1];p(M)}function R(){A.current=window.setTimeout(()=>{k.current=!0},OB)}function N(){A.current&&window.clearTimeout(A.current),k.current=!1}return $.createElement("div",{onClick:E,onPointerCancel:N,onPointerDown:D=>{g&&v(D),R()},onPointerMove:D=>{g&&j(D)},ref:r,"data-vaul-drawer-visible":y?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},$.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});PB.displayName="Drawer.Handle";function zB(e){const t=ql(),{container:s=t.container,...r}=e;return $.createElement(sB,{container:s,...r})}const Br={Root:_B,Content:Q2,Overlay:Z2,Trigger:rB,Portal:zB,Title:oB,Description:lB};function eC(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(s=eC(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function tC(){for(var e,t,s=0,r="",i=arguments.length;s<i;s++)(e=arguments[s])&&(t=eC(e))&&(r&&(r+=" "),r+=t);return r}const LB=(e,t)=>{const s=new Array(e.length+t.length);for(let r=0;r<e.length;r++)s[r]=e[r];for(let r=0;r<t.length;r++)s[e.length+r]=t[r];return s},UB=(e,t)=>({classGroupId:e,validator:t}),nC=(e=new Map,t=null,s)=>({nextPart:e,validators:t,classGroupId:s}),fd="-",CS=[],$B="arbitrary..",BB=e=>{const t=FB(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return IB(u);const h=u.split(fd),p=h[0]===""&&h.length>1?1:0;return rC(h,p,t)},getConflictingClassGroupIds:(u,h)=>{if(h){const p=r[u],m=s[u];return p?m?LB(m,p):p:m||CS}return s[u]||CS}}},rC=(e,t,s)=>{if(e.length-t===0)return s.classGroupId;const i=e[t],c=s.nextPart.get(i);if(c){const m=rC(e,t+1,c);if(m)return m}const u=s.validators;if(u===null)return;const h=t===0?e.join(fd):e.slice(t).join(fd),p=u.length;for(let m=0;m<p;m++){const g=u[m];if(g.validator(h))return g.classGroupId}},IB=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),s=t.indexOf(":"),r=t.slice(0,s);return r?$B+r:void 0})(),FB=e=>{const{theme:t,classGroups:s}=e;return VB(s,t)},VB=(e,t)=>{const s=nC();for(const r in e){const i=e[r];Iy(i,s,r,t)}return s},Iy=(e,t,s,r)=>{const i=e.length;for(let c=0;c<i;c++){const u=e[c];HB(u,t,s,r)}},HB=(e,t,s,r)=>{if(typeof e=="string"){GB(e,t,s);return}if(typeof e=="function"){WB(e,t,s,r);return}qB(e,t,s,r)},GB=(e,t,s)=>{const r=e===""?t:sC(t,e);r.classGroupId=s},WB=(e,t,s,r)=>{if(KB(e)){Iy(e(r),t,s,r);return}t.validators===null&&(t.validators=[]),t.validators.push(UB(s,e))},qB=(e,t,s,r)=>{const i=Object.entries(e),c=i.length;for(let u=0;u<c;u++){const[h,p]=i[u];Iy(p,sC(t,h),s,r)}},sC=(e,t)=>{let s=e;const r=t.split(fd),i=r.length;for(let c=0;c<i;c++){const u=r[c];let h=s.nextPart.get(u);h||(h=nC(),s.nextPart.set(u,h)),s=h}return s},KB=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,YB=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,s=Object.create(null),r=Object.create(null);const i=(c,u)=>{s[c]=u,t++,t>e&&(t=0,r=s,s=Object.create(null))};return{get(c){let u=s[c];if(u!==void 0)return u;if((u=r[c])!==void 0)return i(c,u),u},set(c,u){c in s?s[c]=u:i(c,u)}}},wg="!",ES=":",JB=[],AS=(e,t,s,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:s,maybePostfixModifierPosition:r,isExternal:i}),XB=e=>{const{prefix:t,experimentalParseClassName:s}=e;let r=i=>{const c=[];let u=0,h=0,p=0,m;const g=i.length;for(let k=0;k<g;k++){const E=i[k];if(u===0&&h===0){if(E===ES){c.push(i.slice(p,k)),p=k+1;continue}if(E==="/"){m=k;continue}}E==="["?u++:E==="]"?u--:E==="("?h++:E===")"&&h--}const y=c.length===0?i:i.slice(p);let v=y,j=!1;y.endsWith(wg)?(v=y.slice(0,-1),j=!0):y.startsWith(wg)&&(v=y.slice(1),j=!0);const A=m&&m>p?m-p:void 0;return AS(c,j,v,A)};if(t){const i=t+ES,c=r;r=u=>u.startsWith(i)?c(u.slice(i.length)):AS(JB,!1,u,void 0,!0)}if(s){const i=r;r=c=>s({className:c,parseClassName:i})}return r},ZB=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((s,r)=>{t.set(s,1e6+r)}),s=>{const r=[];let i=[];for(let c=0;c<s.length;c++){const u=s[c],h=u[0]==="[",p=t.has(u);h||p?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(u)):i.push(u)}return i.length>0&&(i.sort(),r.push(...i)),r}},QB=e=>({cache:YB(e.cacheSize),parseClassName:XB(e),sortModifiers:ZB(e),...BB(e)}),eI=/\s+/,tI=(e,t)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:c}=t,u=[],h=e.trim().split(eI);let p="";for(let m=h.length-1;m>=0;m-=1){const g=h[m],{isExternal:y,modifiers:v,hasImportantModifier:j,baseClassName:A,maybePostfixModifierPosition:k}=s(g);if(y){p=g+(p.length>0?" "+p:p);continue}let E=!!k,C=r(E?A.substring(0,k):A);if(!C){if(!E){p=g+(p.length>0?" "+p:p);continue}if(C=r(A),!C){p=g+(p.length>0?" "+p:p);continue}E=!1}const R=v.length===0?"":v.length===1?v[0]:c(v).join(":"),N=j?R+wg:R,D=N+C;if(u.indexOf(D)>-1)continue;u.push(D);const P=i(C,E);for(let M=0;M<P.length;++M){const U=P[M];u.push(N+U)}p=g+(p.length>0?" "+p:p)}return p},nI=(...e)=>{let t=0,s,r,i="";for(;t<e.length;)(s=e[t++])&&(r=aC(s))&&(i&&(i+=" "),i+=r);return i},aC=e=>{if(typeof e=="string")return e;let t,s="";for(let r=0;r<e.length;r++)e[r]&&(t=aC(e[r]))&&(s&&(s+=" "),s+=t);return s},rI=(e,...t)=>{let s,r,i,c;const u=p=>{const m=t.reduce((g,y)=>y(g),e());return s=QB(m),r=s.cache.get,i=s.cache.set,c=h,h(p)},h=p=>{const m=r(p);if(m)return m;const g=tI(p,s);return i(p,g),g};return c=u,(...p)=>c(nI(...p))},sI=[],Xt=e=>{const t=s=>s[e]||sI;return t.isThemeGetter=!0,t},iC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,aI=/^\d+\/\d+$/,iI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,cI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ei=e=>aI.test(e),Le=e=>!!e&&!Number.isNaN(Number(e)),Vs=e=>!!e&&Number.isInteger(Number(e)),up=e=>e.endsWith("%")&&Le(e.slice(0,-1)),is=e=>iI.test(e),dI=()=>!0,hI=e=>oI.test(e)&&!lI.test(e),lC=()=>!1,fI=e=>cI.test(e),mI=e=>uI.test(e),pI=e=>!be(e)&&!we(e),gI=e=>to(e,dC,lC),be=e=>iC.test(e),Ta=e=>to(e,hC,hI),dp=e=>to(e,wI,Le),NS=e=>to(e,cC,lC),yI=e=>to(e,uC,mI),Nu=e=>to(e,fC,fI),we=e=>oC.test(e),al=e=>no(e,hC),xI=e=>no(e,SI),RS=e=>no(e,cC),vI=e=>no(e,dC),bI=e=>no(e,uC),Ru=e=>no(e,fC,!0),to=(e,t,s)=>{const r=iC.exec(e);return r?r[1]?t(r[1]):s(r[2]):!1},no=(e,t,s=!1)=>{const r=oC.exec(e);return r?r[1]?t(r[1]):s:!1},cC=e=>e==="position"||e==="percentage",uC=e=>e==="image"||e==="url",dC=e=>e==="length"||e==="size"||e==="bg-size",hC=e=>e==="length",wI=e=>e==="number",SI=e=>e==="family-name",fC=e=>e==="shadow",jI=()=>{const e=Xt("color"),t=Xt("font"),s=Xt("text"),r=Xt("font-weight"),i=Xt("tracking"),c=Xt("leading"),u=Xt("breakpoint"),h=Xt("container"),p=Xt("spacing"),m=Xt("radius"),g=Xt("shadow"),y=Xt("inset-shadow"),v=Xt("text-shadow"),j=Xt("drop-shadow"),A=Xt("blur"),k=Xt("perspective"),E=Xt("aspect"),C=Xt("ease"),R=Xt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...D(),we,be],M=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],_=()=>[we,be,p],I=()=>[Ei,"full","auto",..._()],W=()=>[Vs,"none","subgrid",we,be],H=()=>["auto",{span:["full",Vs,we,be]},Vs,we,be],se=()=>[Vs,"auto",we,be],K=()=>["auto","min","max","fr",we,be],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Q=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",..._()],L=()=>[Ei,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],V=()=>[e,we,be],Y=()=>[...D(),RS,NS,{position:[we,be]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",vI,gI,{size:[we,be]}],Z=()=>[up,al,Ta],F=()=>["","none","full",m,we,be],ie=()=>["",Le,al,Ta],oe=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[Le,up,RS,NS],pe=()=>["","none",A,we,be],Qe=()=>["none",Le,we,be],xt=()=>["none",Le,we,be],jt=()=>[Le,we,be],Wt=()=>[Ei,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[is],breakpoint:[is],color:[dI],container:[is],"drop-shadow":[is],ease:["in","out","in-out"],font:[pI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[is],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[is],shadow:[is],spacing:["px",Le],text:[is],"text-shadow":[is],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ei,be,we,E]}],container:["container"],columns:[{columns:[Le,be,we,h]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Vs,"auto",we,be]}],basis:[{basis:[Ei,"full","auto",h,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Le,Ei,"auto","initial","none",be]}],grow:[{grow:["",Le,we,be]}],shrink:[{shrink:["",Le,we,be]}],order:[{order:[Vs,"first","last","none",we,be]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":K()}],"auto-rows":[{"auto-rows":K()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...Q(),"normal"]}],"justify-self":[{"justify-self":["auto",...Q()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...Q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Q(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...Q(),"baseline"]}],"place-self":[{"place-self":["auto",...Q()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[h,"screen",...L()]}],"min-w":[{"min-w":[h,"screen","none",...L()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...L()]}],h:[{h:["screen","lh",...L()]}],"min-h":[{"min-h":["screen","lh","none",...L()]}],"max-h":[{"max-h":["screen","lh",...L()]}],"font-size":[{text:["base",s,al,Ta]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,we,dp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",up,be]}],"font-family":[{font:[xI,be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,we,be]}],"line-clamp":[{"line-clamp":[Le,"none",we,dp]}],leading:[{leading:[c,..._()]}],"list-image":[{"list-image":["none",we,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Le,"from-font","auto",we,Ta]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Le,"auto",we,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vs,we,be],radial:["",we,be],conic:[Vs,we,be]},bI,yI]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Le,we,be]}],"outline-w":[{outline:["",Le,al,Ta]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",g,Ru,Nu]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",y,Ru,Nu]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Le,Ta]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",v,Ru,Nu]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Le,we,be]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Le]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[we,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":D()}],"mask-image-conic-pos":[{"mask-conic":[Le]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,be]}],filter:[{filter:["","none",we,be]}],blur:[{blur:pe()}],brightness:[{brightness:[Le,we,be]}],contrast:[{contrast:[Le,we,be]}],"drop-shadow":[{"drop-shadow":["","none",j,Ru,Nu]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Le,we,be]}],"hue-rotate":[{"hue-rotate":[Le,we,be]}],invert:[{invert:["",Le,we,be]}],saturate:[{saturate:[Le,we,be]}],sepia:[{sepia:["",Le,we,be]}],"backdrop-filter":[{"backdrop-filter":["","none",we,be]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Le,we,be]}],"backdrop-contrast":[{"backdrop-contrast":[Le,we,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Le,we,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Le,we,be]}],"backdrop-invert":[{"backdrop-invert":["",Le,we,be]}],"backdrop-opacity":[{"backdrop-opacity":[Le,we,be]}],"backdrop-saturate":[{"backdrop-saturate":[Le,we,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Le,we,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Le,"initial",we,be]}],ease:[{ease:["linear","initial",C,we,be]}],delay:[{delay:[Le,we,be]}],animate:[{animate:["none",R,we,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,we,be]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:Qe()}],"rotate-x":[{"rotate-x":Qe()}],"rotate-y":[{"rotate-y":Qe()}],"rotate-z":[{"rotate-z":Qe()}],scale:[{scale:xt()}],"scale-x":[{"scale-x":xt()}],"scale-y":[{"scale-y":xt()}],"scale-z":[{"scale-z":xt()}],"scale-3d":["scale-3d"],skew:[{skew:jt()}],"skew-x":[{"skew-x":jt()}],"skew-y":[{"skew-y":jt()}],transform:[{transform:[we,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Wt()}],"translate-x":[{"translate-x":Wt()}],"translate-y":[{"translate-y":Wt()}],"translate-z":[{"translate-z":Wt()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,be]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Le,al,Ta,dp]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},kI=rI(jI);function xn(...e){return kI(tC(e))}const Vd=({shouldScaleBackground:e=!0,...t})=>o.jsx(Br.Root,{shouldScaleBackground:e,...t});Vd.displayName="Drawer";const Fy=Br.Trigger,TI=Br.Portal,mC=b.forwardRef(({className:e,...t},s)=>o.jsx(Br.Overlay,{ref:s,className:xn("fixed inset-0 z-50 bg-black/80",e),...t}));mC.displayName=Br.Overlay.displayName;const Hd=b.forwardRef(({className:e,children:t,...s},r)=>o.jsxs(TI,{children:[o.jsx(mC,{}),o.jsxs(Br.Content,{ref:r,className:xn("fixed inset-x-0 top-0 z-50 mb-24 flex h-[95vh] flex-col rounded-b-[10px] border bg-background overflow-y-auto",e),...s,children:[t,o.jsx("div",{className:"mx-auto mb-4 h-2 w-[100px] rounded-full bg-muted"})]})]}));Hd.displayName="DrawerContent";const CI=b.forwardRef(({className:e,...t},s)=>o.jsx(Br.Title,{ref:s,className:xn("text-lg font-semibold leading-none tracking-tight",e),...t}));CI.displayName=Br.Title.displayName;const EI=b.forwardRef(({className:e,...t},s)=>o.jsx(Br.Description,{ref:s,className:xn("text-sm text-muted-foreground",e),...t}));EI.displayName=Br.Description.displayName;var AI=Symbol.for("react.lazy"),md=Pg[" use ".trim().toString()];function NI(e){return typeof e=="object"&&e!==null&&"then"in e}function pC(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===AI&&"_payload"in e&&NI(e._payload)}function RI(e){const t=_I(e),s=b.forwardRef((r,i)=>{let{children:c,...u}=r;pC(c)&&typeof md=="function"&&(c=md(c._payload));const h=b.Children.toArray(c),p=h.find(DI);if(p){const m=p.props.children,g=h.map(y=>y===p?b.Children.count(m)>1?b.Children.only(null):b.isValidElement(m)?m.props.children:null:y);return o.jsx(t,{...u,ref:i,children:b.isValidElement(m)?b.cloneElement(m,void 0,g):null})}return o.jsx(t,{...u,ref:i,children:c})});return s.displayName=`${e}.Slot`,s}var MI=RI("Slot");function _I(e){const t=b.forwardRef((s,r)=>{let{children:i,...c}=s;if(pC(i)&&typeof md=="function"&&(i=md(i._payload)),b.isValidElement(i)){const u=zI(i),h=PI(c,i.props);return i.type!==b.Fragment&&(h.ref=r?$d(r,u):u),b.cloneElement(i,h)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OI=Symbol("radix.slottable");function DI(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OI}function PI(e,t){const s={...t};for(const r in t){const i=e[r],c=t[r];/^on[A-Z]/.test(r)?i&&c?s[r]=(...h)=>{const p=c(...h);return i(...h),p}:i&&(s[r]=i):r==="style"?s[r]={...i,...c}:r==="className"&&(s[r]=[i,c].filter(Boolean).join(" "))}return{...e,...s}}function zI(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}const MS=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_S=tC,LI=(e,t)=>s=>{var r;if((t==null?void 0:t.variants)==null)return _S(e,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:i,defaultVariants:c}=t,u=Object.keys(i).map(m=>{const g=s==null?void 0:s[m],y=c==null?void 0:c[m];if(g===null)return null;const v=MS(g)||MS(y);return i[m][v]}),h=s&&Object.entries(s).reduce((m,g)=>{let[y,v]=g;return v===void 0||(m[y]=v),m},{}),p=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((m,g)=>{let{class:y,className:v,...j}=g;return Object.entries(j).every(A=>{let[k,E]=A;return Array.isArray(E)?E.includes({...c,...h}[k]):{...c,...h}[k]===E})?[...m,y,v]:m},[]);return _S(e,u,p,s==null?void 0:s.class,s==null?void 0:s.className)},UI=LI("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Gd=b.forwardRef(({className:e,variant:t,size:s,asChild:r=!1,...i},c)=>{const u=r?MI:"button";return o.jsx(u,{className:xn(UI({variant:t,size:s,className:e})),ref:c,...i})});Gd.displayName="ShadcnButton";function OS({trigger:e}){const[t,s]=b.useState(!1);return o.jsxs(Vd,{open:t,onOpenChange:s,children:[o.jsx(Fy,{asChild:!0,children:e||o.jsx(Gd,{children:"Neuer Avatar"})}),o.jsx(Hd,{children:o.jsx("div",{className:"h-full overflow-y-auto",children:o.jsx(h2,{})})})]})}const $I=()=>{const e=Gt(),t=yt(),s=lr(),{isSignedIn:r,isLoaded:i}=Yi(),[c,u]=b.useState([]),[h,p]=b.useState(!0);b.useEffect(()=>{i&&r?m():i&&!r&&(u([]),p(!1))},[s,i,r]);const m=async()=>{try{p(!0),console.log("Loading avatars from backend API...");const M=await t.avatar.list();console.log("Backend response:",M);const U=(M.avatars||[]).map(_=>({id:_.id,userId:_.userId,name:_.name,description:_.description,imageUrl:_.imageUrl,creationType:_.creationType,status:"complete",createdAt:_.createdAt,updatedAt:_.updatedAt}));console.log("Loaded avatars from backend:",U.length),u(U)}catch(M){console.error("Error loading avatars from backend:",M),u([])}finally{p(!1)}},g=M=>{e("/story",{state:{selectedAvatar:M}})},y=async M=>{try{console.log(`Deleting avatar: ${M.name} (ID: ${M.id})`),await t.avatar.deleteAvatar(M.id),console.log(`Successfully deleted avatar: ${M.name}`),await m()}catch(U){console.error(`Error deleting avatar ${M.name}:`,U),alert(`Fehler beim Lschen von "${M.name}". Bitte versuche es spter erneut.`)}},v={minHeight:"100vh",background:S.background.primary,paddingBottom:"120px",position:"relative"},j={position:"absolute",filter:"blur(60px)",opacity:.6,borderRadius:"50%",transform:"translate(-50%, -50%)"},A={padding:`${w.xl}px`,marginBottom:`${w.lg}px`},k={borderRadius:`${fe.xl}px`,padding:`${w.xl}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,boxShadow:S.glass.shadowStrong,backdropFilter:"blur(18px) saturate(160%)",WebkitBackdropFilter:"blur(18px) saturate(160%)",position:"relative"},E={...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.sm,textShadow:"0 1px 1px rgba(255,255,255,0.35)",display:"flex",alignItems:"center",gap:w.md},C={...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},R={position:"absolute",top:w.lg,right:w.lg},N={padding:`0 ${w.xl}px`},D={textAlign:"center",padding:`${w.xxl}px`},P={display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.xxl}px`};return h?o.jsxs("div",{style:v,children:[o.jsx("div",{style:P,children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255,255,255,0.6)",borderTop:`4px solid ${S.primary[500]}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:`0 auto ${w.lg}px auto`}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},children:"Lade deine Avatare... "})]})}),o.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):o.jsxs("div",{style:v,children:[o.jsx("div",{style:{...j,width:320,height:320,top:120,left:120,background:hs.primary}}),o.jsx("div",{style:{...j,width:280,height:280,top:240,right:-40,background:hs.cool}}),o.jsx("div",{style:{...j,width:240,height:240,bottom:-40,left:"50%",background:hs.warm}}),o.jsx(za,{children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xxxl}px ${w.xl}px`},children:[o.jsx(Se,{delay:100,children:o.jsx("h1",{style:{...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.md},children:"Melde dich an, um deine Avatare zu sehen"})}),o.jsx(Se,{delay:200,children:o.jsx(Ve,{title:"Anmelden",onPress:()=>e("/auth"),variant:"primary",size:"lg"})})]})}),o.jsxs(ea,{children:[o.jsx(Se,{delay:0,children:o.jsx("div",{style:A,children:o.jsxs("div",{style:k,children:[o.jsxs("div",{style:E,children:[o.jsx(gs,{size:36,style:{color:S.primary[500]}}),"Deine Avatare"]}),o.jsxs("div",{style:C,children:["Verwalte all deine einzigartigen Charaktere (",c.length," Avatare)"]}),o.jsx("div",{style:R,children:o.jsx(OS,{})})]})})}),o.jsx(Se,{delay:100,children:o.jsx("div",{style:N,children:c.length===0?o.jsxs(Ee,{variant:"glass",style:D,children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:`${w.lg}px`},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.sm}px`},children:"Noch keine Avatare"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:`${w.lg}px`,fontSize:"16px"},children:"Erstelle deinen ersten Avatar, um loszulegen!"}),o.jsx(OS,{})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:c.map(M=>o.jsx(gU,{avatar:M,onUse:g,onDelete:y},M.id))})})})]})]})},gC=()=>{const e=yt(),[t,s]=b.useState(!1),r=b.useCallback(async(h,p)=>{try{s(!0),console.log(" Adding memory to database:",h,p);const m=await e.avatar.addMemory({id:h,storyId:p.storyId,storyTitle:p.storyTitle,experience:p.experience,emotionalImpact:p.emotionalImpact,personalityChanges:p.personalityChanges});return console.log(" Memory added successfully:",m),{success:m.success,memoryId:m.memoryId}}catch(m){return console.error(" Error in addMemory:",m),{success:!1,error:m}}finally{s(!1)}},[e]),i=b.useCallback(async(h,p,m,g)=>{try{s(!0),console.log(" PERSONALITY UPDATE START (Backend Only)"),console.log("Avatar ID:",h),console.log("Changes:",p),console.log("Reason:",m),console.log("Story ID:",g);const y={Mut:"courage",Kreativitt:"creativity",Empathie:"empathy",Intelligenz:"intelligence",Sozialitt:"strength",Energie:"adventure"},v=p.map(A=>({trait:y[A.trait]||A.trait.toLowerCase(),change:A.change}));console.log(" Sending personality changes to backend:",v);const j=await e.avatar.updatePersonality({id:h,changes:v,storyId:g});return console.log(" Backend personality update successful:",j),window.dispatchEvent(new CustomEvent("personalityUpdated",{detail:{avatarId:h,updatedTraits:j.updatedTraits}})),{success:!0,updatedTraits:j.updatedTraits,appliedChanges:j.appliedChanges}}catch(y){return console.error(" Error updating personality:",y),{success:!1,error:y}}finally{s(!1)}},[e]),c=b.useCallback(async h=>{try{s(!0),console.log(" Getting memories from database for avatar:",h);const p=await e.avatar.getMemories(h);return console.log(" Retrieved memories from database:",p.memories.length),p.memories}catch(p){return console.error(" Error getting memories:",p),[]}finally{s(!1)}},[e]),u=b.useCallback(async(h,p,m,g,y)=>{try{s(!0),console.log("Processing story response for personality development:",{avatarId:h,storyId:p,storyTitle:m,userChoice:g,storyContext:y});const v=BI(g,y),j={storyId:p,storyTitle:m,experience:II(g,v),emotionalImpact:v.emotionalImpact,personalityChanges:v.personalityChanges},A=await r(h,j),k=await i(h,v.personalityChanges,`Story choice in "${m}"`,p);return{success:A.success&&k.success,memoryId:A.memoryId,personalityChanges:v.personalityChanges}}catch(v){return console.error("Error processing story response:",v),{success:!1,error:v}}finally{s(!1)}},[r,i]);return{addMemory:r,updatePersonality:i,getMemories:c,processStoryResponse:u,loading:t}};function BI(e,t){const s=[];let r="neutral";const i=e.toLowerCase();return t.toLowerCase(),console.log(" Analyzing choice for personality:",e,t),i.includes("story_completed")&&(s.push({trait:"Kreativitt",change:2}),s.push({trait:"Empathie",change:1}),r="positive",console.log(" Story completion detected - adding creativity and empathy boost")),(i.includes("hilf")||i.includes("helfen"))&&(s.push({trait:"Empathie",change:3}),s.push({trait:"Sozialitt",change:2}),r="positive"),(i.includes("mutig")||i.includes("kmpf"))&&(s.push({trait:"Mut",change:4}),s.push({trait:"Energie",change:2}),r="positive"),(i.includes("denk")||i.includes("berlege"))&&(s.push({trait:"Intelligenz",change:3}),s.push({trait:"Kreativitt",change:1}),r="positive"),(i.includes("kreativ")||i.includes("neue idee"))&&(s.push({trait:"Kreativitt",change:5}),s.push({trait:"Intelligenz",change:2}),r="positive"),{personalityChanges:s,emotionalImpact:r}}function II(e,t){const s=[`Ich habe mich entschieden: "${e}" - Das hat meine Sichtweise verndert.`,`Meine Wahl "${e}" hat mir neue Erkenntnisse gebracht.`,`Durch meine Entscheidung "${e}" habe ich etwas ber mich gelernt.`,`Die Erfahrung mit "${e}" wird mich weiter begleiten.`];return s[Math.floor(Math.random()*s.length)]}const Wd=[{id:"knowledge",icon:"",labels:{de:"Wissen",en:"Knowledge",ru:""}},{id:"creativity",icon:"",labels:{de:"Kreativitt",en:"Creativity",ru:""}},{id:"vocabulary",icon:"",labels:{de:"Wortschatz",en:"Vocabulary",ru:" "}},{id:"courage",icon:"",labels:{de:"Mut",en:"Courage",ru:""}},{id:"curiosity",icon:"",labels:{de:"Neugier",en:"Curiosity",ru:""}},{id:"teamwork",icon:"",labels:{de:"Teamgeist",en:"Teamwork",ru:" "}},{id:"empathy",icon:"",labels:{de:"Empathie",en:"Empathy",ru:""}},{id:"persistence",icon:"",labels:{de:"Ausdauer",en:"Persistence",ru:""}},{id:"logic",icon:"",labels:{de:"Logik",en:"Logic",ru:""}}],pd=(e,t="de")=>{const s=Wd.find(r=>r.id===e);return s?s.labels[t]:e},Sg=e=>{const t=Wd.find(s=>s.id===e);return t?t.icon:""},yC=e=>{const t={physik:"",physics:"",biologie:"",biology:"",geschichte:"",history:"",geografie:"",geography:"",astronomie:"",astronomy:"",mathematik:"",mathematics:"",chemie:"",chemistry:"",malen:"",painting:"",musik:"",music:"",geschichten:"",storytelling:"",basteln:"",crafting:"",deutsch:"",german:"",englisch:"",english:"",franzsisch:"",french:"",fachbegriffe:"",technical:""},s=e.toLowerCase();return t[s]||""},Bi=(e,t)=>{var r;return((r={biology:{de:"Biologie",en:"Biology",ru:""},history:{de:"Geschichte",en:"History",ru:""},physics:{de:"Physik",en:"Physics",ru:""},geography:{de:"Geographie",en:"Geography",ru:""},astronomy:{de:"Astronomie",en:"Astronomy",ru:""},mathematics:{de:"Mathematik",en:"Mathematics",ru:""},chemistry:{de:"Chemie",en:"Chemistry",ru:""}}[e])==null?void 0:r[t])||e.charAt(0).toUpperCase()+e.slice(1)},xC=e=>{console.log(" convertBackendTraitsToFrontend - input:",e);const t=[];return["knowledge","creativity","vocabulary","courage","curiosity","teamwork","empathy","persistence","logic"].forEach(r=>{if(e[r]){const i=e[r];if(typeof i=="object"&&i!==null){let c=i.value||0;i.subcategories?(console.log(` Found subcategories for ${r}:`,i.subcategories),Object.entries(i.subcategories).forEach(([u,h])=>{const p=Number(h)||0;console.log(`   Adding subcategory: ${r}.${u} = ${p}`),t.push({traitId:r,subcategory:u,value:p,reason:p>0?`${Bi(u,"de")}: ${p} Punkte`:`Noch keine Punkte in ${Bi(u,"de")}`})})):console.log(` No subcategories found for ${r}`),t.push({traitId:r,value:c,reason:c>0?`Gesamt ${pd(r,"de")}: ${c} Punkte`:`Noch keine ${pd(r,"de")} entwickelt`})}else{const c=Number(i)||0;t.push({traitId:r,value:c,reason:""})}}else t.push({traitId:r,value:0,reason:""})}),t},Vy=e=>e.map(t=>{if(t.traitId.includes(".")){const[s,r]=t.traitId.split(".");return{...t,traitId:s,subcategory:r}}return t}),vC=e=>{const t=Vy(e),s=Wd.map(r=>({...r,subcategories:[]}));return t.forEach(r=>{var i;if(r.subcategory){const c=s.find(u=>u.id===r.traitId);c&&!((i=c.subcategories)!=null&&i.find(u=>u.id===r.subcategory))&&(c.subcategories=c.subcategories||[],c.subcategories.push({id:r.subcategory,parentId:r.traitId,icon:yC(r.subcategory),labels:{de:Bi(r.subcategory,"de"),en:Bi(r.subcategory,"en"),ru:Bi(r.subcategory,"ru")}}))}}),s},bC={adventure:["courage","persistence"],mystery:["logic","curiosity"],fantasy:["creativity","curiosity"],friendship:["empathy","teamwork"],learning:["knowledge","curiosity"],comedy:["creativity","empathy"]},wC=e=>bC[e]||["curiosity"],G7=Object.freeze(Object.defineProperty({__proto__:null,STORY_TRAIT_MAPPING:bC,TRAIT_CATEGORIES:Wd,buildDynamicCategories:vC,convertBackendTraitsToFrontend:xC,getSubcategoryIcon:yC,getSubcategoryLabel:Bi,getTraitIcon:Sg,getTraitLabel:pd,getTraitsForStory:wC,normalizeTraitValues:Vy},Symbol.toStringTag,{value:"Module"})),FI=({traits:e,memories:t=[],language:s="de",onReduceTrait:r})=>{const[i,c]=b.useState({}),u=E=>{c(C=>({...C,[E]:!C[E]}))},h=Vy(e),p=(E,C)=>{const R=h.filter(D=>D.traitId===E);if(C){const D=R.find(P=>P.subcategory===C);return(D==null?void 0:D.value)||0}const N=R.find(D=>!D.subcategory);return(N==null?void 0:N.value)||0},m=(E,C)=>{const R=C?`${E}.${C}`:E,N=new Date;return N.setDate(N.getDate()-7),t.some(D=>new Date(D.createdAt)>N&&D.personalityChanges.some(M=>M.trait===R))},g=(E,C)=>{const R=C?`${E}.${C}`:E;if(p(E,C)<=0)return[];const D=[];return t.forEach(P=>{P.personalityChanges.forEach(M=>{if(M.trait===R&&M.description){const U=P.storyTitle.length>30?P.storyTitle.substring(0,30)+"...":P.storyTitle;D.push(`${M.description} (${U})`)}})}),D.slice(-3)},y=E=>E>=80?"bg-green-500":E>=60?"bg-blue-500":E>=40?"bg-yellow-500":"bg-gray-400",v=E=>E>=80?"text-green-700":E>=60?"text-blue-700":E>=40?"text-yellow-700":"text-gray-700",j=(E,C)=>{const R=p(C,E.id),N=m(C,E.id),D=g(C,E.id);return R===0?null:o.jsxs("div",{className:"ml-6 py-3 border-l-2 pl-4 border-blue-100",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-lg",children:E.icon}),o.jsx("span",{className:"font-medium text-gray-700",children:E.labels[s]}),N&&o.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:" Neu"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full transition-all ${y(R)}`,style:{width:`${Math.min(R,100)}%`}})}),o.jsx("span",{className:`text-sm font-semibold min-w-[2rem] ${v(R)}`,children:R}),r&&R>0&&o.jsx("button",{onClick:()=>{const P=`${C}.${E.id}`,M=Math.min(5,R);r(P,M,`Manuelle Reduzierung von ${E.labels[s]}`)},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:`${E.labels[s]} reduzieren (-5)`,children:""})]})]}),D.length>0&&o.jsx("div",{className:"text-xs text-gray-600 mt-2",children:o.jsxs("div",{className:"flex items-start gap-1",children:[o.jsx(Pm,{className:"w-3 h-3 mt-0.5 text-blue-500"}),o.jsx("div",{children:D.map((P,M)=>o.jsxs("div",{className:"mb-1",children:[" ",P]},M))})]})})]},E.id)},A=E=>{const C=E.subcategories&&E.subcategories.length>0,R=i[E.id],N=p(E.id),D=C?E.subcategories.some(M=>m(E.id,M.id)):m(E.id),P=g(E.id);return o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:`p-4 rounded-lg border-2 transition-all ${C?"cursor-pointer hover:border-purple-300 bg-gradient-to-r from-purple-50 to-blue-50":"bg-gray-50"}`,onClick:C?()=>u(E.id):void 0,children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[C&&(R?o.jsx(pk,{className:"w-5 h-5 text-gray-500"}):o.jsx(Rd,{className:"w-5 h-5 text-gray-500"})),o.jsx("span",{className:"text-xl",children:E.icon}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:E.labels[s]}),C&&o.jsxs("p",{className:"text-sm text-gray-600",children:[E.subcategories.filter(M=>p(E.id,M.id)>0).length," Unterbereiche"]})]}),D&&o.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:" Fortschritt"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:`h-3 rounded-full transition-all ${y(N)}`,style:{width:`${Math.min(N,100)}%`}})}),o.jsx("span",{className:`text-lg font-bold min-w-[2.5rem] ${v(N)}`,children:N}),r&&N>0&&o.jsx("button",{onClick:()=>{const M=Math.min(5,N);r(E.id,M,`Manuelle Reduzierung von ${E.labels[s]}`)},className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-1 rounded transition-colors",title:`${E.labels[s]} reduzieren (-5)`,children:""})]})]}),(!C||!R)&&P.length>0&&o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Pm,{className:"w-4 h-4 mt-0.5 text-blue-500"}),o.jsxs("div",{className:"text-sm text-gray-700",children:[o.jsx("p",{className:"font-medium mb-1",children:"Erhalten fr:"}),P.map((M,U)=>o.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[" ",M]},U))]})]})})]}),C&&R&&o.jsxs("div",{className:"mt-2 bg-white rounded-lg border border-gray-200 p-3",children:[E.subcategories.map(M=>j(M,E.id)).filter(M=>M!==null),P.length>0&&o.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(Pm,{className:"w-4 h-4 mt-0.5 text-blue-500"}),o.jsxs("div",{className:"text-sm text-gray-700",children:[o.jsx("p",{className:"font-medium mb-1",children:"Allgemein erhalten fr:"}),P.map((M,U)=>o.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[" ",M]},U))]})]})})]})]},E.id)},k=vC(h);return console.log(" HierarchicalTraitDisplay - normalized traits:",h),console.log(" HierarchicalTraitDisplay - dynamic categories:",k),console.log(" HierarchicalTraitDisplay - memories for descriptions:",t),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:" Persnlichkeitsentwicklung"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Eigenschaften entwickeln sich durch Geschichten, Dokus und Quizzes"})]}),k.map(A),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[o.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:" Hinweis"}),o.jsx("p",{className:"text-sm text-blue-700",children:"Die KI erstellt automatisch Unterbereiche basierend auf den Inhalten der Geschichten und Dokus. Beschreibungen zeigen, wofr die Punkte erhalten wurden."})]})]})},VI=({memories:e,onDeleteMemory:t})=>{const s=c=>{switch(c){case"positive":return"#10B981";case"negative":return"#EF4444";default:return"#6B7280"}},r=c=>{switch(c){case"positive":return"";case"negative":return"";default:return""}},i=[...e].sort((c,u)=>new Date(u.createdAt||u.timestamp||0).getTime()-new Date(c.createdAt||c.timestamp||0).getTime());return o.jsxs("div",{className:"space-y-4",children:[i.map((c,u)=>o.jsx(Se,{delay:u*100,children:o.jsxs("div",{className:"relative",children:[u<i.length-1&&o.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-16 bg-gray-200",style:{zIndex:0}}),o.jsxs("div",{className:"flex space-x-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-lg relative z-10",style:{backgroundColor:s(c.emotionalImpact),boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:r(c.emotionalImpact)}),o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-100 shadow-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-800 flex items-center",children:[o.jsx(gn,{className:"w-4 h-4 mr-2 text-purple-500"}),c.storyTitle]}),o.jsxs("div",{className:"flex items-center text-xs text-gray-500 mt-1",children:[o.jsx(pD,{className:"w-3 h-3 mr-1"}),new Date(c.createdAt||c.timestamp||0).toLocaleDateString("de-DE")]})]}),o.jsx("button",{onClick:()=>t(c.id),className:"text-red-500 hover:text-red-700 hover:bg-red-50 p-2 rounded-full transition-colors",title:"Erinnerung lschen",children:""})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:c.experience}),c.personalityChanges&&c.personalityChanges.length>0&&o.jsxs("div",{className:"border-t border-gray-100 pt-3",children:[o.jsxs("div",{className:"text-xs text-gray-500 mb-2 flex items-center",children:[o.jsx(ey,{className:"w-3 h-3 mr-1"}),"Persnlichkeitsvernderungen:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:c.personalityChanges.map((h,p)=>o.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium",style:{backgroundColor:h.change>0?"#10B98120":"#EF444420",color:h.change>0?"#10B981":"#EF4444"},children:[h.trait," ",h.change>0?"+":"",h.change]},p))})]})]})})]})]})},c.id)),e.length===0&&o.jsx(Se,{delay:0,children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Dr,{className:"w-8 h-8 text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"Noch keine Erinnerungen"}),o.jsx("p",{className:"text-gray-500 max-w-sm mx-auto",children:"Sobald dein Avatar in Geschichten teilnimmt, werden hier seine Erfahrungen und Entwicklung sichtbar."})]})})]})},HI=()=>{const{avatarId:e}=Pa(),t=Gt(),{isSignedIn:s,getToken:r}=vr(),i=yt(),{getMemories:c}=gC(),[u,h]=b.useState(null),[p,m]=b.useState([]),[g,y]=b.useState(!0),[v,j]=b.useState(!1),[A,k]=b.useState("personality"),E=[{trait:"Mut",value:50,history:[]},{trait:"Kreativitt",value:50,history:[]},{trait:"Empathie",value:50,history:[]},{trait:"Intelligenz",value:50,history:[]},{trait:"Sozialitt",value:50,history:[]},{trait:"Energie",value:50,history:[]}],[C,R]=b.useState(E),[N,D]=b.useState(null);b.useEffect(()=>{(async()=>{if(!e){y(!1);return}try{y(!0);try{console.log("Loading avatar from backend API:",e);const H=await i.avatar.get(e);if(console.log("Backend avatar data:",H),H&&H.id){if(h(H),H.personalityTraits){console.log("Using backend personality traits:",H.personalityTraits),D(H.personalityTraits);const se=Object.entries(H.personalityTraits).map(([K,re])=>({trait:K.charAt(0).toUpperCase()+K.slice(1),value:re===null?0:typeof re=="object"?re.value||0:Number(re)||0,history:[]}));R(se)}}else throw new Error("Avatar not found in backend")}catch(H){console.log("Backend failed, trying localStorage fallback:",H);const se=`avatar_${e}`,K=JSON.parse(localStorage.getItem(se)||"{}");if(K.id)h(K);else{const re={id:e,userId:"local-user",name:"Mein Avatar",description:"Ein lokaler Avatar",imageUrl:void 0,creationType:"ai-generated",status:"complete",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};h(re),localStorage.setItem(se,JSON.stringify(re))}}console.log("Using only backend personality data - no localStorage lookup")}catch(H){console.error("Error in loadAvatar:",H)}finally{y(!1)}})()},[e]),b.useEffect(()=>{const W=H=>{const{avatarId:se,updatedTraits:K}=H.detail;if(se===e&&K){console.log(" Real-time backend personality update received:",K);const re=Object.entries(K).map(([Q,B])=>({trait:Q.charAt(0).toUpperCase()+Q.slice(1),value:Number(B)||50,history:[]}));R(re)}};return window.addEventListener("personalityUpdated",W),()=>{window.removeEventListener("personalityUpdated",W)}},[e]),b.useEffect(()=>{let W=!0;return(async()=>{if(e)try{j(!0),console.log("Loading memories for avatar:",e);const se=await c(e);console.log("Loaded memories:",se),W&&(m(se),console.log("Set memories state:",se.length,"memories"))}catch(se){console.error("Error loading memories:",se)}finally{W&&j(!1)}})(),()=>{W=!1}},[e]),b.useEffect(()=>{if(!e)return;const W=K=>{if(e){if(K.key===`avatar_personality_${e}`){console.log("Personality data changed for avatar:",e);const re=JSON.parse(K.newValue||"{}");re.traits&&(R(re.traits),console.log("Updated personality traits from storage event:",re.traits))}K.key===`avatar_memories_${e}`&&(console.log("Memory data changed for avatar:",e),e&&c(e).then(re=>{m(re),console.log("Updated memories from storage event:",re)}))}};window.addEventListener("storage",W);const H=K=>{K.detail.avatarId===e&&(console.log(" Received personalityUpdated event:",K.detail),R(K.detail.data.traits))};window.addEventListener("personalityUpdated",H);const se=setInterval(()=>{if(!e)return;const K=`avatar_personality_${e}`,re=JSON.parse(localStorage.getItem(K)||"{}");if(re.lastUpdated){const Q=new Date(re.lastUpdated).getTime();Date.now()-Q<5e3&&re.traits&&(console.log("Detected recent personality update, refreshing..."),R(re.traits),e&&c(e).then(L=>{m(L)}))}},2e3);return()=>{window.removeEventListener("storage",W),window.removeEventListener("personalityUpdated",H),clearInterval(se)}},[e,c]);const P=()=>{t(`/avatar/edit/${e}`)},M=async W=>{if(!e||!s){console.error("Cannot delete memory: missing avatarId or not signed in");return}try{console.log(` Deleting memory ${W} for avatar ${e}`);const H=await i.avatar.deleteMemory(e,W);if(H.success){if(console.log(" Memory deleted successfully, recalculated traits:",H.recalculatedTraits),m(se=>se.filter(K=>K.id!==W)),H.recalculatedTraits){D(H.recalculatedTraits);const se=Object.entries(H.recalculatedTraits).map(([K,re])=>({trait:K.charAt(0).toUpperCase()+K.slice(1),value:re===null?0:typeof re=="object"?re.value||0:Number(re)||0,history:[]}));R(se)}window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"success",message:" Erinnerung gelscht und Persnlichkeit neu berechnet",duration:3e3}}))}else throw new Error("Failed to delete memory")}catch(H){console.error("Error deleting memory:",H),window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"error",message:" Fehler beim Lschen der Erinnerung",duration:3e3}}))}},U=async(W,H,se)=>{if(!e||!s){console.error("Cannot reduce trait: missing avatarId or not signed in");return}try{console.log(` Reducing trait ${W} by ${H} for avatar ${e}`);const K=await i.avatar.reducePersonalityTrait(e,{trait:W,amount:H,reason:se});if(K.success){if(console.log(" Trait reduced successfully:",K.reduction),K.updatedTraits){D(K.updatedTraits);const re=Object.entries(K.updatedTraits).map(([Q,B])=>({trait:Q.charAt(0).toUpperCase()+Q.slice(1),value:B===null?0:typeof B=="object"?B.value||0:Number(B)||0,history:[]}));R(re)}window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"success",message:` ${K.reduction.trait}: ${K.reduction.oldValue}  ${K.reduction.newValue} (-${K.reduction.amountReduced})`,duration:3e3}}))}else throw new Error("Failed to reduce trait")}catch(K){console.error("Error reducing trait:",K),window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"error",message:" Fehler beim Reduzieren der Eigenschaft",duration:3e3}}))}},_=async()=>{if(!e||!s){console.error("Cannot reset doku history: missing avatarId or not signed in");return}try{console.log(` Resetting doku history for avatar ${e}`);const W=await i.avatar.resetDokuHistory(e,{dokuId:void 0});if(W.success)console.log(" Doku history reset successfully:",W.message),window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"success",message:` ${W.message}`,duration:3e3}}));else throw new Error("Failed to reset doku history")}catch(W){console.error("Error resetting doku history:",W),window.dispatchEvent(new CustomEvent("showToast",{detail:{type:"error",message:" Fehler beim Zurcksetzen der Doku-Historie",duration:3e3}}))}};if(g)return o.jsx("div",{className:"min-h-screen bg-gray-50 pb-20",children:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500"})})});if(!u)return o.jsx("div",{className:"min-h-screen bg-gray-50 pb-20",children:o.jsx("div",{className:"flex items-center justify-center min-h-screen",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Avatar nicht gefunden"}),o.jsx(Ve,{title:"Zurck",onPress:()=>t("/avatar")})]})})});const I=p;return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx(Se,{delay:0,children:o.jsx("div",{className:"bg-white border-b border-gray-200",children:o.jsxs("div",{className:"flex items-center p-4",children:[o.jsx("button",{onClick:()=>t("/avatar"),className:"p-2 rounded-full hover:bg-gray-100 transition-colors mr-3",children:o.jsx(yn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-bold text-gray-800",children:u.name}),o.jsx("p",{className:"text-gray-600 text-sm",children:u.description||"Avatar Details"})]}),o.jsx(Ve,{title:"Bearbeiten",onPress:P,variant:"outline",size:"sm"})]})})}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsx(Se,{delay:100,children:o.jsx(Ee,{variant:"glass",className:"mb-6 text-center",children:o.jsxs("div",{className:"py-8",children:[u.imageUrl?o.jsx("img",{src:u.imageUrl,alt:u.name,className:"w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-32 h-32 rounded-full mx-auto mb-4 bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-4xl font-bold shadow-lg",children:u.name.charAt(0).toUpperCase()}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-1",children:u.name}),o.jsx("p",{className:"text-gray-600",children:u.description})]})})}),o.jsx(Se,{delay:200,children:o.jsxs("div",{className:"flex bg-white rounded-xl p-1 mb-6 border border-gray-100 shadow-sm",children:[o.jsxs("button",{onClick:()=>k("personality"),className:`flex-1 flex items-center justify-center py-3 px-4 rounded-lg transition-all ${A==="personality"?"bg-purple-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(rd,{className:"w-5 h-5 mr-2"}),"Persnlichkeit"]}),o.jsxs("button",{onClick:()=>k("memories"),className:`flex-1 flex items-center justify-center py-3 px-4 rounded-lg transition-all ${A==="memories"?"bg-purple-500 text-white shadow-md":"text-gray-600 hover:bg-gray-50"}`,children:[o.jsx(gn,{className:"w-5 h-5 mr-2"}),"Erinnerungen (",I.length,")"]})]})}),o.jsxs("div",{children:[A==="personality"&&o.jsx(Se,{delay:300,children:o.jsx(Ee,{variant:"elevated",className:"mb-6",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[o.jsx(ey,{className:"w-6 h-6 mr-2 text-purple-500"}),"Persnlichkeitsentwicklung"]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Die Persnlichkeit deines Avatars entwickelt sich durch seine Erfahrungen in den Geschichten."}),o.jsxs("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[o.jsx("p",{className:"text-sm text-yellow-700 mb-3",children:o.jsx("strong",{children:"Debug-Funktionen:"})}),o.jsxs("div",{className:"flex gap-3 flex-wrap",children:[o.jsx("button",{onClick:async()=>{try{const{getBackendUrl:W}=await ft(async()=>{const{getBackendUrl:re}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:re}},void 0),H=W(),se=await r(),K=await fetch(`${H}/avatar/reset-personality-traits`,{method:"POST",headers:{"Content-Type":"application/json",...se?{Authorization:`Bearer ${se}`}:{}},credentials:"include"});if(K.ok){const re=await K.json();if(alert(` ${re.message}`),e){const Q=await i.avatar.get(e);Q&&Q.id&&(h(Q),Q.personalityTraits&&(D(Q.personalityTraits),console.log(" Updated personality traits after reset:",Q.personalityTraits)))}}else{const re=await K.text();alert(` Error: ${re}`)}}catch(W){console.error("Reset error:",W),alert(` Network error: ${W}`)}},className:"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700",children:" Persnlichkeit auf 0"}),o.jsx("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:" Doku-Historie zurcksetzen"})]}),o.jsx("p",{className:"text-xs text-yellow-600 mt-2",children:"Doku-Historie zurcksetzen ermglicht das erneute Lesen von Dokus fr Persnlichkeitsentwicklung."})]}),o.jsx(FI,{traits:N?(()=>{console.log(" Raw personality traits from backend:",N);const W=xC(N);return console.log(" Converted traits for display:",W),W})():[],memories:p.map(W=>({personalityChanges:W.personalityChanges,storyTitle:W.storyTitle,createdAt:W.createdAt||W.timestamp||""})),onReduceTrait:U})]})})}),A==="memories"&&o.jsx(Se,{delay:300,children:o.jsx(Ee,{variant:"elevated",className:"mb-6",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[o.jsx(gn,{className:"w-6 h-6 mr-2 text-purple-500"}),"Erinnerungen & Erfahrungen"]}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Hier siehst du alle Erfahrungen und Erinnerungen deines Avatars aus seinen Geschichtenabenteuern."}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500 mx-auto"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Lade Erinnerungen..."})]}):o.jsx(VI,{memories:I,onDeleteMemory:M})]})})})]})]})]})},GI=({selectedAvatarIds:e,onSelectionChange:t,storyType:s})=>{const[r,i]=b.useState([]),[c,u]=b.useState(!0),h=yt(),{user:p}=Yi();b.useEffect(()=>{p&&m()},[p]);const m=async()=>{try{const v=await h.avatar.list();i(v.avatars)}catch(v){console.error("Error loading avatars:",v)}finally{u(!1)}},g=v=>{e.includes(v)?t(e.filter(A=>A!==v)):e.length<3&&t([...e,v])};if(c)return o.jsx(Se,{children:o.jsxs(Ee,{variant:"elevated",className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Lade Avatare..."})]})});if(r.length===0)return o.jsx(Se,{children:o.jsxs(Ee,{variant:"elevated",className:"text-center py-8",children:[o.jsx(gs,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Keine Avatare gefunden"}),o.jsx("p",{className:"text-gray-600",children:"Du musst zuerst einen Avatar erstellen, bevor du eine Geschichte schreiben kannst."})]})});const y=s?wC(s):[];return o.jsx(Se,{children:o.jsxs("div",{className:"space-y-6",children:[y.length>0&&o.jsxs(Ee,{variant:"elevated",className:"bg-blue-50 border-blue-200",children:[o.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-800",children:" Story-Modus"}),o.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Story-Typ bestimmt welche Eigenschaften entwickelt werden:"}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:y.map(v=>o.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:[o.jsx("span",{children:Sg(v)}),o.jsx("span",{children:pd(v,"de")})]},v))}),o.jsxs("div",{className:"text-xs space-y-1 text-blue-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Mitspieler:"})," Erhalten volle Punkte (+3)"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Beobachter:"})," Erhalten weniger Punkte (+1)"]})]})]}),o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Whle deine Mitspieler"}),o.jsx("p",{className:"text-gray-600 text-center mb-4",children:"Bis zu 3 Avatare knnen aktiv mitspielen, andere beobachten"}),o.jsx("div",{className:"text-center mb-6",children:o.jsxs("span",{className:"text-purple-600 font-semibold",children:[e.length," von 3 Mitspieler ausgewhlt"]})}),o.jsx("div",{className:"grid grid-cols-1 gap-3",children:r.map((v,j)=>{const A=e.includes(v.id);return o.jsx(Se,{delay:100+j*50,children:o.jsx("button",{onClick:()=>g(v.id),className:`w-full p-4 rounded-lg border-2 transition-all ${A?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50 hover:border-purple-300"}`,children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center overflow-hidden ${A?"bg-green-100":"bg-gray-100"}`,children:v.imageUrl?o.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-full object-cover"}):o.jsx("span",{className:"text-2xl",children:v.creationType==="ai-generated"?"":""})}),o.jsx("div",{className:`absolute -top-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold text-white ${A?"bg-green-500":"bg-gray-400"}`,children:A?o.jsx(na,{className:"w-4 h-4"}):o.jsx(PD,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("h3",{className:`font-semibold text-lg ${A?"text-green-700":"text-gray-800"}`,children:v.name}),o.jsxs("div",{className:"text-sm space-y-1",children:[o.jsx("p",{className:`font-medium ${A?"text-green-600":"text-gray-500"}`,children:A?" Mitspieler":" Beobachter"}),y.length>0&&o.jsxs("p",{className:`text-xs ${A?"text-green-600":"text-gray-500"}`,children:["Erhlt ",A?"+3":"+1"," Punkte in: ",y.map(k=>Sg(k)).join(" ")]})]})]})]})})},v.id)})}),o.jsx("div",{className:"mt-4 text-center text-sm text-gray-500",children:e.length===0&&o.jsx("p",{className:"text-amber-600",children:" Mindestens einen Mitspieler auswhlen"})})]})]})})},WI=({genre:e,setting:t,onGenreChange:s,onSettingChange:r})=>{const i=[{key:"adventure",label:"Abenteuer",icon:"",description:"Spannende Reisen und Entdeckungen"},{key:"fantasy",label:"Fantasy",icon:"",description:"Magische Welten und Zauberei"},{key:"mystery",label:"Geheimnis",icon:"",description:"Rtsel und geheimnisvolle Ereignisse"},{key:"friendship",label:"Freundschaft",icon:"",description:"Geschichten ber Zusammenhalt"},{key:"learning",label:"Lernen",icon:"",description:"Bildende und lehrreiche Inhalte"},{key:"comedy",label:"Komdie",icon:"",description:"Lustige und humorvolle Geschichten"}],c=[{key:"forest",label:"Zauberwald",icon:"",description:"Mystische Wlder voller Geheimnisse"},{key:"castle",label:"Schloss",icon:"",description:"Knigliche Palste und Burgen"},{key:"ocean",label:"Unterwasserwelt",icon:"",description:"Tiefen des Ozeans erkunden"},{key:"space",label:"Weltraum",icon:"",description:"Abenteuer zwischen den Sternen"},{key:"city",label:"Moderne Stadt",icon:"",description:"Urbane Abenteuer und Entdeckungen"},{key:"village",label:"Mrchendorf",icon:"",description:"Gemtliche Dorfgemeinschaften"}];return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Se,{delay:100,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Genre whlen"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Welche Art von Geschichte soll es werden?"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map((u,h)=>o.jsx(Se,{delay:150+h*50,children:o.jsxs("button",{onClick:()=>s(u.key),className:`p-4 rounded-lg border-2 transition-colors text-center ${e===u.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-2xl mb-2 block",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e===u.key?"text-purple-700":"text-gray-800"}`,children:u.label}),o.jsx("p",{className:`text-xs ${e===u.key?"text-purple-600":"text-gray-600"}`,children:u.description})]})},u.key))})]})}),o.jsx(Se,{delay:200,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Schauplatz whlen"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Wo soll deine Geschichte stattfinden?"}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:c.map((u,h)=>o.jsx(Se,{delay:250+h*50,children:o.jsxs("button",{onClick:()=>r(u.key),className:`p-4 rounded-lg border-2 transition-colors text-center ${t===u.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-2xl mb-2 block",children:u.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${t===u.key?"text-purple-700":"text-gray-800"}`,children:u.label}),o.jsx("p",{className:`text-xs ${t===u.key?"text-purple-600":"text-gray-600"}`,children:u.description})]})},u.key))})]})})]})},qI=({length:e,complexity:t,ageGroup:s,aiModel:r,onLengthChange:i,onComplexityChange:c,onAgeGroupChange:u,onAiModelChange:h})=>{const p=[{key:"short",label:"Kurz",icon:"",description:"3-5 Kapitel, ~10 Min."},{key:"medium",label:"Mittel",icon:"",description:"5-8 Kapitel, ~20 Min."},{key:"long",label:"Lang",icon:"",description:"8-12 Kapitel, ~30 Min."}],m=[{key:"simple",label:"Einfach",icon:"",description:"Leichte Sprache, einfache Handlung"},{key:"medium",label:"Mittel",icon:"",description:"Ausgewogene Komplexitt"},{key:"complex",label:"Komplex",icon:"",description:"Vielschichtige Handlung"}],g=[{key:"3-5",label:"3-5 Jahre",icon:"",description:"Vorschulkinder"},{key:"6-8",label:"6-8 Jahre",icon:"",description:"Grundschulkinder"},{key:"9-12",label:"9-12 Jahre",icon:"",description:"Schulkinder"},{key:"13+",label:"13+ Jahre",icon:"",description:"Jugendliche"}],y=[{key:"gpt-5-nano",label:"GPT-5 Nano",icon:"",description:"$0.05/1M - Schnell & gnstig",cost:"$0.05"},{key:"gpt-5-mini",label:"GPT-5 Mini",icon:"",description:"$0.25/1M - Empfohlen",cost:"$0.25",recommended:!0},{key:"gpt-5",label:"GPT-5",icon:"",description:"$1.25/1M - Beste Qualitt",cost:"$1.25"},{key:"gpt-4.1-nano",label:"GPT-4.1 Nano",icon:"",description:"$0.20/1M - Sehr gnstig",cost:"$0.20"},{key:"gpt-4.1-mini",label:"GPT-4.1 Mini",icon:"",description:"$0.80/1M - GPT-4 Qualitt",cost:"$0.80"},{key:"gpt-4.1",label:"GPT-4.1",icon:"",description:"$3.00/1M - Premium",cost:"$3.00"},{key:"o4-mini",label:"o4 Mini",icon:"",description:"$4.00/1M - Reasoning",cost:"$4.00"},{key:"gpt-5-pro",label:"GPT-5 Pro",icon:"",description:"$15/1M - Hchste Qualitt",cost:"$15.00"}],v=(j,A,k,E,C,R)=>o.jsx(Se,{delay:R,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:j}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:A}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:k.map((N,D)=>o.jsx(Se,{delay:R+50+D*30,children:o.jsxs("button",{onClick:()=>C(N.key),className:`p-3 rounded-lg border-2 transition-colors text-center ${E===N.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-xl mb-2 block",children:N.icon}),o.jsx("h3",{className:`font-semibold text-sm mb-1 ${E===N.key?"text-purple-700":"text-gray-800"}`,children:N.label}),o.jsx("p",{className:`text-xs ${E===N.key?"text-purple-600":"text-gray-600"}`,children:N.description})]})},N.key))})]})});return o.jsxs("div",{className:"space-y-6",children:[v("Geschichtenlnge","Wie lang soll deine Geschichte werden?",p,e,i,100),v("Komplexitt","Wie komplex soll die Handlung sein?",m,t,c,200),v("Altersgruppe","Fr welche Altersgruppe ist die Geschichte?",g,s,u,300),o.jsx(Se,{delay:400,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:" AI Model"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Whle das KI-Modell fr die Story-Generierung"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:y.map((j,A)=>o.jsx(Se,{delay:450+A*30,children:o.jsxs("button",{onClick:()=>h(j.key),className:`p-3 rounded-lg border-2 transition-colors text-center relative ${r===j.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[j.recommended&&o.jsx("div",{className:"absolute top-1 right-1 bg-green-500 text-white text-xs px-1.5 py-0.5 rounded",children:""}),o.jsx("span",{className:"text-2xl mb-1 block",children:j.icon}),o.jsx("h3",{className:`font-semibold text-xs mb-1 ${r===j.key?"text-purple-700":"text-gray-800"}`,children:j.label}),o.jsx("p",{className:`text-xs ${r===j.key?"text-purple-600":"text-gray-600"}`,children:j.description})]})},j.key))})]})})]})},KI=({learningMode:e,onLearningModeChange:t})=>{const[s,r]=b.useState(""),i=[{key:"math",label:"Mathematik",icon:""},{key:"science",label:"Naturwissenschaften",icon:""},{key:"language",label:"Sprache",icon:""},{key:"history",label:"Geschichte",icon:""},{key:"geography",label:"Geografie",icon:""},{key:"social",label:"Soziales Lernen",icon:""}],c=[{key:"beginner",label:"Anfnger",icon:"",description:"Grundlagen vermitteln"},{key:"intermediate",label:"Fortgeschritten",icon:"",description:"Wissen vertiefen"},{key:"advanced",label:"Experte",icon:"",description:"Komplexe Konzepte"}],u=[{key:"quiz",label:"Quiz",icon:"",description:"Fragen am Ende"},{key:"interactive",label:"Interaktiv",icon:"",description:"Whrend der Geschichte"},{key:"discussion",label:"Diskussion",icon:"",description:"Gesprchsanregungen"}],h=()=>{e!=null&&e.enabled?t(void 0):t({enabled:!0,subjects:[],difficulty:"beginner",learningObjectives:[],assessmentType:"quiz"})},p=v=>{e&&t({...e,...v})},m=v=>{if(!e)return;const j=e.subjects.includes(v)?e.subjects.filter(A=>A!==v):[...e.subjects,v];p({subjects:j})},g=()=>{if(!e||!s.trim())return;const v=[...e.learningObjectives,s.trim()];p({learningObjectives:v}),r("")},y=v=>{if(!e)return;const j=e.learningObjectives.filter((A,k)=>k!==v);p({learningObjectives:j})};return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Se,{delay:100,children:o.jsx(Ee,{variant:"elevated",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-1",children:"Lernmodus aktivieren"}),o.jsx("p",{className:"text-gray-600",children:"Integriere Bildungsinhalte in deine Geschichte"})]}),o.jsx("button",{onClick:h,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors ${e!=null&&e.enabled?"bg-purple-600":"bg-gray-300"}`,children:o.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform ${e!=null&&e.enabled?"translate-x-7":"translate-x-1"}`})})]})})}),(e==null?void 0:e.enabled)&&o.jsxs(o.Fragment,{children:[o.jsx(Se,{delay:200,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Fcher auswhlen"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Welche Themen sollen behandelt werden?"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map((v,j)=>o.jsx(Se,{delay:250+j*50,children:o.jsxs("button",{onClick:()=>m(v.key),className:`p-3 rounded-lg border-2 transition-colors text-center ${e.subjects.includes(v.key)?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-xl mb-2 block",children:v.icon}),o.jsx("h3",{className:`font-medium text-sm ${e.subjects.includes(v.key)?"text-purple-700":"text-gray-800"}`,children:v.label})]})},v.key))})]})}),o.jsx(Se,{delay:300,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-6",children:"Schwierigkeitsgrad"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:c.map((v,j)=>o.jsx(Se,{delay:350+j*50,children:o.jsxs("button",{onClick:()=>p({difficulty:v.key}),className:`p-4 rounded-lg border-2 transition-colors text-center ${e.difficulty===v.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-2xl mb-2 block",children:v.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e.difficulty===v.key?"text-purple-700":"text-gray-800"}`,children:v.label}),o.jsx("p",{className:`text-xs ${e.difficulty===v.key?"text-purple-600":"text-gray-600"}`,children:v.description})]})},v.key))})]})}),o.jsx(Se,{delay:400,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Lernziele"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Was soll gelernt werden? (optional)"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("input",{type:"text",value:s,onChange:v=>r(v.target.value),placeholder:"Neues Lernziel hinzufgen...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),o.jsx("button",{onClick:g,disabled:!s.trim(),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:o.jsx(Zg,{className:"w-4 h-4"})})]}),e.learningObjectives.length>0&&o.jsx("div",{className:"space-y-2",children:e.learningObjectives.map((v,j)=>o.jsx(Se,{delay:450+j*50,children:o.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-100 rounded-lg",children:[o.jsx("span",{className:"flex-1 text-gray-700",children:v}),o.jsx("button",{onClick:()=>y(j),className:"p-1 text-red-500 hover:bg-red-100 rounded",children:o.jsx(_d,{className:"w-4 h-4"})})]})},j))})]})}),o.jsx(Se,{delay:500,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-6",children:"Bewertungsart"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:u.map((v,j)=>o.jsx(Se,{delay:550+j*50,children:o.jsxs("button",{onClick:()=>p({assessmentType:v.key}),className:`p-4 rounded-lg border-2 transition-colors text-center ${e.assessmentType===v.key?"border-purple-500 bg-purple-50":"border-gray-300 hover:border-purple-300"}`,children:[o.jsx("span",{className:"text-2xl mb-2 block",children:v.icon}),o.jsx("h3",{className:`font-semibold mb-1 ${e.assessmentType===v.key?"text-purple-700":"text-gray-800"}`,children:v.label}),o.jsx("p",{className:`text-xs ${e.assessmentType===v.key?"text-purple-600":"text-gray-600"}`,children:v.description})]})},v.key))})]})})]})]})},SC=b.createContext(void 0),jC=b.createContext(void 0);function qd(){const e=b.useContext(SC);if(!e)throw new Error("useStepper must be used within a Stepper");return e}function Wi(){const e=b.useContext(jC);if(!e)throw new Error("useStepItem must be used within a StepperItem");return e}function YI({defaultValue:e=1,value:t,onValueChange:s,orientation:r="horizontal",className:i,children:c,indicators:u={},...h}){const[p,m]=b.useState(e),[g,y]=b.useState([]),v=b.useCallback(P=>{y(M=>P&&!M.includes(P)?[...M,P]:!P&&M.includes(P)?M.filter(U=>U!==P):M)},[]),j=b.useCallback(P=>{t===void 0&&m(P),s==null||s(P)},[t,s]),A=t??p,k=P=>{g[P]&&g[P].focus()},E=P=>k((P+1)%g.length),C=P=>k((P-1+g.length)%g.length),R=()=>k(0),N=()=>k(g.length-1),D=b.useMemo(()=>({activeStep:A,setActiveStep:j,stepsCount:b.Children.toArray(c).filter(P=>b.isValidElement(P)&&P.type.displayName==="StepperItem").length,orientation:r,registerTrigger:v,focusNext:E,focusPrev:C,focusFirst:R,focusLast:N,triggerNodes:g,indicators:u}),[A,j,c,r,v,g]);return o.jsx(SC.Provider,{value:D,children:o.jsx("div",{role:"tablist","aria-orientation":r,"data-slot":"stepper",className:xn("w-full",i),"data-orientation":r,...h,children:c})})}function kC({step:e,completed:t=!1,disabled:s=!1,loading:r=!1,className:i,children:c,...u}){const{activeStep:h}=qd(),p=t||e<h?"completed":h===e?"active":"inactive",m=r&&e===h;return o.jsx(jC.Provider,{value:{step:e,state:p,isDisabled:s,isLoading:m},children:o.jsx("div",{"data-slot":"stepper-item",className:xn("group/step flex items-center justify-center group-data-[orientation=horizontal]/stepper-nav:flex-row group-data-[orientation=vertical]/stepper-nav:flex-col not-last:flex-1",i),"data-state":p,...m?{"data-loading":!0}:{},...u,children:c})})}kC.displayName="StepperItem";function JI({asChild:e=!1,className:t,children:s,tabIndex:r,...i}){const{state:c,isLoading:u}=Wi(),h=qd(),{setActiveStep:p,activeStep:m,registerTrigger:g,triggerNodes:y,focusNext:v,focusPrev:j,focusFirst:A,focusLast:k}=h,{step:E,isDisabled:C}=Wi(),R=m===E,N=`stepper-tab-${E}`,D=`stepper-panel-${E}`,P=b.useRef(null);b.useEffect(()=>{P.current&&g(P.current)},[P.current]);const M=b.useMemo(()=>y.findIndex(_=>_===P.current),[y,P.current]),U=_=>{switch(_.key){case"ArrowRight":case"ArrowDown":_.preventDefault(),M!==-1&&v&&v(M);break;case"ArrowLeft":case"ArrowUp":_.preventDefault(),M!==-1&&j&&j(M);break;case"Home":_.preventDefault(),A&&A();break;case"End":_.preventDefault(),k&&k();break;case"Enter":case" ":_.preventDefault(),p(E);break}};return e?o.jsx("span",{"data-slot":"stepper-trigger","data-state":c,className:t,children:s}):o.jsx("button",{ref:P,role:"tab",id:N,"aria-selected":R,"aria-controls":D,tabIndex:typeof r=="number"?r:R?0:-1,"data-slot":"stepper-trigger","data-state":c,"data-loading":u,className:xn("cursor-pointer focus-visible:border-ring focus-visible:ring-ring/50 inline-flex items-center gap-3 rounded-full outline-none focus-visible:z-10 focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-60",t),onClick:()=>p(E),onKeyDown:U,disabled:C,...i,children:s})}function XI({children:e,className:t}){const{state:s,isLoading:r}=Wi(),{indicators:i}=qd();return o.jsx("div",{"data-slot":"stepper-indicator","data-state":s,className:xn("relative flex items-center overflow-hidden justify-center size-6 shrink-0 border-background bg-accent text-accent-foreground rounded-full text-xs data-[state=completed]:bg-primary data-[state=completed]:text-primary-foreground data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",t),children:o.jsx("div",{className:"absolute",children:i&&(r&&i.loading||s==="completed"&&i.completed||s==="active"&&i.active||s==="inactive"&&i.inactive)?r&&i.loading||s==="completed"&&i.completed||s==="active"&&i.active||s==="inactive"&&i.inactive:e})})}function ZI({className:e}){const{state:t}=Wi();return o.jsx("div",{"data-slot":"stepper-separator","data-state":t,className:xn("m-0.5 rounded-full bg-muted group-data-[orientation=vertical]/stepper-nav:h-12 group-data-[orientation=vertical]/stepper-nav:w-0.5 group-data-[orientation=horizontal]/stepper-nav:h-0.5 group-data-[orientation=horizontal]/stepper-nav:flex-1",e)})}function QI({children:e,className:t}){const{state:s}=Wi();return o.jsx("h3",{"data-slot":"stepper-title","data-state":s,className:xn("text-sm font-medium leading-none",t),children:e})}function e8({children:e,className:t}){const{state:s}=Wi();return o.jsx("div",{"data-slot":"stepper-description","data-state":s,className:xn("text-sm text-muted-foreground",t),children:e})}function t8({children:e,className:t}){const{activeStep:s,orientation:r}=qd();return o.jsx("nav",{"data-slot":"stepper-nav","data-state":s,"data-orientation":r,className:xn("group/stepper-nav inline-flex data-[orientation=horizontal]:w-full data-[orientation=horizontal]:flex-row data-[orientation=vertical]:flex-col",t),children:e})}const DS={profiles:{step:1,icon:na,title:"Avatar-Profile laden",description:"Lade visuelle Profile und Eigenschaften",estimatedTime:"2-3 Sek"},memories:{step:2,icon:rd,title:"Erinnerungen abrufen",description:"Sammle Erlebnisse und Persnlichkeitsentwicklung",estimatedTime:"2-3 Sek"},text:{step:3,icon:LD,title:"Story-Text generieren",description:"KI schreibt die Geschichte mit allen Kapiteln",estimatedTime:"25-30 Sek"},validation:{step:4,icon:ls,title:"Story validieren",description:"Prfe Struktur und Konsistenz",estimatedTime:"2-3 Sek"},images:{step:5,icon:vk,title:"Bilder generieren",description:"Erstelle Cover und Kapitelbilder",estimatedTime:"40-50 Sek"},complete:{step:6,icon:wt,title:"Fertigstellen",description:"Speichere Story und aktualisiere Avatare",estimatedTime:"2-3 Sek"}},PS=["profiles","memories","text","validation","images","complete"];function TC({currentStep:e,className:t}){const s=DS[e].step,r=PS.length;return o.jsxs("div",{className:t,children:[o.jsx(YI,{value:s,orientation:"vertical",className:"w-full",indicators:{completed:o.jsx(mk,{className:"size-4"}),loading:o.jsx(id,{className:"size-4 animate-spin"})},children:o.jsx(t8,{className:"w-full",children:PS.map((i,c)=>{const u=DS[i],h=u.icon,p=c===r-1,m=u.step===s,g=u.step<s;return o.jsxs(kC,{step:u.step,loading:m,completed:g,className:"w-full",children:[o.jsxs(JI,{className:"w-full justify-start p-4 rounded-lg hover:bg-accent/50 transition-colors",children:[o.jsx(XI,{className:"data-[state=completed]:bg-green-500 data-[state=completed]:text-white data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=inactive]:bg-gray-200 data-[state=inactive]:text-gray-500 size-8",children:!m&&!g&&o.jsx(h,{className:"size-4"})}),o.jsxs("div",{className:"flex-1 text-left ml-3",children:[o.jsx(QI,{className:"text-base font-semibold",children:u.title}),o.jsx(e8,{className:"text-sm mt-1",children:u.description}),o.jsxs("div",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-2",children:[m&&o.jsxs(o.Fragment,{children:[o.jsx(id,{className:"size-3 animate-spin"}),o.jsx("span",{children:"Luft gerade..."})]}),!m&&!g&&o.jsxs("span",{children:["~",u.estimatedTime]}),g&&o.jsx("span",{className:"text-green-600 dark:text-green-400 font-medium",children:" Abgeschlossen"})]})]})]}),!p&&o.jsx(ZI,{className:"ml-8 group-data-[state=completed]/step:bg-green-500"})]},i)})})}),o.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-950/30 rounded-lg border border-blue-200 dark:border-blue-800",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(wt,{className:"size-4 text-blue-600 dark:text-blue-400"}),o.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Geschtzte Gesamtdauer: 75-90 Sekunden"})]}),o.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Die lngste Phase ist die Bildgenerierung. Bitte hab etwas Geduld! "})]})]})}const CC=[{key:"maerchenzauber",label:"Maerchenzauber",tagline:"Zeitlos-magisch und herzlich",description:"Es-war-einmal Stimmung, warme Atmosphaere, sanfte Spannung."},{key:"lieder_reime",label:"Lieder & Reime",tagline:"Rhythmisch, spielerisch, musikalisch",description:"Leichte Reime, wiederkehrende Phrasen, ideal zum Mitsprechen."},{key:"wilder_ritt",label:"Wilder Ritt",tagline:"Actionreich und voller Humor",description:"Schnelles Tempo, mutige Entscheidungen, freche Energie."},{key:"traeumerei",label:"Traeumerei",tagline:"Poetisch und beruhigend",description:"Schwebende Bilder, leise Dialoge, sanfte Gefuehle."},{key:"heldenmut",label:"Heldenmut",tagline:"Epische Kinderquests",description:"Mut, Teamgeist und triumphierende Wendungen."},{key:"entdeckergeist",label:"Entdeckergeist",tagline:"Neugierig und erfinderisch",description:"Forscherdrang, clevere Ideen, Abenteuerlust."}],jg=[{key:"rhymed_playful",label:"Rhythmisch spielerisch (Grueffelo)",description:"Gereimte Wendungen, Call-and-Response, humorvoll."},{key:"gentle_minimal",label:"Sanft minimalistisch (Raupe Nimmersatt)",description:"Wiederholung, klare Struktur, beruhigend."},{key:"wild_imaginative",label:"Wild fantasievoll (Wilde Kerle)",description:"Rebellische Imagination, sichere Grenzen."},{key:"philosophical_warm",label:"Warm nachdenklich (Kleiner Prinz)",description:"Poetische Bilder, kleine Weisheiten."},{key:"mischief_empowering",label:"Schelmisch mutig (Pippi Langstrumpf)",description:"Selbstwirksamkeit, Humor und Herz."},{key:"adventure_epic",label:"Abenteuerlich episch (Harry Potter)",description:"Quest-Gefuehl, Teamspirit, kindgerecht."},{key:"quirky_dark_sweet",label:"Skurril suess (Charlie & Schoko)",description:"Leicht schraeg, immer freundlich."},{key:"cozy_friendly",label:"Gemuetlich freundlich (Winnie Puuh)",description:"Dialogreich, Snacks, Geborgenheit."},{key:"classic_fantasy",label:"Klassische Fantasie (Peter Pan)",description:"Zeitlose Motive, Fliegen, Abenteuer."},{key:"whimsical_logic",label:"Verspielt logisch (Alice)",description:"Logikspiele, Wortwitz, staunende Kinder."},{key:"mythic_allegory",label:"Mythisch sanft (Narnia)",description:"Symbolik, ruhiger Held*innenmut."},{key:"road_fantasy",label:"Reise-Quest (Oz)",description:"Etappenreise, markante Begleiter*innen."},{key:"imaginative_meta",label:"Meta-Fantasie (Unendliche Geschichte)",description:"Geschichten in Geschichten, Fantasiepower."},{key:"pastoral_heart",label:"Natur & Herz (Heidi)",description:"Alpenluft, Herzenswaerme, Gemeinschaft."},{key:"bedtime_soothing",label:"Schlummer-sanft (Gute Nacht, Mond)",description:"Fluesterndes Tempo, Traeume in Pastell."}],n8=({storySoul:e,stylePreset:t,allowRhymes:s,onSelectSoul:r,onStyleChange:i})=>{var c;return o.jsx(Ee,{variant:"elevated",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Story-Seele"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Waehle die Grundstimmung deines Bilderbuchs. Sie bestimmt automatisch Ton, Tempo und Grundwuerze."})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:CC.map(u=>{const h=e===u.key;return o.jsxs("button",{type:"button",onClick:()=>r(u.key),className:`border rounded-lg p-4 text-left transition-all duration-200 ${h?"border-purple-500 bg-purple-50 shadow-sm":"border-gray-200 hover:border-purple-400 hover:bg-purple-50/40"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-semibold text-gray-800",children:u.label}),h&&o.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"ausgewaehlt"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:u.tagline}),o.jsx("p",{className:"text-xs text-gray-500 leading-relaxed whitespace-pre-line",children:u.description})]},u.key)})}),o.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[o.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Optional: Stil feinjustieren"}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Du kannst zusaetzlich einen Stil auswaehlen (z. B. Gruffelo-Rhythmus). Ohne Auswahl bleibt der zur Story-Seele passende Stil aktiv."}),o.jsxs("select",{className:"w-full border rounded-lg p-3",value:t??"",onChange:u=>i({stylePreset:u.target.value?u.target.value:void 0}),children:[o.jsx("option",{value:"",children:"Automatisch (Story-Seele entscheidet)"}),jg.map(u=>o.jsx("option",{value:u.key,children:u.label},u.key))]}),t&&o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:(c=jg.find(u=>u.key===t))==null?void 0:c.description}),o.jsxs("label",{className:"mt-4 flex items-center gap-2 text-sm text-gray-700",children:[o.jsx("input",{type:"checkbox",checked:s,onChange:u=>i({allowRhymes:u.target.checked})}),"Reime erlauben (besonders fuer Gruffelo-Stimmungen sinnvoll)"]})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Soul + Stil ergeben zusammen deine einzigartige Bilderbuch-Stimme. Du kannst jederzeit zurueckspringen und anpassen."})]})})},EC=[{key:"warmherzigkeit",label:"Warmherzigkeit",description:"Umarmungen, Trost und sanfte Naehe",effect:"Verstaerkt Herzensmomente, haelt Humor zart."},{key:"lachfreude",label:"Lachfreude",description:"Slapstick, Wortspiele, Schelmerei",effect:"Erhoeht Humor und spritzige Dialoge."},{key:"prickeln",label:"Prickeln",description:"Geheimnisse, kleine Guesel, Spannung",effect:"Hebt das Spannungsniveau merklich an."},{key:"geborgenheit",label:"Geborgenheit",description:"Kuschel-Gefuehl, Sicherheit, Langsamkeit",effect:"Verlangsamt Tempo, macht Szenen sanfter."},{key:"uebermut",label:"Uebermut",description:"Freche Ideen, Quatsch, ausgelassene Energie",effect:"Steigert Humor und schnelle Aktionen."},{key:"staunen",label:"Staunen",description:"Wundersame Entdeckungen, Magisches Leuchten",effect:"Betont neugierige, poetische Momente."},{key:"zusammenhalt",label:"Zusammenhalt",description:"Teamgeist, gemeinsame Loesungen",effect:"Foerdert wir-Gefuehl und freundliche Dialoge."}],AC=[{key:"cozy",label:"Gemutlich",description:"Ruhiges Tempo, viel Raum fuer Atmosphaere."},{key:"balanced",label:"Ausgewogen",description:"Harmonischer Wechsel aus Ruhe und Schwung."},{key:"fast",label:"Rasant",description:"Hohe Dynamik, kurze Pausen, viel Action."}],NC=[{key:"surprise",label:"Ueberraschung",description:"Eine unerwartete Wendung, die alle staunen laesst."},{key:"mystery",label:"Geheimnis",description:"Ein Raetsel, das die Kinder gemeinsam loesen."},{key:"transformation",label:"Verwandlung",description:"Etwas oder jemand veraendert sich grundlegend."},{key:"magic",label:"Magie",description:"Zauberhafte Momente, leuchtende Wunder, Funkenregen."},{key:"trial",label:"Mutprobe",description:"Eine Herausforderung, die Selbstvertrauen schuetzt."},{key:"aha",label:"Aha-Moment",description:"Eine wichtige Erkenntnis, die alles zusammenbringt."}],zS=2,LS=2,r8=({emotionalFlavors:e,storyTempo:t,specialIngredients:s,customPrompt:r,onChange:i})=>{const c=h=>{const p=e.includes(h);if(!p&&e.length>=zS)return;const m=p?e.filter(g=>g!==h):[...e,h];i({emotionalFlavors:m})},u=h=>{const p=s.includes(h);if(!p&&s.length>=LS)return;const m=p?s.filter(g=>g!==h):[...s,h];i({specialIngredients:m})};return o.jsx(Ee,{variant:"elevated",children:o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Emotionale Wuerze"}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Waehle bis zu zwei Emotionen, die deine Story traegt."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:EC.map(h=>{const p=e.includes(h.key);return o.jsxs("label",{className:`border rounded-lg p-3 cursor-pointer transition ${p?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-400 hover:bg-purple-50/40"}`,children:[o.jsx("input",{type:"checkbox",checked:p,onChange:()=>c(h.key),className:"mr-2"}),o.jsxs("div",{className:"inline-block align-top",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-800",children:h.label}),o.jsx("div",{className:"text-xs text-gray-600",children:h.description}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:h.effect})]})]},h.key)})}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Maximal ",zS," Emotionen gleichzeitig."]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Tempo"}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Bestimme den Rhythmus der Reise."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:AC.map(h=>{const p=t===h.key;return o.jsxs("button",{type:"button",onClick:()=>i({storyTempo:h.key}),className:`border rounded-lg p-3 text-left transition ${p?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-400 hover:bg-purple-50/40"}`,children:[o.jsx("div",{className:"font-semibold text-sm text-gray-800",children:h.label}),o.jsx("div",{className:"text-xs text-gray-600",children:h.description})]},h.key)})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Spezialzutaten"}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Waehle bis zu zwei Highlights, die unbedingt vorkommen sollen."}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:NC.map(h=>{const p=s.includes(h.key);return o.jsxs("label",{className:`border rounded-lg p-3 cursor-pointer transition ${p?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-400 hover:bg-purple-50/40"}`,children:[o.jsx("input",{type:"checkbox",checked:p,onChange:()=>u(h.key),className:"mr-2"}),o.jsxs("div",{className:"inline-block align-top",children:[o.jsx("div",{className:"text-sm font-semibold text-gray-800",children:h.label}),o.jsx("div",{className:"text-xs text-gray-600",children:h.description})]})]},h.key)})}),o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Maximal ",LS," Spezialzutaten. Optional."]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Magische Wuensche (optional)"}),o.jsx("textarea",{className:"w-full border rounded-lg p-3 min-h-[120px]",placeholder:"z. B. Bitte eine Szene am See mit glitzerndem Sternenpfad.",value:r,onChange:h=>i({customPrompt:h.target.value})}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Freitext fuer besondere Ideen, Lieblingsorte oder Figuren."})]})]})})},s8=({storyConfig:e,onGenerate:t,generating:s=!1,generationStep:r="profiles"})=>{var j,A;const i=k=>({adventure:"Abenteuer",fantasy:"Fantasy",mystery:"Geheimnis",friendship:"Freundschaft",learning:"Lernen",comedy:"Comedy"})[k]||k,c=k=>({forest:"Zauberwald",castle:"Schloss",ocean:"Unterwasserwelt",space:"Weltraum",city:"Moderne Stadt",village:"Maerchendorf"})[k]||k,u=k=>({short:"Kurz (3-5 Kapitel)",medium:"Mittel (5-8 Kapitel)",long:"Lang (8-12 Kapitel)"})[k]||k,h=k=>({simple:"Einfach",medium:"Mittel",complex:"Komplex"})[k]||k,p=k=>{var E;return k?((E=jg.find(C=>C.key===k))==null?void 0:E.label)||k:"Automatisch (Story-Seele)"},m=k=>{var E;return k?((E=CC.find(C=>C.key===k))==null?void 0:E.label)||k:"Nicht ausgewaehlt"},g=k=>!k||k.length===0?"Natuerlich ohne Zusatz":k.map(E=>{var C;return((C=EC.find(R=>R.key===E))==null?void 0:C.label)||E}).join(", "),y=k=>{var E;return k?((E=AC.find(C=>C.key===k))==null?void 0:E.label)||k:"Ausgewogen"},v=k=>!k||k.length===0?"Kein Zusatz":k.map(E=>{var C;return((C=NC.find(R=>R.key===E))==null?void 0:C.label)||E}).join(", ");return o.jsxs("div",{className:"space-y-6",children:[o.jsx(Se,{delay:100,children:o.jsxs(Ee,{variant:"elevated",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 text-center mb-2",children:"Zusammenfassung"}),o.jsx("p",{className:"text-gray-600 text-center mb-6",children:"Ueberpruefe deine Einstellungen vor der Generierung"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Avatare"}),o.jsxs("p",{className:"text-gray-800",children:[e.avatarIds.length," ausgewaehlt"]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Genre"}),o.jsx("p",{className:"text-gray-800",children:i(e.genre)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Schauplatz"}),o.jsx("p",{className:"text-gray-800",children:c(e.setting)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Laenge"}),o.jsx("p",{className:"text-gray-800",children:u(e.length)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Komplexitaet"}),o.jsx("p",{className:"text-gray-800",children:h(e.complexity)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Altersgruppe"}),o.jsxs("p",{className:"text-gray-800",children:[e.ageGroup," Jahre"]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Story-Stil"}),o.jsxs("p",{className:"text-gray-800",children:[p(e.stylePreset),e.allowRhymes?" (Reime erlaubt)":""]})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Story-Seele"}),o.jsx("p",{className:"text-gray-800",children:m(e.storySoul)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Emotionale Wuerze"}),o.jsx("p",{className:"text-gray-800",children:g(e.emotionalFlavors)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Tempo"}),o.jsx("p",{className:"text-gray-800",children:y(e.storyTempo)})]}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Spezialzutaten"}),o.jsx("p",{className:"text-gray-800",children:v(e.specialIngredients)})]})]}),e.customPrompt&&e.customPrompt.trim().length>0&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 p-3 rounded-lg mb-6",children:[o.jsx("h3",{className:"font-semibold text-gray-700 text-sm mb-1",children:"Magischer Wunsch"}),o.jsx("p",{className:"text-gray-800 text-sm whitespace-pre-line",children:e.customPrompt})]}),((j=e.learningMode)==null?void 0:j.enabled)&&o.jsxs("div",{className:"bg-purple-50 border border-purple-200 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-bold text-purple-700 mb-3 text-center",children:"Lernmodus aktiviert"}),e.learningMode.subjects.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("h4",{className:"font-semibold text-purple-600 text-sm mb-1",children:"Faecher:"}),o.jsx("p",{className:"text-purple-700",children:e.learningMode.subjects.join(", ")})]}),o.jsxs("div",{className:"mb-3",children:[o.jsx("h4",{className:"font-semibold text-purple-600 text-sm mb-1",children:"Schwierigkeit:"}),o.jsx("p",{className:"text-purple-700",children:e.learningMode.difficulty})]}),e.learningMode.learningObjectives.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-purple-600 text-sm mb-1",children:"Lernziele:"}),e.learningMode.learningObjectives.map((k,E)=>o.jsxs("p",{className:"text-purple-700 text-sm",children:["- ",k]},E))]})]})]})}),o.jsx(Se,{delay:200,children:o.jsx(Ee,{variant:"elevated",children:o.jsxs("div",{className:"text-center",children:[o.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-purple-600"}),o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:s?"Magie wirkt...":"Bereit fuer die Magie?"}),o.jsx("p",{className:"text-gray-600 mb-6",children:s?"Deine Geschichte wird gerade erstellt. Das kann einige Minuten dauern...":"Deine Geschichte wird mit moderner KI-Technologie erstellt. Dieser Prozess braucht etwas Zeit, lohnt sich aber!"}),!s&&o.jsxs("div",{className:"space-y-3 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-3",children:"*"}),o.jsx("span",{className:"text-gray-700",children:"Personalisierte Kapitel mit deinen Avataren"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-3",children:"*"}),o.jsx("span",{className:"text-gray-700",children:"Wunderschoene Illustrationen fuer jedes Kapitel"})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-3",children:"*"}),o.jsx("span",{className:"text-gray-700",children:"Intelligente Handlung basierend auf deinen Einstellungen"})]}),((A=e.learningMode)==null?void 0:A.enabled)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-lg mr-3",children:"*"}),o.jsx("span",{className:"text-gray-700",children:"Integrierte Lernelemente fuer maximalen Bildungswert"})]})]}),s&&o.jsx("div",{className:"mt-6",children:o.jsx(TC,{currentStep:r})})]})})}),o.jsx(Se,{delay:300,children:o.jsx(Ve,{title:s?"Geschichte wird erstellt...":"Geschichte erstellen",onPress:t,size:"lg",className:"w-full",disabled:s,loading:s})})]})},RC=()=>{const[e,t]=b.useState("avatar"),[s,r]=b.useState(!1),[i,c]=b.useState("profiles"),[u,h]=b.useState({avatarIds:[],genre:"",setting:"",stylePreset:void 0,allowRhymes:!1,storySoul:void 0,emotionalFlavors:[],storyTempo:"balanced",specialIngredients:[],customPrompt:"",language:"de",aiModel:"gpt-5-mini",length:"medium",complexity:"medium",ageGroup:"6-8"}),p=yt(),{user:m}=Yi(),g=[{key:"avatar",title:"Avatare",icon:"A"},{key:"genre",title:"Genre & Welt",icon:"G"},{key:"soul",title:"Story-Seele & Stil",icon:"S"},{key:"experience",title:"Emotion & Tempo",icon:"E"},{key:"parameters",title:"Parameter",icon:"P"},{key:"learning",title:"Lernmodus",icon:"L"},{key:"generation",title:"Erstellen",icon:"!"}],y=g.findIndex(N=>N.key===e),v=N=>{h(D=>({...D,...N}))},j=()=>{const N=y+1;N<g.length&&t(g[N].key)},A=()=>{const N=y-1;N>=0&&t(g[N].key)},k=()=>{window.location.href="/"},E=()=>{switch(e){case"avatar":return u.avatarIds.length>0;case"genre":return!!(u.genre&&u.setting);case"soul":return!!u.storySoul;case"experience":return!!u.storyTempo;case"parameters":return!0;case"learning":return!0;case"generation":return!1;default:return!1}},C=async()=>{if(!m){alert("Bitte melde dich an, um eine Geschichte zu erstellen.");return}if(u.avatarIds.length===0){alert("Bitte whle mindestens einen Avatar fr die Geschichte aus.");return}try{r(!0),c("profiles"),await new Promise(D=>setTimeout(D,1200)),c("memories"),await new Promise(D=>setTimeout(D,1200)),c("text");const N=await p.story.generate({userId:m.id,config:u});c("validation"),await new Promise(D=>setTimeout(D,900)),c("images"),await new Promise(D=>setTimeout(D,1200)),c("complete"),await new Promise(D=>setTimeout(D,800)),alert(`Geschichte "${N.title}" wurde erfolgreich generiert! `),window.location.href="/"}catch(N){console.error(" Error generating story:",N);let D="Die Geschichte konnte nicht erstellt werden. Bitte versuche es erneut.";N instanceof Error&&(N.message.includes("length limit exceeded")?D="Die Anfrage ist zu gro. Bitte versuche es erneut.":N.message.includes("timeout")&&(D="Die Generierung dauert zu lange. Bitte whle eine krzere Geschichte.")),alert(D)}finally{r(!1),c("profiles")}},R=()=>{switch(e){case"avatar":return o.jsx(GI,{selectedAvatarIds:u.avatarIds,onSelectionChange:N=>v({avatarIds:N})});case"genre":return o.jsx(WI,{genre:u.genre,setting:u.setting,onGenreChange:N=>v({genre:N}),onSettingChange:N=>v({setting:N})});case"soul":return o.jsx(n8,{storySoul:u.storySoul,stylePreset:u.stylePreset,allowRhymes:u.allowRhymes,onSelectSoul:N=>v({storySoul:N}),onStyleChange:N=>v(N)});case"experience":return o.jsx(r8,{emotionalFlavors:u.emotionalFlavors,storyTempo:u.storyTempo,specialIngredients:u.specialIngredients,customPrompt:u.customPrompt??"",onChange:N=>v(N)});case"parameters":return o.jsx(qI,{length:u.length,complexity:u.complexity,ageGroup:u.ageGroup,aiModel:u.aiModel,onLengthChange:N=>v({length:N}),onComplexityChange:N=>v({complexity:N}),onAgeGroupChange:N=>v({ageGroup:N}),onAiModelChange:N=>v({aiModel:N})});case"learning":return o.jsx(KI,{learningMode:u.learningMode,onLearningModeChange:N=>v({learningMode:N})});case"generation":return o.jsx(s8,{storyConfig:u,onGenerate:C,generating:s,generationStep:i});default:return null}};return o.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[o.jsx(Se,{delay:0,children:o.jsx("div",{className:"bg-white border-b border-gray-200 p-4",children:o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("button",{onClick:k,className:"p-2 rounded-full hover:bg-gray-100 transition-colors mr-3",disabled:s,children:o.jsx(yn,{className:"w-5 h-5"})}),o.jsxs("div",{className:"text-center flex-1",children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Geschichte erstellen"}),o.jsx("p",{className:"text-gray-600",children:"Erschaffe eine magische Geschichte mit deinen Avataren"})]})]})})}),o.jsxs("div",{className:"px-6 py-6",children:[o.jsx(Se,{delay:100,children:o.jsxs(Ee,{variant:"elevated",className:"mb-6",children:[o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-700",children:["Schritt ",y+1," von ",g.length]}),o.jsx("p",{className:"text-gray-600",children:g[y].title})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:o.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${(y+1)/g.length*100}%`}})}),o.jsx("div",{className:"flex justify-between",children:g.map((N,D)=>o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${D<=y?D===y?"bg-purple-600 text-white":"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-400"}`,children:o.jsx("span",{children:N.icon})},N.key))})]})}),o.jsx("div",{className:"mb-6",children:R()}),o.jsx(Se,{delay:300,children:o.jsxs("div",{className:"flex gap-4",children:[y>0&&o.jsx(Ve,{title:"Zurck",onPress:A,variant:"outline",className:"flex-1",icon:o.jsx(yn,{className:"w-4 h-4"}),disabled:s}),e!=="generation"&&o.jsx(Ve,{title:"Weiter",onPress:j,disabled:!E()||s,className:"flex-1",icon:o.jsx(Jg,{className:"w-4 h-4"})})]})})]})]})};function a8({state:e,updateState:t}){const s=yt(),r=Gt(),[i,c]=b.useState([]),[u,h]=b.useState(!0);b.useEffect(()=>{p()},[]);const p=async()=>{try{console.log("[Step1] Loading avatars from backend...");const g=await s.avatar.list();console.log("[Step1] Backend response:",g);const y=(g.avatars||[]).map(v=>({id:v.id,name:v.name,imageUrl:v.imageUrl,age:v.age||0,gender:v.gender||"unknown"}));c(y),console.log("[Step1] Loaded avatars:",y.length)}catch(g){console.error("[Step1] Error loading avatars:",g)}finally{h(!1)}},m=g=>{const y=e.selectedAvatars.includes(g)?e.selectedAvatars.filter(v=>v!==g):[...e.selectedAvatars,g];t({selectedAvatars:y})};return u?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[o.jsx("div",{className:"animate-spin w-12 h-12 border-4 border-purple-500 border-t-transparent rounded-full mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Lade Avatare..."})]}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Wer spielt in der Geschichte mit?"}),o.jsx("p",{className:"text-gray-600",children:"Whle 1-4 Avatare aus, die Teil der Geschichte werden sollen."})]}),i.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:[o.jsx(gs,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Du hast noch keine Avatare erstellt."}),o.jsxs("button",{onClick:()=>r("/avatar/create"),className:"inline-flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all",children:[o.jsx(Zg,{size:20}),"Ersten Avatar erstellen"]})]}):o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:i.map(g=>{const y=e.selectedAvatars.includes(g.id);return o.jsxs("button",{onClick:()=>m(g.id),className:`
                  relative p-4 rounded-xl border-2 transition-all transform
                  ${y?"border-purple-600 bg-purple-50 ring-4 ring-purple-200 scale-105":"border-gray-200 bg-white hover:border-purple-300 hover:scale-102"}
                `,children:[y&&o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:""}),o.jsx("div",{className:"aspect-square rounded-lg bg-gradient-to-br from-purple-200 to-pink-200 mb-3 flex items-center justify-center overflow-hidden",children:g.imageUrl?o.jsx("img",{src:g.imageUrl,alt:g.name,className:"w-full h-full object-cover"}):o.jsx(vk,{size:40,className:"text-purple-400"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold text-gray-800 truncate",children:g.name}),o.jsxs("p",{className:"text-sm text-gray-500",children:[g.age," Jahre, ",g.gender==="male"?"":g.gender==="female"?"":""]})]})]},g.id)})}),e.selectedAvatars.length>0&&o.jsx("div",{className:"bg-green-50 border-2 border-green-500 rounded-xl p-4 flex items-center justify-between",children:o.jsxs("div",{children:[o.jsxs("p",{className:"font-semibold text-green-800",children:[" ",e.selectedAvatars.length," Avatar",e.selectedAvatars.length>1?"e":""," ausgewhlt"]}),o.jsxs("p",{className:"text-sm text-green-600",children:[e.selectedAvatars.length===1&&"Perfekt fr eine fokussierte Geschichte!",e.selectedAvatars.length===2&&"Ideal fr eine Geschichte mit Freundschaft!",e.selectedAvatars.length===3&&"Spannende Gruppe fr Abenteuer!",e.selectedAvatars.length>=4&&"Groe Gruppe - viele Charaktere!"]})]})})]})}const i8=[{id:"fairy-tales",title:" Klassische Mrchen",description:"Verwunschene Welten, Knige & Prinzessinnen, magische Wesen",icon:wt,color:"purple",examples:"Hnsel & Gretel, Rotkppchen, Bremer Stadtmusikanten",gradient:"from-purple-500 to-pink-500"},{id:"adventure",title:" Abenteuer & Schtze",description:"Spannende Reisen, versteckte Schtze, mutige Helden",icon:rP,color:"orange",examples:"Schatzsuche, Geheime Hhlen, Wilde Expeditionen",gradient:"from-orange-500 to-red-500"},{id:"magic",title:" Mrchenwelten & Magie",description:"Zaubersprche, fliegende Teppiche, magische Krfte",icon:IP,color:"blue",examples:"Zauberer, Feen, Magische Gegenstnde",gradient:"from-blue-500 to-indigo-500"},{id:"animals",title:" Tierwelten",description:"Sprechende Tiere, Waldabenteuer, Tierfreundschaften",icon:_D,color:"green",examples:"Im Wald, Auf dem Bauernhof, In der Wildnis",gradient:"from-green-500 to-emerald-500"},{id:"scifi",title:" Sci-Fi & Zukunft",description:"Raumschiffe, fremde Planeten, futuristische Welten",icon:mP,color:"cyan",examples:"Weltraumabenteuer, Roboter, Zeitreisen",gradient:"from-cyan-500 to-blue-500"},{id:"modern",title:" Modern & Realitt",description:"Alltag, Schule, Familie, echte Erlebnisse",icon:xk,color:"gray",examples:"Heute & Hier, Realistische Geschichten",gradient:"from-gray-500 to-slate-500"}];function o8({state:e,updateState:t}){const s=r=>{t({mainCategory:r})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Was fr eine Geschichte soll es werden?"}),o.jsx("p",{className:"text-gray-600",children:"Whle eine Kategorie aus - deine Avatare werden Teil einer einzigartigen Geschichte!"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i8.map(r=>{const i=e.mainCategory===r.id,c=r.icon;return o.jsxs("button",{onClick:()=>s(r.id),className:`
                relative p-6 rounded-2xl border-2 text-left transition-all transform
                ${i?`border-${r.color}-600 bg-${r.color}-50 ring-4 ring-${r.color}-200 scale-105 shadow-xl`:"border-gray-200 bg-white hover:border-gray-400 hover:scale-102 shadow-lg hover:shadow-xl"}
              `,children:[i&&o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg animate-bounce",children:""}),o.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[o.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${r.gradient} shadow-lg`,children:o.jsx(c,{size:32,className:"text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-xl text-gray-800 mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]}),o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-1",children:"BEISPIELE:"}),o.jsx("p",{className:"text-sm text-gray-700",children:r.examples})]})]},r.id)})}),o.jsx("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-xl p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Hinweis:"})," Jede Kategorie erstellt eine komplett neue Geschichte speziell fr deine Avatare. Es wird keine vorgeschriebene Geschichte erzhlt, sondern eine ",o.jsx("strong",{children:"individuelle"})," Geschichte erschaffen!"]})})]})}const l8=[{id:"3-5",title:"3-5 Jahre",icon:aD,description:"Einfache Worte, kurze Stze, viele Bilder",color:"pink"},{id:"6-8",title:"6-8 Jahre",icon:na,description:"Spannende Abenteuer, leicht zu folgen",color:"blue"},{id:"9-12",title:"9-12 Jahre",icon:FD,description:"Komplexere Handlung, mehr Details",color:"purple"},{id:"13+",title:"13+ Jahre",icon:PP,description:"Tiefgrndige Themen, anspruchsvoll",color:"indigo"}],c8=[{id:"short",title:" Kurz",duration:"5-10 Min",chapters:"3-4 Kapitel",color:"green"},{id:"medium",title:" Mittel",duration:"10-15 Min",chapters:"5-6 Kapitel",color:"yellow"},{id:"long",title:" Lang",duration:"15-25 Min",chapters:"7-9 Kapitel",color:"orange"}];function u8({state:e,updateState:t}){const s=i=>{t({ageGroup:i})},r=i=>{t({length:i})};return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Fr welches Alter & wie lang?"}),o.jsx("p",{className:"text-gray-600",children:"Passe die Geschichte an das Alter und die verfgbare Zeit an."})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(na,{size:20}),"Altersgruppe"]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:l8.map(i=>{const c=e.ageGroup===i.id,u=i.icon;return o.jsxs("button",{onClick:()=>s(i.id),className:`
                  relative p-4 rounded-xl border-2 transition-all transform
                  ${c?`border-${i.color}-600 bg-${i.color}-50 ring-4 ring-${i.color}-200 scale-105`:"border-gray-200 bg-white hover:border-gray-400 hover:scale-102"}
                `,children:[c&&o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:""}),o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(u,{size:32,className:`mb-2 ${c?`text-${i.color}-600`:"text-gray-400"}`}),o.jsx("p",{className:"font-bold text-sm text-gray-800 mb-1",children:i.title}),o.jsx("p",{className:"text-xs text-gray-600",children:i.description})]})]},i.id)})})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[o.jsx(Dr,{size:20}),"Geschichtenlnge"]}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:c8.map(i=>{const c=e.length===i.id;return o.jsxs("button",{onClick:()=>r(i.id),className:`
                  relative p-5 rounded-xl border-2 transition-all transform
                  ${c?`border-${i.color}-600 bg-${i.color}-50 ring-4 ring-${i.color}-200 scale-105`:"border-gray-200 bg-white hover:border-gray-400 hover:scale-102"}
                `,children:[c&&o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:""}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl mb-2",children:i.title}),o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:i.duration}),o.jsx("p",{className:"text-xs text-gray-600",children:i.chapters})]})]},i.id)})})]}),e.ageGroup&&e.length&&o.jsxs("div",{className:"bg-green-50 border-2 border-green-500 rounded-xl p-4",children:[o.jsx("p",{className:"font-semibold text-green-800 mb-1",children:" Einstellungen gewhlt"}),o.jsxs("p",{className:"text-sm text-green-600",children:["Geschichte fr ",e.ageGroup," Jahre, ",e.length==="short"?"kurz (5-10 Min)":e.length==="medium"?"mittel (10-15 Min)":"lang (15-25 Min)"]})]})]})}const d8=[{id:"funny",title:" Lustig",description:"Zum Lachen, humorvoll, witzig",icon:Sk,color:"yellow",gradient:"from-yellow-400 to-orange-400"},{id:"warm",title:" Herzlich",description:"Warm, gemtlich, liebevoll",icon:Md,color:"red",gradient:"from-red-400 to-pink-400"},{id:"exciting",title:" Spannend",description:"Action, Abenteuer, aufregend",icon:kk,color:"blue",gradient:"from-blue-400 to-cyan-400"},{id:"crazy",title:" Verrckt",description:"Skurril, fantasievoll, berraschend",icon:wt,color:"purple",gradient:"from-purple-400 to-pink-400"},{id:"meaningful",title:" Bedeutungsvoll",description:"Tiefgrndig, lehrreich, emotional",icon:tP,color:"green",gradient:"from-green-400 to-emerald-400"}];function h8({state:e,updateState:t}){const s=r=>{const i=e.feelings;i.includes(r)?t({feelings:i.filter(c=>c!==r)}):i.length<3&&t({feelings:[...i,r]})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Welches Gefhl soll die Geschichte haben?"}),o.jsx("p",{className:"text-gray-600",children:"Whle 1-3 Stimmungen aus, die die Geschichte prgen sollen."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:d8.map(r=>{const i=e.feelings.includes(r.id),c=r.icon,u=!i&&e.feelings.length>=3;return o.jsxs("button",{onClick:()=>s(r.id),disabled:u,className:`
                relative p-6 rounded-2xl border-2 transition-all transform
                ${i?`border-${r.color}-600 bg-${r.color}-50 ring-4 ring-${r.color}-200 scale-105 shadow-xl`:u?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-200 bg-white hover:border-gray-400 hover:scale-102 shadow-lg"}
              `,children:[i&&o.jsx("div",{className:"absolute -top-3 -right-3 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg",children:""}),o.jsx("div",{className:`
                w-16 h-16 mx-auto mb-3 rounded-xl bg-gradient-to-br ${r.gradient} 
                flex items-center justify-center shadow-lg
              `,children:o.jsx(c,{size:32,className:"text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h3",{className:"font-bold text-lg text-gray-800 mb-1",children:r.title}),o.jsx("p",{className:"text-sm text-gray-600",children:r.description})]})]},r.id)})}),o.jsx("div",{className:`
        p-4 rounded-xl border-2 transition-all
        ${e.feelings.length===0?"border-gray-300 bg-gray-50":e.feelings.length<3?"border-blue-400 bg-blue-50":"border-green-500 bg-green-50"}
      `,children:o.jsxs("p",{className:"font-semibold text-center",children:[e.feelings.length===0&&" Whle mindestens 1 Gefhl aus",e.feelings.length===1&&" 1 Gefhl gewhlt - Du kannst noch 2 weitere whlen",e.feelings.length===2&&" 2 Gefhle gewhlt - Du kannst noch 1 weiteres whlen",e.feelings.length===3&&" 3 Gefhle gewhlt - Perfekte Mischung!"]})}),e.feelings.length>=2&&o.jsx("div",{className:"bg-purple-50 border-2 border-purple-400 rounded-xl p-4",children:o.jsxs("p",{className:"text-sm text-purple-800",children:[o.jsx("strong",{children:" Tolle Kombination!"}),e.feelings.includes("funny")&&e.feelings.includes("exciting")&&" Lustig UND spannend = actiongeladener Spa!",e.feelings.includes("warm")&&e.feelings.includes("meaningful")&&" Herzlich UND bedeutungsvoll = emotionale Tiefe!",e.feelings.includes("crazy")&&e.feelings.includes("funny")&&" Verrckt UND lustig = absolut abgedrehte Geschichte!",!e.feelings.includes("funny")&&!e.feelings.includes("exciting")&&!e.feelings.includes("warm")&&!e.feelings.includes("meaningful")&&!e.feelings.includes("crazy")&&" Deine Gefhle-Mischung wird eine einzigartige Geschichte!"]})})]})}const f8=[{id:"rhymes",title:" Mit Reimen",description:"Geschichte enthlt Verse und Reime",icon:aP,color:"pink"},{id:"moral",title:" Mit Moral",description:"Geschichte hat eine Lehre oder Botschaft",icon:cD,color:"blue"},{id:"avatarIsHero",title:" Avatar ist Held",description:"Deine Avatare sind die Haupthelden",icon:Qg,color:"yellow",defaultActive:!0},{id:"famousCharacters",title:" Bekannte Figuren",description:"Berhmte Mrchenfiguren einbauen",icon:wP,color:"purple"},{id:"happyEnd",title:" Happy End",description:"Geschichte endet glcklich",icon:Sk,color:"green",defaultActive:!0},{id:"surpriseEnd",title:" berraschungs-Ende",description:"Unerwartete Wendung am Schluss",icon:sd,color:"orange"}];function m8({state:e,updateState:t}){const s=i=>{t({[i]:!e[i]})},r=i=>{t({customWish:i.target.value})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Besondere Wnsche? (Optional)"}),o.jsx("p",{className:"text-gray-600",children:"Fge besondere Features hinzu oder berspringe diesen Schritt."})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:f8.map(i=>{const c=e[i.id],u=i.icon;return o.jsxs("button",{onClick:()=>s(i.id),className:`
                relative p-4 rounded-xl border-2 transition-all transform
                ${c?`border-${i.color}-500 bg-${i.color}-50 ring-2 ring-${i.color}-200 scale-102`:"border-gray-200 bg-white hover:border-gray-400"}
              `,children:[c&&o.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:""}),o.jsxs("div",{className:"flex flex-col items-center text-center",children:[o.jsx(u,{size:28,className:`mb-2 ${c?`text-${i.color}-600`:"text-gray-400"}`}),o.jsx("p",{className:"font-semibold text-sm text-gray-800 mb-1",children:i.title}),o.jsx("p",{className:"text-xs text-gray-600",children:i.description})]})]},i.id)})}),o.jsxs("div",{children:[o.jsx("label",{className:"block mb-2",children:o.jsx("span",{className:"text-sm font-semibold text-gray-700",children:" Eigener Wunsch (optional):"})}),o.jsx("textarea",{value:e.customWish,onChange:r,placeholder:"z.B. 'Die Geschichte soll im Weltall spielen' oder 'Mit einem sprechenden Drachen'",maxLength:200,className:`\r
            w-full p-4 border-2 border-gray-200 rounded-xl\r
            focus:border-purple-500 focus:ring-4 focus:ring-purple-100\r
            resize-none transition-all\r
          `,rows:3}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e.customWish.length,"/200 Zeichen"]})]}),o.jsx("div",{className:"bg-blue-50 border-2 border-blue-400 rounded-xl p-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:" Hinweis:"})," Alle Wnsche sind optional. Die KI wird ihr Bestes tun, deine Wnsche einzubauen, aber die Geschichte bleibt immer spannend und logisch!"]})})]})}const p8={"fairy-tales":" Klassische Mrchen",adventure:" Abenteuer & Schtze",magic:" Mrchenwelten & Magie",animals:" Tierwelten",scifi:" Sci-Fi & Zukunft",modern:" Modern & Realitt"},g8={"3-5":"3-5 Jahre","6-8":"6-8 Jahre","9-12":"9-12 Jahre","13+":"13+ Jahre"},y8={short:" Kurz (5-10 Min)",medium:" Mittel (10-15 Min)",long:" Lang (15-25 Min)"},x8={funny:" Lustig",warm:" Herzlich",exciting:" Spannend",crazy:" Verrckt",meaningful:" Bedeutungsvoll"};function v8({state:e,onGenerate:t}){const s=[e.rhymes&&" Mit Reimen",e.moral&&" Mit Moral",e.avatarIsHero&&" Avatar ist Held",e.famousCharacters&&" Bekannte Figuren",e.happyEnd&&" Happy End",e.surpriseEnd&&" berraschungs-Ende"].filter(Boolean);return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:" Alles bereit!"}),o.jsx("p",{className:"text-gray-600",children:"berprfe deine Auswahl und erstelle die Geschichte."})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-white border-2 border-purple-200 rounded-xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(gs,{size:24,className:"text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Avatare"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[e.selectedAvatars.length," Avatar",e.selectedAvatars.length>1?"e":""," ausgewhlt"]})]}),o.jsx(ls,{size:20,className:"text-green-500 flex-shrink-0"})]}),o.jsxs("div",{className:"bg-white border-2 border-blue-200 rounded-xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(gn,{size:24,className:"text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Kategorie"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.mainCategory?p8[e.mainCategory]:"Nicht gewhlt"})]}),o.jsx(ls,{size:20,className:"text-green-500 flex-shrink-0"})]}),o.jsxs("div",{className:"bg-white border-2 border-green-200 rounded-xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Dr,{size:24,className:"text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Alter & Lnge"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[e.ageGroup&&g8[e.ageGroup],", ",e.length&&y8[e.length]]})]}),o.jsx(ls,{size:20,className:"text-green-500 flex-shrink-0"})]}),o.jsxs("div",{className:"bg-white border-2 border-pink-200 rounded-xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Md,{size:24,className:"text-pink-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Gefhle"}),o.jsx("p",{className:"text-sm text-gray-600",children:e.feelings.map(r=>x8[r]).join(", ")})]}),o.jsx(ls,{size:20,className:"text-green-500 flex-shrink-0"})]}),(s.length>0||e.customWish)&&o.jsxs("div",{className:"bg-white border-2 border-yellow-200 rounded-xl p-4 flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(wt,{size:24,className:"text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-semibold text-gray-800 mb-1",children:"Besondere Wnsche"}),s.length>0&&o.jsx("p",{className:"text-sm text-gray-600 mb-1",children:s.join(", ")}),e.customWish&&o.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',e.customWish,'"']})]}),o.jsx(ls,{size:20,className:"text-green-500 flex-shrink-0"})]})]}),o.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-300 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx(wt,{size:32,className:"text-purple-600 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-purple-900 mb-2",children:" Deine einzigartige Geschichte wird jetzt erstellt!"}),o.jsxs("p",{className:"text-sm text-purple-800",children:["Die KI erstellt eine komplett neue Geschichte basierend auf deinen Wnschen. Das dauert ca. ",o.jsx("strong",{children:"60-90 Sekunden"}),". Mit Bildern insgesamt ",o.jsx("strong",{children:"2-3 Minuten"}),"."]})]})]})}),o.jsxs("button",{onClick:t,className:`\r
          w-full py-6 rounded-2xl font-bold text-2xl\r
          bg-gradient-to-r from-purple-600 via-pink-600 to-red-600\r
          text-white shadow-2xl transform transition-all duration-200\r
          hover:scale-105 active:scale-95\r
          flex items-center justify-center gap-4\r
        `,children:[o.jsx(wt,{size:32,className:"animate-pulse"}),"GESCHICHTE JETZT ERSTELLEN!",o.jsx(wt,{size:32,className:"animate-pulse"})]})]})}const il=["Wer spielt mit?","Was fr eine Geschichte?","Wie alt & wie lang?","Welches Gefhl?","Besondere Wnsche","Zusammenfassung"];function b8(){const e=Gt(),t=yt(),{userId:s}=vr(),[r,i]=b.useState(0),[c,u]=b.useState(!1),[h,p]=b.useState("profiles"),[m,g]=b.useState({selectedAvatars:[],mainCategory:null,subCategory:null,ageGroup:null,length:null,feelings:[],rhymes:!1,moral:!1,avatarIsHero:!0,famousCharacters:!1,happyEnd:!0,surpriseEnd:!1,customWish:""}),y=C=>{g(R=>({...R,...C}))},v=()=>{r<il.length-1&&i(C=>C+1)},j=()=>{r>0&&i(C=>C-1)},A=async()=>{if(!s){alert("Bitte melde dich an, um eine Geschichte zu erstellen.");return}try{u(!0),p("profiles"),await new Promise(N=>setTimeout(N,1200)),p("memories"),await new Promise(N=>setTimeout(N,1200)),p("text");const C=w8(m);console.log("[ModernWizard] Generating story with config:",C);const R=await t.story.generate({userId:s,config:C});console.log("[ModernWizard] Story generated:",R),p("validation"),await new Promise(N=>setTimeout(N,900)),p("images"),await new Promise(N=>setTimeout(N,1200)),p("complete"),await new Promise(N=>setTimeout(N,800)),alert(`Geschichte "${R.title}" wurde erfolgreich erstellt! `),e(`/story-reader/${R.id}`)}catch(C){console.error("[ModernWizard] Error generating story:",C);let R="Die Geschichte konnte nicht erstellt werden. Bitte versuche es erneut.";C instanceof Error&&(C.message.includes("length limit exceeded")?R="Die Anfrage ist zu gro. Bitte versuche es erneut.":C.message.includes("timeout")&&(R="Die Generierung dauert zu lange. Bitte whle eine krzere Geschichte.")),alert(R)}finally{u(!1),p("profiles")}},k=()=>{switch(r){case 0:return m.selectedAvatars.length>0;case 1:return m.mainCategory!==null;case 2:return m.ageGroup!==null&&m.length!==null;case 3:return m.feelings.length>0;case 4:return!0;case 5:return!0;default:return!1}},E=()=>{switch(r){case 0:return o.jsx(a8,{state:m,updateState:y});case 1:return o.jsx(o8,{state:m,updateState:y});case 2:return o.jsx(u8,{state:m,updateState:y});case 3:return o.jsx(h8,{state:m,updateState:y});case 4:return o.jsx(m8,{state:m,updateState:y});case 5:return o.jsx(v8,{state:m,onGenerate:A});default:return null}};return c?o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx(wt,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),o.jsx("h1",{className:"text-4xl font-bold text-purple-600 mb-2",children:" Deine Geschichte wird erstellt!"}),o.jsx("p",{className:"text-gray-600",children:"Das kann 2-3 Minuten dauern. Bitte nicht schlieen!"})]}),o.jsx(TC,{currentStep:h})]})}):o.jsx("div",{className:"max-w-4xl mx-auto p-6",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-purple-600 mb-2",children:" Neue Geschichte erstellen"}),o.jsxs("p",{className:"text-gray-600",children:["Schritt ",r+1," von ",il.length]})]}),o.jsx("div",{className:"flex items-center justify-between mb-8",children:il.map((C,R)=>o.jsxs("div",{className:"flex items-center flex-1",children:[o.jsxs("div",{className:"flex flex-col items-center flex-1",children:[o.jsx("div",{className:`
                  w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm
                  ${R<r?"bg-green-500 text-white":""}
                  ${R===r?"bg-purple-600 text-white ring-4 ring-purple-200":""}
                  ${R>r?"bg-gray-200 text-gray-500":""}
                `,children:R<r?o.jsx(ls,{size:20}):R+1}),o.jsx("span",{className:`text-xs mt-2 text-center ${R===r?"font-bold text-purple-600":"text-gray-500"}`,children:C})]}),R<il.length-1&&o.jsx("div",{className:`h-1 flex-1 mx-2 rounded ${R<r?"bg-green-500":"bg-gray-200"}`})]},C))}),o.jsx("div",{className:"min-h-[400px] mb-8",children:E()}),o.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-gray-200",children:[o.jsxs("button",{onClick:j,disabled:r===0,className:`
              flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all
              ${r===0?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-700 hover:bg-gray-300 active:scale-95"}
            `,children:[o.jsx(yn,{size:20}),"Zurck"]}),r<il.length-1?o.jsxs("button",{onClick:v,disabled:!k(),className:`
                flex items-center gap-2 px-6 py-3 rounded-lg font-medium transition-all
                ${k()?"bg-purple-600 text-white hover:bg-purple-700 active:scale-95 shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}
              `,children:["Weiter",o.jsx(Jg,{size:20})]}):o.jsxs("button",{onClick:A,className:`\r
                flex items-center gap-3 px-8 py-4 rounded-lg font-bold text-xl\r
                bg-gradient-to-r from-green-500 to-emerald-600 text-white\r
                hover:from-green-600 hover:to-emerald-700 active:scale-95\r
                shadow-2xl transform transition-all duration-200\r
              `,children:[o.jsx(wt,{size:24}),"GESCHICHTE ERSTELLEN!"]})]})]})})}function w8(e){const t={"3-5":"3-5","6-8":"6-8","9-12":"9-12","13+":"13+"},s={short:"short",medium:"medium",long:"long"},r={"fairy-tales":"fantasy",adventure:"adventure",magic:"fantasy",animals:"animals",scifi:"scifi",modern:"realistic"};let i="warm";return e.feelings.includes("funny")?i="witty":e.feelings.includes("exciting")?i="epic":e.feelings.includes("warm")?i="warm":e.feelings.includes("crazy")?i="mischievous":e.feelings.includes("meaningful")?i="soothing":e.mainCategory==="magic"&&(i="wonder"),{avatarIds:e.selectedAvatars,ageGroup:e.ageGroup?t[e.ageGroup]:"6-8",genre:e.mainCategory?r[e.mainCategory]:"adventure",length:e.length?s[e.length]:"medium",complexity:"medium",setting:e.mainCategory==="fairy-tales"?"fantasy":"varied",suspenseLevel:e.feelings.includes("exciting")?2:1,humorLevel:e.feelings.includes("funny")?2:1,tone:i,pacing:e.feelings.includes("exciting")?"fast":"balanced",allowRhymes:e.rhymes,hasTwist:e.surpriseEnd,customPrompt:e.customWish||void 0,preferences:{useFairyTaleTemplate:e.mainCategory==="fairy-tales"}}}const S8=()=>{var se,K,re;const{storyId:e}=Pa(),t=Gt(),s=lr(),r=yt(),{getToken:i}=vr(),[c,u]=b.useState(null),[h,p]=b.useState(!0),[m,g]=b.useState(null),[y,v]=b.useState(!1),[j,A]=b.useState(0),[k,E]=b.useState(!1),[C,R]=b.useState(1),[N,D]=b.useState(!1),P=b.useRef(null);b.useEffect(()=>{e&&M()},[e,s.state]),b.useEffect(()=>{const Q=P.current;if(!Q)return;const B=()=>{const L=Q.scrollHeight-Q.scrollTop<=Q.clientHeight+5;E(L)};return Q.addEventListener("scroll",B),B(),()=>Q.removeEventListener("scroll",B)},[j,y]);const M=async()=>{if(e)try{p(!0),g(null);const Q=await r.story.get(e);u(Q)}catch(Q){console.error("Error loading story:",Q),g("Geschichte konnte nicht geladen werden.")}finally{p(!1)}},U=()=>{v(!0),E(!1)},_=async Q=>{!c||Q<0||Q>=c.chapters.length||(R(Q>j?1:-1),A(Q),E(!1),Q===c.chapters.length-1&&!N&&await I())},I=async()=>{if(console.log(" Story completed - triggering personality updates for all eligible avatars"),!c||!e){console.log("Story completion aborted - missing requirements");return}try{D(!0);const Q=await i(),{getBackendUrl:B}=await ft(async()=>{const{getBackendUrl:Y}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:Y}},void 0),L=B(),V=await fetch(`${L}/story/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",...Q?{Authorization:`Bearer ${Q}`}:{}},credentials:"include",body:JSON.stringify({storyId:e,storyTitle:c.title,genre:c.config.genre})});if(V.ok){let Y=function(X){const Z=X.split("."),F=Z.length>1?Z[1]:null,ie=Z[0],oe={knowledge:"Wissen",creativity:"Kreativitt",vocabulary:"Wortschatz",courage:"Mut",curiosity:"Neugier",teamwork:"Teamgeist",empathy:"Empathie",persistence:"Ausdauer",logic:"Logik",history:"Geschichte",science:"Wissenschaft",geography:"Geografie",physics:"Physik",biology:"Biologie",chemistry:"Chemie",mathematics:"Mathematik",kindness:"Freundlichkeit",humor:"Humor",determination:"Entschlossenheit",wisdom:"Weisheit"};return F?oe[F.toLowerCase()]||F:oe[ie.toLowerCase()]||X};const z=await V.json();console.log(" Personality updates applied:",z),ft(async()=>{const{showSuccessToast:X}=await import("./toastUtils-Bu-OBlOz.js");return{showSuccessToast:X}},[]).then(({showSuccessToast:X})=>{let Z=` Geschichte abgeschlossen! ${z.updatedAvatars} Avatare entwickelt.

`;z.personalityChanges&&z.personalityChanges.length>0&&z.personalityChanges.forEach(F=>{const ie=F.changes.map(oe=>`${oe.change>0?`+${oe.change}`:`${oe.change}`} ${Y(oe.trait)}`).join(", ");Z+=`${F.avatarName}: ${ie}
`}),X(Z.trim())})}else{const Y=await V.text();console.warn(" Failed to apply personality updates:",V.statusText,Y),ft(async()=>{const{showErrorToast:z,showStoryCompletionToast:X}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:z,showStoryCompletionToast:X}},[]).then(({showErrorToast:z,showStoryCompletionToast:X})=>{z(" Fehler bei der Persnlichkeitsentwicklung"),X(c.title)})}}catch(Q){console.error(" Error during story completion processing:",Q),ft(async()=>{const{showErrorToast:B,showStoryCompletionToast:L}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:B,showStoryCompletionToast:L}},[]).then(({showErrorToast:B,showStoryCompletionToast:L})=>{B(" Netzwerkfehler bei der Persnlichkeitsentwicklung"),L(c.title)})}},W={enter:Q=>({opacity:0,filter:"blur(10px)",x:Q*100}),center:{opacity:1,filter:"blur(0px)",x:0,transition:{duration:.5}},exit:Q=>({opacity:0,filter:"blur(10px)",x:Q*-100,transition:{duration:.3}})};if(h)return o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Lade Geschichte..."})]})});if(m||!c)return o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Fehler"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-6",children:m||"Die Geschichte konnte nicht gefunden werden."}),o.jsxs("button",{onClick:()=>t("/stories"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center mx-auto",children:[o.jsx(yn,{size:18,className:"mr-2"})," Zurck"]})]})});const H=(se=c.chapters)==null?void 0:se[j];return o.jsxs("div",{className:"w-screen h-screen bg-gray-100 dark:bg-gray-900 overflow-hidden",children:[o.jsx("button",{onClick:()=>y?v(!1):t("/stories"),className:"absolute top-4 left-4 z-20 p-2 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-full shadow-md hover:scale-105 transition-transform",children:o.jsx(yn,{className:"w-6 h-6 text-gray-700 dark:text-gray-200"})}),o.jsx(or,{initial:!1,children:y?o.jsxs("div",{className:"w-full h-full flex flex-col",children:[o.jsx(or,{initial:!1,custom:C,children:o.jsxs(je.div,{custom:C,variants:W,initial:"enter",animate:"center",exit:"exit",className:"w-full h-full flex flex-col pt-20 pb-32 absolute inset-0",children:[o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:(H==null?void 0:H.imageUrl)||`https://picsum.photos/seed/${c.id}-${j}/800/400`,alt:(H==null?void 0:H.title)||"",className:"w-full max-w-4xl max-h-[40vh] object-cover rounded-lg shadow-lg mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 dark:text-white mb-6",children:H==null?void 0:H.title})]}),o.jsx("div",{ref:P,className:"flex-1 overflow-y-auto px-4 md:px-12",children:o.jsx("div",{className:"max-w-3xl mx-auto text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed space-y-6",children:H==null?void 0:H.content.split(`
`).map((Q,B)=>o.jsx("p",{children:Q},B))})})]},j)}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-4",children:[o.jsx(je.button,{onClick:()=>_(j-1),disabled:j===0,className:"p-3 rounded-full disabled:opacity-30 transition-opacity",whileHover:{scale:1.1},whileTap:{scale:.9},animate:{opacity:k||j>0?1:0},children:o.jsx(gk,{className:"w-8 h-8"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx("div",{className:"w-full bg-gray-300/50 dark:bg-gray-600/50 rounded-full h-2.5",children:o.jsx(je.div,{className:"bg-blue-600 h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${(j+1)/(((K=c.chapters)==null?void 0:K.length)||1)*100}%`},transition:{ease:"easeInOut"}})}),o.jsxs("span",{className:"text-xs mt-1.5",children:["Kapitel ",j+1," / ",((re=c.chapters)==null?void 0:re.length)||1]})]}),c.chapters&&j===c.chapters.length-1?o.jsx(je.button,{onClick:()=>{N||I()},disabled:N,className:`px-6 py-3 rounded-full font-bold text-white transition-all ${N?"bg-green-600 cursor-default":"bg-purple-600 hover:bg-purple-700 hover:scale-105"}`,whileHover:N?{}:{scale:1.05},whileTap:N?{}:{scale:.95},animate:{opacity:k?1:.7},children:N?" Abgeschlossen!":" Geschichte abschlieen"}):o.jsx(je.button,{onClick:()=>_(j+1),disabled:!c.chapters||j===c.chapters.length-1,className:"p-3 rounded-full disabled:opacity-30 transition-opacity",whileHover:{scale:1.1},whileTap:{scale:.9},animate:{opacity:k||c.chapters&&j<c.chapters.length-1?1:0},children:o.jsx(Rd,{className:"w-8 h-8"})})]})})]},"reader"):o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full flex flex-col items-center justify-center p-8 text-center",children:[o.jsx(je.img,{src:c.coverImageUrl||"/placeholder-story.jpg",alt:c.title,className:"w-48 h-48 md:w-64 md:h-64 rounded-lg shadow-2xl mb-6 object-cover",layoutId:`story-cover-${c.id}`}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4",children:c.title}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mb-8",children:c.summary}),o.jsx("button",{onClick:U,className:"px-8 py-3 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition-transform hover:scale-105",children:"Lesen"})]},"summary")})]})},MC=({children:e,className:t})=>{const s=b.useRef(null),{scrollYProgress:r}=c2({target:s,offset:["start start","end start"]}),i=b.useRef(null),[c,u]=b.useState(0);b.useEffect(()=>{const m=()=>{if(i.current){const v=i.current.offsetHeight;u(v),console.log("TracingBeam: Content height updated to",v)}};m();const g=new ResizeObserver(()=>{setTimeout(m,100)});i.current&&g.observe(i.current),window.addEventListener("resize",m);const y=[setTimeout(m,100),setTimeout(m,500),setTimeout(m,1e3),setTimeout(m,2e3)];return()=>{g.disconnect(),window.removeEventListener("resize",m),y.forEach(clearTimeout)}},[e]);const h=lS(Rl(r,[0,.8],[50,c]),{stiffness:500,damping:90}),p=lS(Rl(r,[0,1],[50,c-200]),{stiffness:500,damping:90});return o.jsxs(je.div,{ref:s,className:xn("relative w-full max-w-4xl mx-auto h-full",t),children:[o.jsxs("div",{className:"absolute -left-4 md:-left-20 top-3",children:[o.jsx(je.div,{transition:{duration:.2,delay:.5},animate:{boxShadow:r.get()>0?"none":"rgba(0, 0, 0, 0.24) 0px 3px 8px"},className:"ml-[27px] h-4 w-4 rounded-full border border-netural-200 shadow-sm flex items-center justify-center",children:o.jsx(je.div,{transition:{duration:.2,delay:.5},animate:{backgroundColor:r.get()>0?"white":"rgb(34 197 94)",borderColor:r.get()>0?"white":"rgb(22 163 74)"},className:"h-2 w-2 rounded-full border border-neutral-300 bg-white"})}),o.jsxs("svg",{viewBox:`0 0 40 ${c}`,width:"40",height:c,className:"ml-4 block","aria-hidden":"true",children:[o.jsx(je.path,{d:`M 20 0 L 20 ${c}`,fill:"none",stroke:"#9091A0",strokeOpacity:"0.16",strokeWidth:"3",transition:{duration:10}}),o.jsx(je.path,{d:`M 20 0 L 20 ${c}`,fill:"none",stroke:"url(#gradient)",strokeWidth:"3",className:"motion-reduce:hidden",transition:{duration:10}}),o.jsx("defs",{children:o.jsxs(je.linearGradient,{id:"gradient",gradientUnits:"userSpaceOnUse",x1:"0",x2:"0",y1:h,y2:p,children:[o.jsx("stop",{stopColor:"#18CCFC",stopOpacity:"0"}),o.jsx("stop",{stopColor:"#18CCFC"}),o.jsx("stop",{offset:"0.325",stopColor:"#6344F5"}),o.jsx("stop",{offset:"1",stopColor:"#AE48FF",stopOpacity:"0"})]})})]})]}),o.jsx("div",{ref:i,children:e})]})},_C=b.createContext({});function j8(){return b.useContext(_C)}function OC({text:e,className:t,type:s="letter",textOpacity:r="soft"}){const i=b.useRef(null),{scrollYProgress:c}=c2({target:i,offset:["start center","end center"]}),u=e.split(" ");return o.jsx(_C.Provider,{value:{textOpacity:r,type:s},children:o.jsx("p",{ref:i,className:xn("relative flex m-0 flex-wrap",t),children:u.map((h,p)=>{const m=p/u.length,g=m+1/u.length;return s==="word"?o.jsx(k8,{progress:c,range:[m,g],children:h},p):o.jsx(T8,{progress:c,range:[m,g],children:h},p)})})})}const k8=({children:e,progress:t,range:s})=>{const r=Rl(t,s,[0,1]);return o.jsxs("span",{className:"relative me-2 mt-2",children:[o.jsx("span",{style:{position:"absolute",opacity:.1},children:e}),o.jsx(je.span,{style:{transition:"all .5s",opacity:r},children:e})]})},T8=({children:e,progress:t,range:s})=>{if(typeof e=="string"){const i=(s[1]-s[0])/e.length;return o.jsx("span",{className:"relative me-2 mt-2",children:e.split("").map((c,u)=>{const h=s[0]+u*i,p=s[0]+(u+1)*i;return o.jsx(C8,{progress:t,range:[h,p],children:c},`c_${u}`)})})}},C8=({children:e,progress:t,range:s})=>{const r=Rl(t,s,[0,1]),{textOpacity:i}=j8();return o.jsxs("span",{children:[o.jsx("span",{className:xn("absolute",{"opacity-0":i=="none","opacity-10":i=="soft","opacity-30":i=="medium"}),children:e}),o.jsx(je.span,{style:{transition:"all .5s",opacity:r},children:e})]})},E8=()=>{var R,N;const{storyId:e}=Pa(),t=Gt(),s=yt(),{getToken:r}=vr(),[i,c]=b.useState(null),[u,h]=b.useState(!0),[p,m]=b.useState(null),[g,y]=b.useState(!1),[v,j]=b.useState(!1);b.useEffect(()=>{e&&A()},[e]);const A=async()=>{if(e)try{h(!0),m(null);const D=await s.story.get(e);c(D)}catch(D){console.error("Error loading story:",D),m("Geschichte konnte nicht geladen werden.")}finally{h(!1)}},k=()=>{y(!0)},E=async()=>{if(console.log(" Story completed - triggering personality updates for all eligible avatars"),!i||!e||v){console.log("Story completion aborted - missing requirements or already completed");return}try{j(!0);const D=await r(),{getBackendUrl:P}=await ft(async()=>{const{getBackendUrl:_}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:_}},void 0),M=P(),U=await fetch(`${M}/story/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",...D?{Authorization:`Bearer ${D}`}:{}},credentials:"include",body:JSON.stringify({storyId:e,storyTitle:i.title,genre:i.config.genre})});if(U.ok){const _=await U.json();console.log(" Personality updates applied:",_),ft(async()=>{const{showSuccessToast:I}=await import("./toastUtils-Bu-OBlOz.js");return{showSuccessToast:I}},[]).then(({showSuccessToast:I})=>{let W=` Geschichte abgeschlossen! ${_.updatedAvatars} Avatare entwickelt.

`;_.personalityChanges&&_.personalityChanges.length>0&&_.personalityChanges.forEach(H=>{const se=H.changes.map(K=>`${K.change>0?`+${K.change}`:`${K.change}`} ${C(K.trait)}`).join(", ");W+=`${H.avatarName}: ${se}
`}),I(W.trim())})}else{const _=await U.text();console.warn(" Failed to apply personality updates:",U.statusText,_),ft(async()=>{const{showErrorToast:I,showStoryCompletionToast:W}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:I,showStoryCompletionToast:W}},[]).then(({showErrorToast:I,showStoryCompletionToast:W})=>{I(" Fehler bei der Persnlichkeitsentwicklung"),W(i.title)})}}catch(D){console.error(" Error during story completion processing:",D),ft(async()=>{const{showErrorToast:P,showStoryCompletionToast:M}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:P,showStoryCompletionToast:M}},[]).then(({showErrorToast:P,showStoryCompletionToast:M})=>{P(" Netzwerkfehler bei der Persnlichkeitsentwicklung"),M(i.title)})}};function C(D){const P=D.split("."),M=P.length>1?P[1]:null,U=P[0],_={knowledge:"Wissen",creativity:"Kreativitt",vocabulary:"Wortschatz",courage:"Mut",curiosity:"Neugier",teamwork:"Teamgeist",empathy:"Empathie",persistence:"Ausdauer",logic:"Logik",history:"Geschichte",science:"Wissenschaft",geography:"Geografie",physics:"Physik",biology:"Biologie",chemistry:"Chemie",mathematics:"Mathematik",kindness:"Freundlichkeit",humor:"Humor",determination:"Entschlossenheit",wisdom:"Weisheit"};return M?_[M.toLowerCase()]||M:_[U.toLowerCase()]||D}return u?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Lade Geschichte..."})]})}):p||!i?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Fehler"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-6",children:p||"Die Geschichte konnte nicht gefunden werden."}),o.jsxs("button",{onClick:()=>t("/stories"),className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors flex items-center mx-auto",children:[o.jsx(yn,{size:18,className:"mr-2"})," Zurck"]})]})}):o.jsxs("div",{className:"min-h-screen w-full bg-gray-100 dark:bg-gray-900",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>g?y(!1):t("/stories"),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[o.jsx(yn,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Zurck"})]}),g&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[o.jsx(gn,{className:"w-5 h-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[((R=i.chapters)==null?void 0:R.length)||0," Kapitel"]})]})]})}),o.jsx(or,{mode:"wait",children:g?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full",children:o.jsx("div",{className:"pt-24 pb-32",children:o.jsx(MC,{className:"px-6",children:o.jsxs("div",{className:"max-w-3xl mx-auto antialiased",children:[(N=i.chapters)==null?void 0:N.map((D,P)=>o.jsxs("div",{className:"mb-16",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-sm w-fit px-6 py-2 mb-6 font-semibold shadow-lg",children:["Kapitel ",P+1]}),o.jsx("h2",{className:"text-3xl md:text-4xl mb-6 font-bold text-gray-800 dark:text-white",children:D.title}),D.imageUrl&&o.jsx("img",{src:D.imageUrl,alt:D.title,className:"rounded-2xl mb-8 w-full object-cover shadow-2xl",style:{maxHeight:"500px"}}),o.jsx("div",{className:"text-lg md:text-xl prose prose-lg dark:prose-invert max-w-none leading-relaxed",children:D.content.split(`
`).map((M,U)=>M.trim()&&o.jsx("div",{className:"mb-6",children:o.jsx(OC,{text:M,type:"word",textOpacity:"soft",className:"text-gray-700 dark:text-gray-300"})},`p-${P}-${U}`))})]},`chapter-${P}`)),o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 border-t-2 border-dashed border-gray-300 dark:border-gray-600",children:[o.jsx(je.button,{onClick:E,disabled:v,className:`px-12 py-5 rounded-full font-bold text-xl text-white transition-all shadow-2xl ${v?"bg-gradient-to-r from-green-500 to-emerald-600 cursor-default":"bg-gradient-to-r from-purple-600 to-pink-600 hover:shadow-purple-500/50 hover:scale-105"}`,whileHover:v?{}:{scale:1.05},whileTap:v?{}:{scale:.95},children:v?" Geschichte abgeschlossen!":" Geschichte abschlieen"}),v&&o.jsx(je.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 text-gray-600 dark:text-gray-300 text-center",children:"Deine Avatare haben sich weiterentwickelt! "})]})]})})})},"reader"):o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center p-8 pt-24 text-center",children:[o.jsx(je.img,{src:i.coverImageUrl||"/placeholder-story.jpg",alt:i.title,className:"w-64 h-64 md:w-80 md:h-80 rounded-2xl shadow-2xl mb-8 object-cover",layoutId:`story-cover-${i.id}`}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-800 dark:text-white mb-6 max-w-4xl",children:i.title}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mb-10 leading-relaxed",children:i.summary}),o.jsx(je.button,{onClick:k,className:"px-10 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold text-lg rounded-full shadow-xl hover:shadow-2xl transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:" Lesen"})]},"cover")})]})},A8=({avatars:e,maxVisible:t=5,size:s=40,overlap:r=14})=>{const[i,c]=b.useState(null),u=e.slice(0,t),h=e.length-t;return o.jsx("div",{className:"flex items-center",children:o.jsxs("div",{className:"flex -space-x-3",children:[u.map((p,m)=>{const g=i===m;return o.jsxs("div",{className:"border-4 border-background rounded-full bg-background transition-all duration-300 relative",style:{width:s,height:s,zIndex:g?100:u.length-m,marginLeft:m===0?0:-r,position:"relative",transition:"margin-left 0.3s cubic-bezier(0.4,0,0.2,1), z-index 0s, box-shadow 0.3s cubic-bezier(0.4,0,0.2,1), transform 0.3s cubic-bezier(0.4,0,0.2,1)",transform:g?"translateY(-10px)":"translateY(0)"},onMouseEnter:()=>c(m),onMouseLeave:()=>c(null),children:[o.jsx("img",{src:p.src,alt:p.alt||`Avatar ${m+1}`,width:s,height:s,className:"rounded-full object-cover",style:{width:s,height:s},draggable:!1}),o.jsx(or,{children:g&&p.label&&o.jsx(je.div,{initial:{x:"-50%",y:10,opacity:0,scale:.7},animate:{x:"-50%",y:0,opacity:1,scale:1},exit:{x:"-50%",y:10,opacity:0,scale:.7},transition:{type:"spring",stiffness:400,damping:24},className:"absolute z-50 px-2 py-1 text-xs rounded shadow-lg whitespace-nowrap pointer-events-none font-semibold",style:{top:-s*.7,left:"50%",backgroundColor:"rgba(0, 0, 0, 0.85)",color:"white"},children:p.label},"tooltip")})]},m)}),h>0&&o.jsxs("div",{className:"flex items-center justify-center font-semibold border-4 border-background rounded-full",style:{width:s,height:s,marginLeft:-r,zIndex:0,fontSize:s*.32,transition:"margin-left 0.3s cubic-bezier(0.4,0,0.2,1)",backgroundColor:"#e879f9",color:"white"},children:["+",h]})]})})},N8=({story:e,onRead:t,onDelete:s})=>{const r=E=>{E.stopPropagation(),s&&s(e.id,e.title)},i={background:S.glass.background,backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:`2px solid ${S.border.light}`,borderRadius:`${fe.xl}px`,overflow:"hidden",boxShadow:$e.md,transition:`all ${_e.duration.normal} ${_e.easing.smooth}`,cursor:"pointer"},c={position:"relative",height:"220px",overflow:"hidden",background:S.gradients.sunset},u={width:"100%",height:"100%",objectFit:"cover",transition:`transform ${_e.duration.slow} ${_e.easing.smooth}`},h={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},p={position:"absolute",top:w.md,left:w.md,background:S.glass.background,backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.xs}px ${w.md}px`,...ee.textStyles.caption,fontWeight:"700",color:e.status==="complete"?S.semantic.success:S.semantic.warning,border:`2px solid ${e.status==="complete"?S.semantic.success+"40":S.semantic.warning+"40"}`},m={position:"absolute",top:w.md,right:w.md,background:S.semantic.error+"90",backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.sm}px`,border:"none",cursor:"pointer",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},g={position:"absolute",inset:0,background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%)"},y={padding:`${w.lg}px`},v={...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.xs,transition:`color ${_e.duration.fast} ${_e.easing.smooth}`},j={...ee.textStyles.bodySm,color:S.text.secondary,marginBottom:w.md,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},A={display:"flex",alignItems:"center",gap:w.md,marginTop:w.md},k={display:"flex",alignItems:"center",gap:w.xs,...ee.textStyles.caption,color:S.text.tertiary};return o.jsxs("div",{onClick:()=>t(e),style:i,onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-8px)",E.currentTarget.style.boxShadow=$e.xl;const C=E.currentTarget.querySelector("img");C&&(C.style.transform="scale(1.1)");const R=E.currentTarget.querySelector("[data-title]");R&&(R.style.color=S.rose[600])},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow=$e.md;const C=E.currentTarget.querySelector("img");C&&(C.style.transform="scale(1)");const R=E.currentTarget.querySelector("[data-title]");R&&(R.style.color=S.text.primary)},children:[o.jsxs("div",{style:c,children:[e.coverImageUrl?o.jsx("img",{src:e.coverImageUrl,alt:e.title,style:u}):o.jsx("div",{style:h,children:o.jsx(gn,{size:72,style:{color:S.text.inverse,opacity:.6}})}),o.jsx("div",{style:g}),e.status==="generating"&&o.jsx("div",{style:p,children:" Wird erstellt..."}),s&&o.jsx("button",{onClick:r,style:m,title:"Geschichte lschen",onMouseEnter:E=>{E.currentTarget.style.transform="scale(1.15)",E.currentTarget.style.background=S.semantic.error},onMouseLeave:E=>{E.currentTarget.style.transform="scale(1)",E.currentTarget.style.background=S.semantic.error+"90"},children:o.jsx(ds,{size:16,style:{color:S.text.inverse}})})]}),o.jsxs("div",{style:y,children:[o.jsx("h3",{style:v,"data-title":!0,children:e.title}),o.jsx("p",{style:j,children:e.summary||"Eine magische Geschichte voller Abenteuer"}),(e.config.avatars&&e.config.avatars.length>0||e.config.characters&&e.config.characters.length>0)&&o.jsxs("div",{style:{marginTop:w.md},children:[o.jsx("div",{style:{...ee.textStyles.caption,color:S.text.tertiary,marginBottom:w.xs,fontWeight:"600"},children:"Teilnehmer"}),o.jsx(A8,{avatars:[...(e.config.avatars||[]).map(E=>({src:E.imageUrl||"https://api.dicebear.com/7.x/avataaars/svg?seed="+E.name,alt:E.name,label:E.name})),...(e.config.characters||[]).map(E=>({src:E.imageUrl||"https://api.dicebear.com/7.x/bottts/svg?seed="+E.name,alt:E.name,label:E.name}))],maxVisible:5,size:40,overlap:4})]}),o.jsxs("div",{style:A,children:[o.jsxs("div",{style:k,children:[o.jsx(Dr,{size:14}),o.jsx("span",{children:new Date(e.createdAt).toLocaleDateString("de-DE")})]}),e.chapters&&o.jsxs("div",{style:k,children:[o.jsx(gn,{size:14}),o.jsxs("span",{children:[e.chapters.length," Seiten"]})]})]})]})]})};function US({trigger:e}){const[t,s]=b.useState(!1);return o.jsxs(Vd,{open:t,onOpenChange:s,children:[o.jsx(Fy,{asChild:!0,children:e||o.jsx(Gd,{children:"Neue Geschichte erstellen"})}),o.jsx(Hd,{children:o.jsx("div",{className:"h-full overflow-y-auto",children:o.jsx(RC,{})})})]})}const R8=()=>{const e=Gt(),t=yt(),[s,r]=b.useState([]),[i,c]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(!0),[g,y]=b.useState(0),v=b.useRef(null),j=async()=>{try{c(!0);const H=await t.story.list({limit:10,offset:0});r(H.stories),y(H.total),m(H.hasMore)}catch(H){console.error("Error loading stories:",H)}finally{c(!1)}},A=b.useCallback(async()=>{if(u||!p){console.log("Skipping load more:",{loadingMore:u,hasMore:p});return}console.log("Starting to load more stories. Current count:",s.length);try{h(!0);const H=await t.story.list({limit:10,offset:s.length});console.log("Loaded more stories:",H.stories.length,"hasMore:",H.hasMore),r(se=>[...se,...H.stories]),m(H.hasMore)}catch(H){console.error("Error loading more stories:",H)}finally{h(!1)}},[t,s.length,p,u,s]);b.useEffect(()=>{j()},[]),b.useEffect(()=>{const H=new IntersectionObserver(K=>{console.log("Intersection observer triggered:",{isIntersecting:K[0].isIntersecting,hasMore:p,loadingMore:u,loading:i,storiesCount:s.length}),K[0].isIntersecting&&p&&!u&&!i&&(console.log("Loading more stories..."),A())},{threshold:.1}),se=v.current;return se?(console.log("Observer target attached"),H.observe(se)):console.log("Observer target NOT found"),()=>{se&&H.unobserve(se)}},[p,u,i,A,s.length]);const k=H=>{e(`/story-reader/${H.id}`)},E=async(H,se)=>{if(window.confirm(`Mchtest du die Geschichte "${se}" wirklich lschen? Diese Aktion kann nicht rckgngig gemacht werden.`))try{await t.story.deleteStory(H),r(s.filter(K=>K.id!==H)),alert(`Geschichte "${se}" wurde erfolgreich gelscht.`)}catch(K){console.error("Error deleting story:",K),alert("Fehler beim Lschen der Geschichte. Bitte versuche es erneut.")}},C={minHeight:"100vh",background:S.background.primary,paddingBottom:"120px",position:"relative"},R={position:"absolute",filter:"blur(60px)",opacity:.6,borderRadius:"50%",transform:"translate(-50%, -50%)"},N={padding:`${w.xl}px`,marginBottom:`${w.lg}px`},D={borderRadius:`${fe.xl}px`,padding:`${w.xl}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,boxShadow:S.glass.shadowStrong,backdropFilter:"blur(18px) saturate(160%)",WebkitBackdropFilter:"blur(18px) saturate(160%)",position:"relative"},P={...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.sm,textShadow:"0 1px 1px rgba(255,255,255,0.35)",display:"flex",alignItems:"center",gap:w.md},M={...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},U={position:"absolute",top:w.lg,right:w.lg},_={padding:`0 ${w.xl}px`},I={textAlign:"center",padding:`${w.xxl}px`},W={display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.xxl}px`};return i?o.jsxs("div",{style:C,children:[o.jsx("div",{style:W,children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255,255,255,0.6)",borderTop:`4px solid ${S.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:`0 auto ${w.lg}px auto`}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},children:"Lade deine Geschichten... "})]})}),o.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):o.jsxs("div",{style:C,children:[o.jsx("div",{style:{...R,width:320,height:320,top:120,left:120,background:hs.primary}}),o.jsx("div",{style:{...R,width:280,height:280,top:240,right:-40,background:hs.cool}}),o.jsx("div",{style:{...R,width:240,height:240,bottom:-40,left:"50%",background:hs.warm}}),o.jsx(za,{children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xxxl}px ${w.xl}px`},children:[o.jsx(Se,{delay:100,children:o.jsx("h1",{style:{...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.md},children:"Melde dich an, um deine Geschichten zu sehen"})}),o.jsx(Se,{delay:200,children:o.jsx(Ve,{title:"Anmelden",onPress:()=>e("/auth"),variant:"primary",size:"lg"})})]})}),o.jsxs(ea,{children:[o.jsx(Se,{delay:0,children:o.jsx("div",{style:N,children:o.jsxs("div",{style:D,children:[o.jsxs("div",{style:P,children:[o.jsx(gn,{size:36,style:{color:S.primary[500]}}),"Deine Geschichten"]}),o.jsxs("div",{style:M,children:["Entdecke all deine magischen Abenteuer (",g," Geschichten)"]}),o.jsx("div",{style:U,children:o.jsx(US,{})})]})})}),o.jsx(Se,{delay:100,children:o.jsx("div",{style:_,children:s.length===0?o.jsxs(Ee,{variant:"glass",style:I,children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:`${w.lg}px`},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.sm}px`},children:"Noch keine Geschichten"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:`${w.lg}px`,fontSize:"16px"},children:"Erschaffe deine erste magische Geschichte!"}),o.jsx(US,{})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(H=>o.jsx(N8,{story:H,onRead:k,onDelete:E},H.id))}),p&&o.jsx("div",{ref:v,style:{height:"20px",margin:`${w.lg}px 0`},children:u&&o.jsx("div",{style:{textAlign:"center"},children:o.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.6)",borderTop:`3px solid ${S.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})})})]})})})]})]})},M8=()=>{const e=Gt();yt();const[t,s]=b.useState([]),[r,i]=b.useState(!0),[c,u]=b.useState(null);b.useEffect(()=>{h()},[]);const h=async()=>{try{i(!0),u(null);const m=await fetch("/story/fairytales",{method:"GET",headers:{"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to load fairy tales");const g=await m.json();s(g.tales||[])}catch(m){console.error("[FairyTaleSelection] Error loading tales:",m),u("Fehler beim Laden der Mrchen. Bitte versuche es erneut.")}finally{i(!1)}},p=m=>{e(`/story/fairytale/${m.id}/map-characters`,{state:{tale:m}})};return r?o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:w.xl},children:[o.jsx("div",{className:"spinner",style:{marginBottom:w.md}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Mrchen werden geladen..."})]}):c?o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:w.xl},children:[o.jsx(sd,{size:48,color:S.semantic.error,style:{marginBottom:w.md}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.semantic.error,textAlign:"center",marginBottom:w.lg},children:c}),o.jsx(Ve,{title:"Erneut versuchen",variant:"primary",onPress:h})]}):o.jsx("div",{style:{padding:w.xl,maxWidth:"1200px",margin:"0 auto"},children:o.jsxs(Se,{children:[o.jsxs("div",{style:{marginBottom:w.xl},children:[o.jsx("h1",{style:{...ee.textStyles.displayMd,marginBottom:w.sm},children:"Whle ein Mrchen"}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Personalisiere klassische Geschichten mit deinen Avataren"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:w.lg},children:t.map(m=>o.jsx(je.div,{whileHover:{scale:1.02,y:-4},transition:{duration:.2},children:o.jsxs(Ee,{onPress:()=>p(m),style:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{style:{marginBottom:w.md},children:[o.jsx("h3",{style:{...ee.textStyles.headingMd,marginBottom:w.xs},children:m.title}),o.jsx("p",{style:{...ee.textStyles.caption,color:S.primary[500],fontWeight:600},children:m.source})]}),m.summary&&o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:w.md,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:m.summary}),o.jsxs("div",{style:{display:"flex",gap:w.lg,marginBottom:w.md},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.xs},children:[o.jsx(na,{size:16,color:S.text.secondary}),o.jsxs("span",{style:{...ee.textStyles.caption,color:S.text.secondary},children:[m.ageRecommendation,"+ Jahre"]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.xs},children:[o.jsx(Dr,{size:16,color:S.text.secondary}),o.jsxs("span",{style:{...ee.textStyles.caption,color:S.text.secondary},children:["~",m.durationMinutes," Min"]})]})]}),m.genreTags&&m.genreTags.length>0&&o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:w.xs,marginTop:"auto"},children:m.genreTags.slice(0,3).map((g,y)=>o.jsx("span",{style:{...ee.textStyles.caption,backgroundColor:S.background.secondary,color:S.text.secondary,padding:`${w.xs}px ${w.sm}px`,borderRadius:fe.pill,fontWeight:500},children:g},y))}),o.jsxs("div",{style:{marginTop:w.md,display:"flex",alignItems:"center",justifyContent:"flex-end",color:S.primary[500]},children:[o.jsx(wt,{size:18}),o.jsx("span",{style:{...ee.textStyles.caption,marginLeft:w.xs,fontWeight:600},children:"Auswhlen"})]})]})},m.id))})]})})},_8=()=>{const{taleId:e}=Pa(),t=Gt();lr();const s=yt(),[r,i]=b.useState(null),[c,u]=b.useState([]),[h,p]=b.useState({}),[m,g]=b.useState(!0),[y,v]=b.useState(!1),[j,A]=b.useState(null);b.useEffect(()=>{k()},[e]);const k=async()=>{try{g(!0),A(null);const M=await fetch(`/story/fairytale/${e}/details`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!M.ok)throw new Error("Failed to load fairy tale details");const U=await M.json();i(U);const _=await s.avatar.list();u(_.avatars||[])}catch(M){console.error("Error loading data:",M),A("Fehler beim Laden der Daten. Bitte versuche es erneut.")}finally{g(!1)}},E=(M,U)=>{p(_=>({..._,[M]:U}))},C=()=>{if(!r)return"Mrchen nicht geladen";const U=r.roles.filter(_=>_.isRequired).filter(_=>!h[_.roleType]);return U.length>0?`Bitte weise Avatare fr alle erforderlichen Rollen zu: ${U.map(_=>_.name).join(", ")}`:null},R=async()=>{const M=C();if(M){A(M);return}try{v(!0),A(null);const U=await fetch("/story/generate-from-fairytale",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"",taleId:e,characterMappings:h,length:"medium",style:"classic"})});if(!U.ok)throw new Error("Failed to generate story");const _=await U.json();t(`/story-reader/${_.id}`)}catch(U){console.error("Error generating story:",U),A("Fehler beim Generieren der Geschichte. Bitte versuche es erneut.")}finally{v(!1)}},N=M=>c.filter(U=>{var H,se,K;const _=M.requirements,I=(H=U.visualProfile)!=null&&H.ageApprox?parseInt(U.visualProfile.ageApprox):void 0,W=(K=(se=U.visualProfile)==null?void 0:se.gender)==null?void 0:K.toLowerCase();return!(_.minAge&&I&&I<_.minAge||_.maxAge&&I&&I>_.maxAge||_.gender&&W&&W!==_.gender.toLowerCase())});if(m)return o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:w.xl},children:[o.jsx("div",{className:"spinner",style:{marginBottom:w.md}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Wird geladen..."})]});if(j&&!r)return o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"400px",padding:w.xl},children:[o.jsx(sd,{size:48,color:S.semantic.error,style:{marginBottom:w.md}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.semantic.error,textAlign:"center",marginBottom:w.lg},children:j}),o.jsx(Ve,{title:"Zurck",variant:"outline",onPress:()=>t("/story/fairytale-selection")})]});if(!r)return null;const P=r.roles.filter(M=>M.isRequired).every(M=>h[M.roleType])&&!y;return o.jsx("div",{style:{padding:w.xl,maxWidth:"1200px",margin:"0 auto"},children:o.jsxs(Se,{children:[o.jsxs("div",{style:{marginBottom:w.xl},children:[o.jsxs("button",{onClick:()=>t("/story/fairytale-selection"),style:{display:"flex",alignItems:"center",gap:w.xs,marginBottom:w.lg,background:"none",border:"none",cursor:"pointer",color:S.text.secondary,...ee.textStyles.body},children:[o.jsx(yn,{size:20}),"Zurck zur Auswahl"]}),o.jsx("h1",{style:{...ee.textStyles.displayMd,marginBottom:w.sm},children:r.title}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Weise deine Avatare den Rollen zu"})]}),j&&o.jsxs(je.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{padding:w.md,marginBottom:w.lg,backgroundColor:S.semantic.error+"15",border:`1px solid ${S.semantic.error}`,borderRadius:fe.lg,display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx(sd,{size:20,color:S.semantic.error}),o.jsx("p",{style:{...ee.textStyles.bodySm,color:S.semantic.error,margin:0},children:j})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:w.lg,marginBottom:w.xl},children:r.roles.map(M=>{const U=N(M),_=h[M.roleType],I=c.find(W=>W.id===_);return o.jsxs(Ee,{padding:"lg",variant:"elevated",children:[o.jsxs("div",{style:{marginBottom:w.md},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:w.xs},children:[o.jsx("h3",{style:{...ee.textStyles.headingMd,margin:0},children:M.name}),M.isRequired&&o.jsx("span",{style:{...ee.textStyles.caption,color:S.primary[500],backgroundColor:S.primary[50],padding:`${w.xs}px ${w.sm}px`,borderRadius:fe.pill,fontWeight:600},children:"Erforderlich"})]}),M.description&&o.jsx("p",{style:{...ee.textStyles.bodySm,color:S.text.secondary,margin:0},children:M.description})]}),(M.requirements.minAge||M.requirements.gender||M.requirements.archetype)&&o.jsxs("div",{style:{padding:w.sm,backgroundColor:S.background.tertiary,borderRadius:fe.md,marginBottom:w.md},children:[o.jsx("p",{style:{...ee.textStyles.caption,color:S.text.tertiary,margin:0,marginBottom:w.xs},children:"Anforderungen:"}),o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:w.sm},children:[M.requirements.minAge&&M.requirements.maxAge&&o.jsxs("span",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:[" Alter: ",M.requirements.minAge,"-",M.requirements.maxAge," Jahre"]}),M.requirements.gender&&o.jsxs("span",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:[" Geschlecht: ",M.requirements.gender]}),M.requirements.archetype&&o.jsxs("span",{style:{...ee.textStyles.bodySm,color:S.text.secondary},children:[" Typ: ",M.requirements.archetype]})]})]}),I&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.md,padding:w.md,backgroundColor:S.primary[50],borderRadius:fe.lg,marginBottom:w.md},children:[o.jsx(z1,{size:24,color:S.primary[500]}),I.imageUrl&&o.jsx("img",{src:I.imageUrl,alt:I.name,style:{width:"48px",height:"48px",borderRadius:fe.md,objectFit:"cover"}}),o.jsxs("div",{style:{flex:1},children:[o.jsx("p",{style:{...ee.textStyles.label,margin:0},children:I.name}),I.description&&o.jsx("p",{style:{...ee.textStyles.caption,color:S.text.secondary,margin:0},children:I.description})]})]}),o.jsxs("div",{children:[o.jsx("p",{style:{...ee.textStyles.label,marginBottom:w.sm},children:U.length>0?"Passende Avatare:":"Alle Avatare:"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:w.sm},children:(U.length>0?U:c).map(W=>{const H=h[M.roleType]===W.id,se=U.includes(W);return o.jsxs(je.button,{onClick:()=>E(M.roleType,W.id),whileHover:{scale:1.05},whileTap:{scale:.95},style:{padding:w.sm,borderRadius:fe.md,border:`2px solid ${H?S.primary[500]:se?S.primary[200]:S.border.light}`,backgroundColor:H?S.primary[50]:S.background.card,cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:w.xs,position:"relative"},children:[W.imageUrl?o.jsx("img",{src:W.imageUrl,alt:W.name,style:{width:"60px",height:"60px",borderRadius:fe.md,objectFit:"cover"}}):o.jsx("div",{style:{width:"60px",height:"60px",borderRadius:fe.md,backgroundColor:S.background.secondary,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(gs,{size:32,color:S.text.tertiary})}),o.jsx("span",{style:{...ee.textStyles.caption,color:H?S.primary[700]:S.text.primary,fontWeight:H?600:400,textAlign:"center"},children:W.name}),H&&o.jsx("div",{style:{position:"absolute",top:w.xs,right:w.xs,backgroundColor:S.primary[500],borderRadius:"50%",padding:"2px"},children:o.jsx(z1,{size:16,color:"white"})})]},W.id)})})]})]},M.id)})}),o.jsx("div",{style:{position:"sticky",bottom:w.lg,display:"flex",justifyContent:"center",paddingTop:w.lg},children:o.jsxs(Ee,{padding:"md",variant:"glass",style:{display:"flex",alignItems:"center",gap:w.md},children:[o.jsx(Ve,{title:y?"Geschichte wird erstellt...":"Geschichte generieren",variant:"primary",size:"lg",onPress:R,disabled:!P,icon:y?void 0:o.jsx(wt,{size:20})}),!P&&!y&&o.jsx("p",{style:{...ee.textStyles.caption,color:S.text.secondary,margin:0},children:"Bitte weise alle erforderlichen Rollen zu"})]})})]})})},O8=typeof globalThis=="object"&&"window"in globalThis;class Hy{constructor(t,s){this.target=t,this.options=s??{};const r=new $8(this.target,this.options);this.admin=new kg.ServiceClient(r),this.ai=new Tg.ServiceClient(r),this.avatar=new Cg.ServiceClient(r),this.doku=new Eg.ServiceClient(r),this.fairytales=new Ag.ServiceClient(r),this.health=new Ng.ServiceClient(r),this.log=new Rg.ServiceClient(r),this.story=new Mg.ServiceClient(r),this.tavi=new _g.ServiceClient(r),this.user=new Og.ServiceClient(r)}with(t){return new Hy(this.target,{...this.options,...t})}}var kg;(e=>{class t{constructor(r){this.baseClient=r,this.deleteUser=this.deleteUser.bind(this),this.getStats=this.getStats.bind(this),this.listAvatarsAdmin=this.listAvatarsAdmin.bind(this),this.listUsers=this.listUsers.bind(this),this.promoteToAdmin=this.promoteToAdmin.bind(this),this.updateAvatarAdmin=this.updateAvatarAdmin.bind(this),this.updateUser=this.updateUser.bind(this)}async deleteUser(r){const i=await this.baseClient.callTypedAPI(`/admin/users/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0});return JSON.parse(await i.text(),me)}async getStats(){const r=await this.baseClient.callTypedAPI("/admin/stats",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async listAvatarsAdmin(r){const i=_r({cursor:r.cursor,limit:r.limit===void 0?void 0:String(r.limit),q:r.q,userId:r.userId}),c=await this.baseClient.callTypedAPI("/admin/avatars",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async listUsers(r){const i=_r({cursor:r.cursor,limit:r.limit===void 0?void 0:String(r.limit),q:r.q}),c=await this.baseClient.callTypedAPI("/admin/users",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async promoteToAdmin(){const r=await this.baseClient.callTypedAPI("/admin/promote-first-admin",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async updateAvatarAdmin(r){const i={description:r.description,imageUrl:r.imageUrl,isPublic:r.isPublic,name:r.name,originalAvatarId:r.originalAvatarId,personalityTraits:r.personalityTraits,physicalTraits:r.physicalTraits,visualProfile:r.visualProfile},c=await this.baseClient.callTypedAPI(`/admin/avatars/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async updateUser(r){const i={email:r.email,name:r.name,role:r.role,subscription:r.subscription},c=await this.baseClient.callTypedAPI(`/admin/users/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}}e.ServiceClient=t})(kg||(kg={}));var Tg;(e=>{class t{constructor(r){this.baseClient=r,this.analyzeAvatarImage=this.analyzeAvatarImage.bind(this),this.analyzePersonalityDevelopment=this.analyzePersonalityDevelopment.bind(this),this.checkPersonalityUpdate=this.checkPersonalityUpdate.bind(this),this.generateAvatarImage=this.generateAvatarImage.bind(this),this.generateImage=this.generateImage.bind(this),this.generateImagesBatch=this.generateImagesBatch.bind(this),this.getPersonalityHistory=this.getPersonalityHistory.bind(this),this.trackPersonalityUpdate=this.trackPersonalityUpdate.bind(this)}async analyzeAvatarImage(r){const i=await this.baseClient.callTypedAPI("/ai/analyze-avatar-image",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async analyzePersonalityDevelopment(r){const i=await this.baseClient.callTypedAPI("/ai/analyze-personality",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async checkPersonalityUpdate(r){const i=_r({avatarId:r.avatarId,contentId:r.contentId,contentType:String(r.contentType)}),c=await this.baseClient.callTypedAPI("/ai/check-personality-update",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async generateAvatarImage(r){const i=await this.baseClient.callTypedAPI("/ai/generate-avatar",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async generateImage(r){const i=await this.baseClient.callTypedAPI("/ai/generate-image",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async generateImagesBatch(r){const i=await this.baseClient.callTypedAPI("/ai/generate-images-batch",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async getPersonalityHistory(r){const i=await this.baseClient.callTypedAPI(`/ai/personality-history/${encodeURIComponent(r.avatarId)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async trackPersonalityUpdate(r){const i=await this.baseClient.callTypedAPI("/ai/track-personality-update",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}}e.ServiceClient=t})(Tg||(Tg={}));var Cg;(e=>{class t{constructor(r){this.baseClient=r,this.addMemory=this.addMemory.bind(this),this.create=this.create.bind(this),this.debugPersonality=this.debugPersonality.bind(this),this.deleteAvatar=this.deleteAvatar.bind(this),this.deleteMemory=this.deleteMemory.bind(this),this.generatePortrait=this.generatePortrait.bind(this),this.get=this.get.bind(this),this.getMemories=this.getMemories.bind(this),this.list=this.list.bind(this),this.migrateToEnglish=this.migrateToEnglish.bind(this),this.reducePersonalityTrait=this.reducePersonalityTrait.bind(this),this.resetDokuHistory=this.resetDokuHistory.bind(this),this.resetPersonalityTraits=this.resetPersonalityTraits.bind(this),this.update=this.update.bind(this),this.updatePersonality=this.updatePersonality.bind(this),this.upgradeAllPersonalityTraits=this.upgradeAllPersonalityTraits.bind(this)}async addMemory(r){const i=await this.baseClient.callTypedAPI("/avatar/memory",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async create(r){const i=await this.baseClient.callTypedAPI("/avatar",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async debugPersonality(r){const i=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.id)}/debug-personality`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async deleteAvatar(r){await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0})}async deleteMemory(r){const i=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.avatarId)}/memory/${encodeURIComponent(r.memoryId)}`,{method:"DELETE",body:void 0});return JSON.parse(await i.text(),me)}async generatePortrait(r){const i=await this.baseClient.callTypedAPI("/avatar/generate-portrait",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async get(r){const i=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async getMemories(r){const i=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.id)}/memories`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async list(){const r=await this.baseClient.callTypedAPI("/avatars",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async migrateToEnglish(){const r=await this.baseClient.callTypedAPI("/avatar/migrate-to-english",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async reducePersonalityTrait(r){const i={amount:r.amount,reason:r.reason,trait:r.trait},c=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.avatarId)}/reduce-trait`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async resetDokuHistory(r){const i={dokuId:r.dokuId},c=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.avatarId)}/reset-doku-history`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async resetPersonalityTraits(){const r=await this.baseClient.callTypedAPI("/avatar/reset-personality-traits",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async update(r){const i={description:r.description,imageUrl:r.imageUrl,isPublic:r.isPublic,name:r.name,personalityTraits:r.personalityTraits,physicalTraits:r.physicalTraits,visualProfile:r.visualProfile},c=await this.baseClient.callTypedAPI(`/avatar/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async updatePersonality(r){const i=await this.baseClient.callTypedAPI("/avatar/personality",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async upgradeAllPersonalityTraits(){const r=await this.baseClient.callTypedAPI("/avatar/upgrade-traits",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}}e.ServiceClient=t})(Cg||(Cg={}));var Eg;(e=>{class t{constructor(r){this.baseClient=r,this.deleteDoku=this.deleteDoku.bind(this),this.generateDoku=this.generateDoku.bind(this),this.getDoku=this.getDoku.bind(this),this.listDokus=this.listDokus.bind(this),this.markRead=this.markRead.bind(this),this.updateDoku=this.updateDoku.bind(this)}async deleteDoku(r){await this.baseClient.callTypedAPI(`/doku/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0})}async generateDoku(r){const i=await this.baseClient.callTypedAPI("/doku/generate",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async getDoku(r){const i=await this.baseClient.callTypedAPI(`/doku/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async listDokus(r){const i=_r({limit:r.limit===void 0?void 0:String(r.limit),offset:r.offset===void 0?void 0:String(r.offset)}),c=await this.baseClient.callTypedAPI("/dokus",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async markRead(r){const i=await this.baseClient.callTypedAPI("/doku/mark-read",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async updateDoku(r){const i={isPublic:r.isPublic,title:r.title},c=await this.baseClient.callTypedAPI(`/doku/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}}e.ServiceClient=t})(Eg||(Eg={}));var Ag;(e=>{class t{constructor(r){this.baseClient=r,this.addFairyTaleRole=this.addFairyTaleRole.bind(this),this.addFairyTaleScene=this.addFairyTaleScene.bind(this),this.createFairyTale=this.createFairyTale.bind(this),this.deleteFairyTale=this.deleteFairyTale.bind(this),this.exportFairyTales=this.exportFairyTales.bind(this),this.generateStory=this.generateStory.bind(this),this.getFairyTale=this.getFairyTale.bind(this),this.getGeneratedStory=this.getGeneratedStory.bind(this),this.importFairyTales=this.importFairyTales.bind(this),this.listFairyTales=this.listFairyTales.bind(this),this.updateFairyTale=this.updateFairyTale.bind(this),this.validateCharacterMapping=this.validateCharacterMapping.bind(this)}async addFairyTaleRole(r){const i={role:r.role},c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.taleId)}/roles`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async addFairyTaleScene(r){const i={scene:r.scene},c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.taleId)}/scenes`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async createFairyTale(r){const i=await this.baseClient.callTypedAPI("/fairytales",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async deleteFairyTale(r){const i=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0});return JSON.parse(await i.text(),me)}async exportFairyTales(r){const i=await this.baseClient.callTypedAPI("/fairytales/export",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async generateStory(r){const i={characterMappings:r.characterMappings,params:r.params},c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.taleId)}/generate`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async getFairyTale(r){const i=_r({includeRoles:r.includeRoles===void 0?void 0:String(r.includeRoles),includeScenes:r.includeScenes===void 0?void 0:String(r.includeScenes)}),c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.id)}`,{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async getGeneratedStory(r){const i=_r({includeScenes:r.includeScenes===void 0?void 0:String(r.includeScenes)}),c=await this.baseClient.callTypedAPI(`/stories/${encodeURIComponent(r.storyId)}`,{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async importFairyTales(r){const i=await this.baseClient.callTypedAPI("/fairytales/import",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async listFairyTales(r){var u;const i=_r({genres:(u=r.genres)==null?void 0:u.map(h=>h),limit:r.limit===void 0?void 0:String(r.limit),maxAge:r.maxAge===void 0?void 0:String(r.maxAge),minAge:r.minAge===void 0?void 0:String(r.minAge),offset:r.offset===void 0?void 0:String(r.offset),source:r.source}),c=await this.baseClient.callTypedAPI("/fairytales",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async updateFairyTale(r){const i={updates:r.updates},c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.id)}`,{method:"PATCH",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async validateCharacterMapping(r){const i={characterMappings:r.characterMappings},c=await this.baseClient.callTypedAPI(`/fairytales/${encodeURIComponent(r.taleId)}/validate-mapping`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}}e.ServiceClient=t})(Ag||(Ag={}));var Ng;(e=>{class t{constructor(r){this.baseClient=r,this.checkFairyTaleStats=this.checkFairyTaleStats.bind(this),this.completeFairyTalesSetup=this.completeFairyTalesSetup.bind(this),this.createFairyTalesTable=this.createFairyTalesTable.bind(this),this.dbStatus=this.dbStatus.bind(this),this.fixUsageCount=this.fixUsageCount.bind(this),this.fixUsageCountColumn=this.fixUsageCountColumn.bind(this),this.health=this.health.bind(this),this.import150FairyTales=this.import150FairyTales.bind(this),this.initializeDatabaseMigrations=this.initializeDatabaseMigrations.bind(this),this.runMigrations=this.runMigrations.bind(this),this.testClerk=this.testClerk.bind(this)}async checkFairyTaleStats(){const r=await this.baseClient.callTypedAPI("/health/check-fairy-tale-stats",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async completeFairyTalesSetup(){const r=await this.baseClient.callTypedAPI("/health/complete-fairy-tales-setup",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async createFairyTalesTable(){const r=await this.baseClient.callTypedAPI("/health/create-fairy-tales-table",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async dbStatus(){const r=await this.baseClient.callTypedAPI("/health/db-status",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async fixUsageCount(){const r=await this.baseClient.callTypedAPI("/health/fix-usage-count",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async fixUsageCountColumn(){const r=await this.baseClient.callTypedAPI("/health/fix-usage-count-column",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async health(){const r=await this.baseClient.callTypedAPI("/health",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async import150FairyTales(){const r=await this.baseClient.callTypedAPI("/health/import-150-fairy-tales",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async initializeDatabaseMigrations(){const r=await this.baseClient.callTypedAPI("/init",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async runMigrations(){const r=await this.baseClient.callTypedAPI("/health/run-migrations",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async testClerk(){const r=await this.baseClient.callTypedAPI("/health/test-clerk",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}}e.ServiceClient=t})(Ng||(Ng={}));var Rg;(e=>{class t{constructor(r){this.baseClient=r,this.debug=this.debug.bind(this),this.get=this.get.bind(this),this.getSources=this.getSources.bind(this),this.list=this.list.bind(this),this.runMigration=this.runMigration.bind(this)}async debug(){const r=await this.baseClient.callTypedAPI("/log/debug",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async get(r){const i=await this.baseClient.callTypedAPI(`/log/get/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async getSources(){const r=await this.baseClient.callTypedAPI("/log/getSources",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async list(r){const i=_r({date:r.date,limit:r.limit===void 0?void 0:String(r.limit),source:r.source}),c=await this.baseClient.callTypedAPI("/log/list",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async runMigration(){const r=await this.baseClient.callTypedAPI("/log/run-migration",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}}e.ServiceClient=t})(Rg||(Rg={}));var Mg;(e=>{class t{constructor(r){this.baseClient=r,this.addCharacter=this.addCharacter.bind(this),this.deleteCharacter=this.deleteCharacter.bind(this),this.deleteStory=this.deleteStory.bind(this),this.exportCharacters=this.exportCharacters.bind(this),this.generate=this.generate.bind(this),this.generateCharacterImage=this.generateCharacterImage.bind(this),this.generateFromFairyTale=this.generateFromFairyTale.bind(this),this.generateStoryContent=this.generateStoryContent.bind(this),this.get=this.get.bind(this),this.getCharacter=this.getCharacter.bind(this),this.getCharacterStats=this.getCharacterStats.bind(this),this.getFairyTaleDetails=this.getFairyTaleDetails.bind(this),this.importCharacters=this.importCharacters.bind(this),this.list=this.list.bind(this),this.listAvailableFairyTales=this.listAvailableFairyTales.bind(this),this.listCharacters=this.listCharacters.bind(this),this.markRead=this.markRead.bind(this),this.resetRecentUsage=this.resetRecentUsage.bind(this),this.seedPool=this.seedPool.bind(this),this.update=this.update.bind(this),this.updateCharacter=this.updateCharacter.bind(this)}async addCharacter(r){const i=await this.baseClient.callTypedAPI("/story/character-pool",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async deleteCharacter(r){const i=await this.baseClient.callTypedAPI(`/story/character-pool/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0});return JSON.parse(await i.text(),me)}async deleteStory(r){await this.baseClient.callTypedAPI(`/story/${encodeURIComponent(r.id)}`,{method:"DELETE",body:void 0})}async exportCharacters(){const r=await this.baseClient.callTypedAPI("/story/character-pool/export",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async generate(r){const i=await this.baseClient.callTypedAPI("/story/generate",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async generateCharacterImage(r){const i={style:r.style},c=await this.baseClient.callTypedAPI(`/story/character-pool/${encodeURIComponent(r.id)}/generate-image`,{method:"POST",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async generateFromFairyTale(r){const i=await this.baseClient.callTypedAPI("/story/generate-from-fairytale",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async generateStoryContent(r){const i=await this.baseClient.callTypedAPI("/ai/generate-story",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async get(r){const i=await this.baseClient.callTypedAPI(`/story/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async getCharacter(r){const i=await this.baseClient.callTypedAPI(`/story/character-pool/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async getCharacterStats(r){const i=await this.baseClient.callTypedAPI(`/story/character-pool/${encodeURIComponent(r.id)}/stats`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async getFairyTaleDetails(r){await this.baseClient.callTypedAPI(`/story/fairytale/${encodeURIComponent(r.taleId)}`,{method:"GET",body:void 0})}async importCharacters(r){const i=await this.baseClient.callTypedAPI("/story/character-pool/import",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async list(r){const i=_r({limit:r.limit===void 0?void 0:String(r.limit),offset:r.offset===void 0?void 0:String(r.offset)}),c=await this.baseClient.callTypedAPI("/stories",{query:i,method:"GET",body:void 0});return JSON.parse(await c.text(),me)}async listAvailableFairyTales(){await this.baseClient.callTypedAPI("/story/available-fairytales",{method:"GET",body:void 0})}async listCharacters(){const r=await this.baseClient.callTypedAPI("/story/character-pool",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}async markRead(r){const i=await this.baseClient.callTypedAPI("/story/mark-read",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async resetRecentUsage(){const r=await this.baseClient.callTypedAPI("/story/character-pool/reset-usage",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async seedPool(){const r=await this.baseClient.callTypedAPI("/story/character-pool/seed",{method:"POST",body:void 0});return JSON.parse(await r.text(),me)}async update(r){const i={description:r.description,isPublic:r.isPublic,title:r.title},c=await this.baseClient.callTypedAPI(`/story/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}async updateCharacter(r){const i={updates:r.updates},c=await this.baseClient.callTypedAPI(`/story/character-pool/${encodeURIComponent(r.id)}`,{method:"PUT",body:JSON.stringify(i)});return JSON.parse(await c.text(),me)}}e.ServiceClient=t})(Mg||(Mg={}));var _g;(e=>{class t{constructor(r){this.baseClient=r,this.taviChat=this.taviChat.bind(this)}async taviChat(r){const i=await this.baseClient.callTypedAPI("/tavi/chat",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}}e.ServiceClient=t})(_g||(_g={}));var Og;(e=>{class t{constructor(r){this.baseClient=r,this.create=this.create.bind(this),this.get=this.get.bind(this),this.me=this.me.bind(this)}async create(r){const i=await this.baseClient.callTypedAPI("/user",{method:"POST",body:JSON.stringify(r)});return JSON.parse(await i.text(),me)}async get(r){const i=await this.baseClient.callTypedAPI(`/user/${encodeURIComponent(r.id)}`,{method:"GET",body:void 0});return JSON.parse(await i.text(),me)}async me(){const r=await this.baseClient.callTypedAPI("/user/me",{method:"GET",body:void 0});return JSON.parse(await r.text(),me)}}e.ServiceClient=t})(Og||(Og={}));function me(e,t){if(typeof t=="string"&&t.length>=10&&t.charCodeAt(0)>=48&&t.charCodeAt(0)<=57){const s=new Date(t);if(!isNaN(s.getTime()))return s}return t}function Mu(e){const t=[];for(const s in e){const r=Array.isArray(e[s])?e[s]:[e[s]];for(const i of r)t.push(`${s}=${encodeURIComponent(i)}`)}return t.join("&")}function _r(e){for(const t in e)e[t]===void 0&&delete e[t];return e}function D8(e){return"encore.dev.headers."+btoa(JSON.stringify(e)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}class Gy{constructor(t,s){this.hasUpdateHandlers=[];let r=["encore-ws"];s&&r.push(D8(s)),this.ws=new WebSocket(t,r),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const t=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const s of t)s()}async hasUpdate(){await new Promise(t=>{this.hasUpdateHandlers.push(()=>t(null))})}on(t,s){this.ws.addEventListener(t,s)}off(t,s){this.ws.removeEventListener(t,s)}close(){this.ws.close()}}class P8{constructor(t,s){this.buffer=[],this.socket=new Gy(t,s),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data,me)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(s=>{this.socket.ws.addEventListener("open",s,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class z8{constructor(t,s){this.buffer=[],this.socket=new Gy(t,s),this.socket.on("message",r=>{this.buffer.push(JSON.parse(r.data,me)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class L8{constructor(t,s){let r;this.responseValue=new Promise(i=>r=i),this.socket=new Gy(t,s),this.socket.on("message",i=>{r(JSON.parse(i.data,me))})}async response(){return this.responseValue}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(s=>{this.socket.ws.addEventListener("open",s,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}}const U8=fetch.bind(void 0);class $8{constructor(t,s){if(this.baseURL=t,this.headers={},O8||(this.headers["User-Agent"]="talea-storytelling-platform-4ot2-Generated-TS-Client (Encore/v1.50.4)"),this.requestInit=s.requestInit??{},s.fetcher!==void 0?this.fetcher=s.fetcher:this.fetcher=U8,s.auth!==void 0){const r=s.auth;typeof r=="function"?this.authGenerator=r:this.authGenerator=()=>r}}async getAuthData(){let t;if(this.authGenerator){const s=this.authGenerator();s instanceof Promise?t=await s:t=s}if(t){const s={};return s.headers=_r({authorization:t.authorization}),s}}async createStreamInOut(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+Mu(r):"";return new P8(this.baseURL+t+u,i)}async createStreamIn(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+Mu(r):"";return new z8(this.baseURL+t+u,i)}async createStreamOut(t,s){let{query:r,headers:i}=s??{};const c=await this.getAuthData();c&&(c.query&&(r={...r,...c.query}),c.headers&&(i={...i,...c.headers}));const u=r?"?"+Mu(r):"";return new L8(this.baseURL+t+u,i)}async callTypedAPI(t,s){return this.callAPI(t,{...s,headers:{"Content-Type":"application/json",...s==null?void 0:s.headers}})}async callAPI(t,s){let{query:r,headers:i,...c}=s??{};const u={...this.requestInit,...c};u.headers={...this.headers,...u.headers,...i};const h=await this.getAuthData();h&&(h.query&&(r={...r,...h.query}),h.headers&&(u.headers={...u.headers,...h.headers}));const p=r?"?"+Mu(r):"",m=await this.fetcher(this.baseURL+t+p,u);if(!m.ok){let g={code:"unknown",message:`request failed: status ${m.status}`};try{const y=await m.text();try{const v=JSON.parse(y);B8(v)?g=v:g.message+=": "+JSON.stringify(v)}catch{g.message+=": "+y}}catch(y){g.message+=": "+String(y)}throw new gd(m.status,g)}return m}}function B8(e){return e!=null&&I8(e.code)&&typeof e.message=="string"&&(e.details===void 0||e.details===null||typeof e.details=="object")}function I8(e){return e!==void 0&&Object.values(DC).includes(e)}class gd extends Error{constructor(t,s){super(s.message),Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),Object.setPrototypeOf==null?this.__proto__=gd.prototype:Object.setPrototypeOf(this,gd.prototype),Error.captureStackTrace!==void 0&&Error.captureStackTrace(this,this.constructor),this.status=t,this.code=s.code,this.details=s.details}}var DC=(e=>(e.OK="ok",e.Canceled="canceled",e.Unknown="unknown",e.InvalidArgument="invalid_argument",e.DeadlineExceeded="deadline_exceeded",e.NotFound="not_found",e.AlreadyExists="already_exists",e.PermissionDenied="permission_denied",e.ResourceExhausted="resource_exhausted",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.Unimplemented="unimplemented",e.Internal="internal",e.Unavailable="unavailable",e.DataLoss="data_loss",e.Unauthenticated="unauthenticated",e))(DC||{});const F8=new Hy("http://localhost:4000",{requestInit:{credentials:"include"}});new F8(ny());const V8=()=>{const e=Gt(),[t,s]=b.useState([]),[r,i]=b.useState([]),[c,u]=b.useState(!0),[h,p]=b.useState(""),[m,g]=b.useState(""),[y,v]=b.useState(null),[j,A]=b.useState(!1);b.useEffect(()=>{k()},[h,m]);const k=async()=>{try{u(!0);const{getBackendUrl:L}=await ft(async()=>{const{getBackendUrl:X}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:X}},void 0),V=L(),[Y,z]=await Promise.all([fetch(`${V}/log/list?${new URLSearchParams({...h&&{source:h},...m&&{date:m},limit:"50"}).toString()}`).then(X=>X.json()),fetch(`${V}/log/getSources`).then(X=>X.json())]);s(Y.logs),i(z.sources)}catch(L){console.error("Error loading logs:",L)}finally{u(!1)}},E=L=>new Date(L).toLocaleString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),C=L=>{switch(L){case"openai-story-generation":return"";case"runware-single-image":return"";case"runware-batch-image":return"";case"openai-avatar-analysis":case"openai-avatar-analysis-stable":return"";case"openai-doku-generation":return"";case"openai-tavi-chat":return"";default:return""}},R=L=>{switch(L){case"openai-story-generation":return"Geschichte Generierung";case"runware-single-image":return"Einzelbild Generierung";case"runware-batch-image":return"Batch Bild Generierung";case"openai-avatar-analysis":case"openai-avatar-analysis-stable":return"Avatar Analyse";case"openai-doku-generation":return"Doku Generierung";case"openai-tavi-chat":return"Tavi Chat";default:return L}},N=(L,V=3)=>JSON.stringify(L,null,2),D=L=>{const V=JSON.stringify(L,null,2),Y="data:application/json;charset=utf-8,"+encodeURIComponent(V),z=`log-${L.source}-${L.id}.json`,X=document.createElement("a");X.setAttribute("href",Y),X.setAttribute("download",z),X.click()},P={minHeight:"100vh",background:S.gradients.background,paddingBottom:"120px"},M={background:S.glass.background,border:`1px solid ${S.glass.border}`,padding:`${w.lg}px`,boxShadow:S.glass.shadow,backdropFilter:"blur(14px) saturate(160%)",WebkitBackdropFilter:"blur(14px) saturate(160%)"},U={display:"flex",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},_={padding:`${w.sm}px`,borderRadius:`${fe.pill}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,color:S.text.primary,cursor:"pointer",marginRight:`${w.md}px`,transition:"all 0.2s ease"},I={...ee.textStyles.headingMd,color:S.text.primary,flex:1,textAlign:"center"},W={maxWidth:"1200px",margin:"0 auto",padding:`${w.xl}px`},H={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:`${w.md}px`,marginBottom:`${w.xl}px`},se={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:`${w.md}px`,marginBottom:`${w.xl}px`},K={display:"grid",gap:`${w.md}px`},re={padding:`${w.lg}px`,cursor:"pointer",position:"relative"},Q={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.lg}px`},B={background:"#ffffff",borderRadius:`${fe.xl}px`,padding:`${w.xl}px`,maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:$e.lg};return c?o.jsx("div",{style:{...P,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"48px",height:"48px",border:"4px solid rgba(255,255,255,0.6)",borderTop:`4px solid ${S.primary[500]}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:`0 auto ${w.lg}px auto`}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Lade Logs..."})]})}):o.jsxs("div",{style:P,children:[o.jsx("div",{style:M,children:o.jsxs("div",{style:U,children:[o.jsx("button",{style:_,onClick:()=>e("/"),onMouseEnter:L=>{L.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:L=>{L.currentTarget.style.transform="translateY(0px)"},children:o.jsx(yn,{size:20})}),o.jsx("div",{style:I,children:"AI Logs Viewer"})]})}),o.jsxs("div",{style:W,children:[o.jsx(za,{children:o.jsxs(Ee,{variant:"glass",style:{textAlign:"center",padding:`${w.xl}px`},children:[o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.sm},children:"Anmeldung erforderlich"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Bitte melde dich an, um Logs zu sehen."})]})}),o.jsxs(ea,{children:[o.jsx(Se,{delay:100,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:`${w.xl}px`,padding:`${w.xl}px`},children:[o.jsxs("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.lg}px`,display:"flex",alignItems:"center",gap:`${w.sm}px`},children:[o.jsx(tD,{size:24,style:{color:S.primary[500]}}),"Log Quellen bersicht"]}),o.jsx("div",{style:se,children:r.map((L,V)=>o.jsx(Se,{delay:150+V*50,children:o.jsxs("div",{style:{padding:`${w.lg}px`,background:S.glass.backgroundAlt,border:`1px solid ${S.glass.border}`,borderRadius:`${fe.lg}px`,textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"32px",marginBottom:`${w.sm}px`},children:C(L.name)}),o.jsx("div",{style:{...ee.textStyles.label,color:S.text.primary,marginBottom:`${w.xs}px`},children:R(L.name)}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.primary[500],marginBottom:`${w.xs}px`},children:L.count}),o.jsx("div",{style:{...ee.textStyles.caption,color:S.text.secondary},children:L.lastActivity?`Zuletzt: ${E(L.lastActivity)}`:"Keine Aktivitt"})]})},L.name))})]})}),o.jsx(Se,{delay:200,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:`${w.xl}px`,padding:`${w.xl}px`},children:[o.jsxs("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.lg}px`,display:"flex",alignItems:"center",gap:`${w.sm}px`},children:[o.jsx(BD,{size:24,style:{color:S.primary[500]}}),"Filter"]}),o.jsxs("div",{style:H,children:[o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Quelle"}),o.jsxs("select",{value:h,onChange:L=>p(L.target.value),style:{width:"100%",padding:`${w.md}px`,border:`1px solid ${S.border.normal}`,borderRadius:`${fe.lg}px`,backgroundColor:S.background.card,color:S.text.primary,fontSize:ee.textStyles.body.fontSize},children:[o.jsx("option",{value:"",children:"Alle Quellen"}),r.map(L=>o.jsxs("option",{value:L.name,children:[R(L.name)," (",L.count,")"]},L.name))]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.text.primary,display:"block",marginBottom:`${w.sm}px`},children:"Datum"}),o.jsx("input",{type:"date",value:m,onChange:L=>g(L.target.value),style:{width:"100%",padding:`${w.md}px`,border:`1px solid ${S.border.normal}`,borderRadius:`${fe.lg}px`,backgroundColor:S.background.card,color:S.text.primary,fontSize:ee.textStyles.body.fontSize}})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:`${w.lg}px`},children:o.jsx(Ve,{title:"Filter zurcksetzen",onPress:()=>{p(""),g("")},variant:"outline"})})]})}),o.jsx(Se,{delay:300,children:o.jsxs(Ee,{variant:"glass",style:{padding:`${w.xl}px`},children:[o.jsxs("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.lg}px`,display:"flex",alignItems:"center",gap:`${w.sm}px`},children:[o.jsx(yk,{size:24,style:{color:S.primary[500]}}),"Log Eintrge (",t.length,")"]}),t.length===0?o.jsxs("div",{style:{textAlign:"center",padding:`${w.xl}px`},children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:`${w.lg}px`},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.sm}px`},children:"Keine Logs gefunden"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Keine Log-Eintrge fr die ausgewhlten Filter gefunden."})]}):o.jsx("div",{style:K,children:t.map((L,V)=>o.jsx(Se,{delay:350+V*50,children:o.jsxs(Ee,{variant:"elevated",style:re,onPress:()=>{v(L),A(!0)},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:`${w.md}px`,marginBottom:`${w.sm}px`},children:[o.jsx("span",{style:{fontSize:"24px"},children:C(L.source)}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{...ee.textStyles.label,color:S.text.primary},children:R(L.source)}),o.jsxs("div",{style:{...ee.textStyles.caption,color:S.text.secondary},children:["ID: ",L.id]})]}),o.jsx("div",{style:{textAlign:"right"},children:o.jsxs("div",{style:{...ee.textStyles.caption,color:S.text.secondary,display:"flex",alignItems:"center",gap:`${w.xs}px`},children:[o.jsx(Dr,{size:12}),E(L.timestamp)]})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:`${w.sm}px`,fontSize:"11px"},children:[o.jsxs("div",{style:{padding:`${w.xs}px ${w.sm}px`,background:"rgba(99, 102, 241, 0.1)",borderRadius:`${fe.sm}px`,color:S.text.secondary},children:[" Request: ",JSON.stringify(L.request).length," chars"]}),o.jsxs("div",{style:{padding:`${w.xs}px ${w.sm}px`,background:"rgba(34, 197, 94, 0.1)",borderRadius:`${fe.sm}px`,color:S.text.secondary},children:[" Response: ",JSON.stringify(L.response).length," chars"]})]})]})},L.id))})]})})]})]}),j&&y&&o.jsx("div",{style:Q,onClick:()=>A(!1),children:o.jsxs("div",{style:B,onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:`${w.lg}px`},children:[o.jsxs("h2",{style:{...ee.textStyles.headingMd,color:S.text.primary,display:"flex",alignItems:"center",gap:`${w.sm}px`},children:[C(y.source)," ",R(y.source)]}),o.jsxs("div",{style:{display:"flex",gap:`${w.sm}px`},children:[o.jsxs("button",{onClick:()=>D(y),style:{padding:`${w.sm}px`,borderRadius:`${fe.lg}px`,background:S.primary[500],color:S.text.inverse,border:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:`${w.xs}px`},children:[o.jsx(ad,{size:16}),"Download"]}),o.jsx("button",{onClick:()=>A(!1),style:{padding:`${w.sm}px`,borderRadius:`${fe.lg}px`,background:S.border.normal,color:S.text.primary,border:"none",cursor:"pointer"},children:""})]})]}),o.jsxs("div",{style:{marginBottom:`${w.lg}px`},children:[o.jsxs("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:`${w.sm}px`},children:[o.jsx(Dr,{size:16,style:{display:"inline",marginRight:`${w.xs}px`}}),E(y.timestamp)]}),o.jsxs("div",{style:{...ee.textStyles.caption,color:S.text.secondary},children:["ID: ",y.id]})]}),o.jsxs("div",{style:{display:"grid",gap:`${w.lg}px`},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{...ee.textStyles.label,color:S.text.primary,marginBottom:`${w.sm}px`},children:" Request:"}),o.jsx("pre",{style:{background:"rgba(107, 112, 136, 0.1)",padding:`${w.md}px`,borderRadius:`${fe.md}px`,fontSize:"12px",maxHeight:"300px",overflow:"auto",fontFamily:"monospace",color:S.text.primary,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:N(y.request)})]}),o.jsxs("div",{children:[o.jsx("h3",{style:{...ee.textStyles.label,color:S.text.primary,marginBottom:`${w.sm}px`},children:" Response:"}),o.jsx("pre",{style:{background:"rgba(107, 112, 136, 0.1)",padding:`${w.md}px`,borderRadius:`${fe.md}px`,fontSize:"12px",maxHeight:"300px",overflow:"auto",fontFamily:"monospace",color:S.text.primary,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:N(y.response)})]}),y.metadata&&o.jsxs("div",{children:[o.jsx("h3",{style:{...ee.textStyles.label,color:S.text.primary,marginBottom:`${w.sm}px`},children:" Metadata:"}),o.jsx("pre",{style:{background:"rgba(107, 112, 136, 0.1)",padding:`${w.md}px`,borderRadius:`${fe.md}px`,fontSize:"12px",maxHeight:"200px",overflow:"auto",fontFamily:"monospace",color:S.text.primary,whiteSpace:"pre-wrap",wordBreak:"break-all"},children:N(y.metadata)})]})]})]})}),o.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})},H8=()=>{var m;const e=lr(),t=Gt(),s=[{path:"/",label:"Home",icon:xk,color:S.primary[500]},{path:"/avatar",label:"Avatare",icon:gs,color:S.lavender[500]},{path:"/stories",label:"Stories",icon:gn,color:S.rose[500]},{path:"/doku",label:"Doku",icon:Ar,color:S.mint[500]},{path:"/characters",label:"Charaktere",icon:wt,color:S.peach[500]},{path:"/fairytales",label:"Mrchen",icon:dD,color:"#f59e0b"},{path:"/logs",label:"Logs",icon:yk,color:S.sky[500]}],r=Math.max(0,s.findIndex(g=>g.path===e.pathname)),i={position:"fixed",bottom:0,left:0,right:0,display:"flex",justifyContent:"center",alignItems:"flex-end",padding:`${w.sm}px`,paddingBottom:"max(env(safe-area-inset-bottom), 8px)",zIndex:1e3,pointerEvents:"none"},c={pointerEvents:"auto",display:"flex",gap:w.xs,background:S.glass.background,backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:`2px solid ${S.border.light}`,borderRadius:`${fe.pill}px`,padding:`${w.sm}px`,boxShadow:$e.lg,position:"relative"},u={position:"absolute",top:w.sm,bottom:w.sm,left:w.sm+r*(70+w.xs),width:70,borderRadius:`${fe.pill}px`,background:((m=s[r])==null?void 0:m.color)||S.primary[500],opacity:.15,transition:`all ${_e.duration.normal} ${_e.easing.spring}`,zIndex:0},h={position:"relative",zIndex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:w.xxs,width:70,padding:`${w.sm}px ${w.xs}px`,borderRadius:`${fe.pill}px`,background:"transparent",border:"none",cursor:"pointer",transition:`all ${_e.duration.normal} ${_e.easing.smooth}`},p={...ee.textStyles.tiny,fontWeight:"600"};return o.jsx("div",{style:i,children:o.jsxs("div",{style:c,children:[o.jsx("div",{style:u}),s.map(g=>{const y=g.icon,v=e.pathname===g.path;return o.jsxs("button",{onClick:()=>t(g.path),style:{...h,color:v?g.color:S.text.secondary,transform:v?"translateY(-4px)":"translateY(0px)"},onMouseEnter:j=>{v||(j.currentTarget.style.transform="translateY(-4px) scale(1.05)",j.currentTarget.style.color=g.color)},onMouseLeave:j=>{v||(j.currentTarget.style.transform="translateY(0px) scale(1)",j.currentTarget.style.color=S.text.secondary)},children:[o.jsx(y,{size:24,strokeWidth:v?2.5:2,style:{filter:v?`drop-shadow(0 2px 4px ${g.color}40)`:"none"}}),o.jsx("span",{style:p,children:g.label})]},g.path)})]})})},G8=({isOpen:e,onClose:t})=>{const s=yt(),{getToken:r}=vr(),[i,c]=b.useState([{id:"1",sender:"tavi",text:" Hallo! Ich bin Tavi, dein magisches Geschichten-Genie! Wie kann ich dir heute helfen? ",timestamp:new Date}]),[u,h]=b.useState(""),[p,m]=b.useState(!1),[g,y]=b.useState(0),v=b.useRef(null),j=b.useRef(null),A=()=>{var L;(L=v.current)==null||L.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{A()},[i]),b.useEffect(()=>{e&&j.current&&setTimeout(()=>{var L;return(L=j.current)==null?void 0:L.focus()},100)},[e]);const k=L=>{const V=L.target.value;h(V);const Y=V.trim().split(/\s+/).filter(z=>z.length>0);y(Y.length)},E=async()=>{if(!u.trim()||p||g>50)return;const L={id:Date.now().toString(),sender:"user",text:u.trim(),timestamp:new Date};c(V=>[...V,L]),h(""),y(0),m(!0);try{const Y=s.target||"http://localhost:4005",z={"Content-Type":"application/json"},X=await r();X&&(z.Authorization=`Bearer ${X}`);const Z=await fetch(`${Y}/tavi/chat`,{method:"POST",headers:z,body:JSON.stringify({message:L.text})});if(!Z.ok){const oe=await Z.text();throw new Error(`HTTP ${Z.status}: ${oe}`)}const F=await Z.json(),ie={id:(Date.now()+1).toString(),sender:"tavi",text:F.response,timestamp:new Date};c(oe=>[...oe,ie])}catch(V){console.error("Tavi chat error:",V);const z={id:(Date.now()+1).toString(),sender:"tavi",text:"Entschuldige, meine magischen Krfte sind momentan gestrt!  Versuche es gleich nochmal.",timestamp:new Date};c(X=>[...X,z])}finally{m(!1)}},C=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),E())};if(!e)return null;const R={position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(169, 137, 242, 0.2)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.lg}px`},N={width:"450px",maxWidth:"90vw",height:"650px",maxHeight:"85vh",background:S.glass.backgroundAlt,backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)",border:`2px solid ${S.border.light}`,borderRadius:`${fe.xxl}px`,boxShadow:$e.xl,display:"flex",flexDirection:"column",overflow:"hidden",position:"relative"},D={padding:`${w.xl}px`,borderBottom:`2px solid ${S.border.light}`,display:"flex",alignItems:"center",justifyContent:"space-between",background:S.lavender[50]+"40"},P={...ee.textStyles.headingMd,color:S.text.primary,display:"flex",alignItems:"center",gap:`${w.sm}px`},M={width:"40px",height:"40px",borderRadius:"50%",backgroundImage:"url(/tavi.png)",backgroundSize:"cover",backgroundPosition:"center",border:`3px solid ${S.lavender[400]}`,boxShadow:$e.glow.lavender},U={width:"40px",height:"40px",borderRadius:"50%",border:`2px solid ${S.border.light}`,background:S.background.card,color:S.text.primary,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},_={flex:1,padding:`${w.xl}px`,overflowY:"auto",display:"flex",flexDirection:"column",gap:`${w.md}px`},I={maxWidth:"80%",padding:`${w.md}px ${w.lg}px`,borderRadius:`${fe.lg}px`,...ee.textStyles.body,lineHeight:"1.6",wordWrap:"break-word"},W={...I,alignSelf:"flex-start",background:S.glass.background,color:S.text.primary,border:`2px solid ${S.border.light}`,boxShadow:$e.soft},H={...I,alignSelf:"flex-end",background:S.gradients.primary,color:S.text.inverse,boxShadow:$e.colored.lavender},se={padding:`${w.xl}px`,borderTop:`2px solid ${S.border.light}`,background:S.lavender[50]+"40"},K={display:"flex",gap:`${w.sm}px`,alignItems:"flex-end"},re={flex:1,padding:`${w.md}px ${w.lg}px`,borderRadius:`${fe.lg}px`,border:`2px solid ${S.border.light}`,background:S.background.card,color:S.text.primary,...ee.textStyles.body,outline:"none",resize:"none",minHeight:"48px",maxHeight:"120px",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},Q={...ee.textStyles.caption,color:g>50?S.semantic.error:S.text.tertiary,fontWeight:"600",marginBottom:`${w.xs}px`,textAlign:"right"},B={display:"flex",alignItems:"center",gap:`${w.sm}px`,padding:`${w.md}px ${w.lg}px`,background:S.glass.background,border:`2px solid ${S.border.light}`,borderRadius:`${fe.lg}px`,alignSelf:"flex-start",maxWidth:"80%",boxShadow:$e.soft};return o.jsx("div",{style:R,onClick:t,children:o.jsxs("div",{style:N,onClick:L=>L.stopPropagation(),children:[o.jsxs("div",{style:D,children:[o.jsxs("div",{style:P,children:[o.jsx("div",{style:M}),o.jsxs("div",{children:[o.jsx("div",{children:"Tavi - Dein Genie"}),o.jsx("div",{style:{...ee.textStyles.caption,color:S.text.tertiary,fontWeight:"500"},children:" Immer bereit zu helfen"})]})]}),o.jsx("button",{style:U,onClick:t,onMouseEnter:L=>{L.currentTarget.style.transform="scale(1.1)",L.currentTarget.style.borderColor=S.lavender[400]},onMouseLeave:L=>{L.currentTarget.style.transform="scale(1)",L.currentTarget.style.borderColor=S.border.light},children:o.jsx(_d,{size:20})})]}),o.jsxs("div",{style:_,children:[i.map(L=>o.jsx("div",{style:L.sender==="tavi"?W:H,children:L.text},L.id)),p&&o.jsxs("div",{style:B,children:[o.jsx(id,{size:18,style:{animation:"spin 1s linear infinite",color:S.lavender[600]}}),o.jsx("span",{style:{color:S.text.secondary,...ee.textStyles.bodySm},children:"Tavi denkt nach... "})]}),o.jsx("div",{ref:v})]}),o.jsxs("div",{style:se,children:[o.jsxs("div",{style:Q,children:[g,"/50 Wrter"]}),o.jsxs("div",{style:K,children:[o.jsx("input",{ref:j,style:re,value:u,onChange:k,onKeyPress:C,placeholder:"Frage Tavi etwas... ",disabled:p,maxLength:300,onFocus:L=>{L.currentTarget.style.borderColor=S.lavender[400]},onBlur:L=>{L.currentTarget.style.borderColor=S.border.light}}),o.jsx(Ve,{title:"",onPress:E,variant:g>50||!u.trim()?"ghost":"primary",size:"md",disabled:p||!u.trim()||g>50,icon:o.jsx(xP,{size:18})})]})]}),o.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})})},W8=()=>{const[e,t]=b.useState(!1),s={position:"fixed",bottom:`${w.xxxl+80}px`,right:`${w.xl}px`,width:"72px",height:"72px",borderRadius:"50%",background:S.gradients.lavender,border:`3px solid ${S.lavender[200]}`,boxShadow:$e.glow.lavender,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:999,transition:`all ${_e.duration.normal} ${_e.easing.bounce}`,backgroundImage:"url(/tavi.png)",backgroundSize:"cover",backgroundPosition:"center"},r={position:"absolute",top:"-4px",left:"-4px",right:"-4px",bottom:"-4px",borderRadius:"50%",border:`3px solid ${S.lavender[400]}`,animation:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",opacity:.6};return o.jsxs(o.Fragment,{children:[o.jsx(Mi,{duration:3,distance:12,children:o.jsxs("div",{style:{position:"relative"},children:[o.jsx("div",{style:r}),o.jsx("button",{onClick:()=>t(!0),style:s,onMouseEnter:i=>{i.currentTarget.style.transform="scale(1.15)",i.currentTarget.style.boxShadow="0 0 48px rgba(169, 137, 242, 0.6)"},onMouseLeave:i=>{i.currentTarget.style.transform="scale(1)",i.currentTarget.style.boxShadow=$e.glow.lavender}})]})}),o.jsx(G8,{isOpen:e,onClose:()=>t(!1)}),o.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 0.6;
            transform: scale(1);
          }
          50% {
            opacity: 0.3;
            transform: scale(1.1);
          }
        }
      `})]})},q8=()=>{const[e,t]=b.useState("signin"),s={minHeight:"100vh",background:S.gradients.background,display:"flex",alignItems:"center",justifyContent:"center",padding:w.xl},r={width:"100%",maxWidth:420},i={textAlign:"center",marginBottom:w.lg},c={display:"flex",justifyContent:"center",gap:w.md,marginTop:w.lg},u={padding:`${w.sm}px ${w.md}px`,borderRadius:fe.lg,background:S.glass.background,border:`1px solid ${S.glass.border}`,cursor:"pointer",boxShadow:$e.sm};return o.jsx("div",{style:s,children:o.jsx(Se,{delay:100,style:{width:"100%"},children:o.jsxs(Ee,{variant:"glass",style:r,children:[o.jsxs("div",{style:i,children:[o.jsx("h1",{style:{...ee.textStyles.headingMd,color:S.text.primary},children:"Willkommen"}),o.jsxs("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:["Bitte ",e==="signin"?"anmelden":"registrieren"," mit Google oder Facebook."]})]}),o.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e==="signin"?o.jsx(ZM,{appearance:{elements:{card:{boxShadow:"none",border:"none"}}},routing:"hash",signUpUrl:"/auth#register",forceRedirectUrl:"/",redirectUrl:"/"}):o.jsx(QM,{appearance:{elements:{card:{boxShadow:"none",border:"none"}}},routing:"hash",signInUrl:"/auth#login",forceRedirectUrl:"/",redirectUrl:"/"})}),o.jsx("div",{style:c,children:o.jsx("button",{style:u,onClick:()=>t(e==="signin"?"signup":"signin"),children:e==="signin"?"Neu hier? Registrieren":"Schon ein Konto? Anmelden"})})]})})})},K8=()=>{const{isSignedIn:e}=vr(),{user:t}=Yi(),s=yt(),[r,i]=b.useState(!1),[c,u]=b.useState(!0),[h,p]=b.useState(!1),[m,g]=b.useState(null),[y,v]=b.useState([]),[j,A]=b.useState(""),[k,E]=b.useState(null),[C,R]=b.useState(!1),[N,D]=b.useState([]),[P,M]=b.useState(""),[U,_]=b.useState(null),[I,W]=b.useState(!1);b.useEffect(()=>{(async()=>{try{if(!e){i(!1),u(!1);return}const Y=await s.user.me();i(Y.role==="admin")}catch(Y){console.error("Failed to resolve admin authorization",Y),i(!1)}finally{u(!1)}})()},[e]),b.useEffect(()=>{r&&(H(),se(!0),K(!0))},[r]);const H=async()=>{try{const Y=await s.admin.getStats();g(Y)}catch(Y){console.error("Failed to load stats",Y)}},se=async(Y=!1)=>{try{R(!0);const z=await s.admin.listUsers({limit:25,q:j||void 0,cursor:Y?void 0:k||void 0});v(Y?z.users:[...y,...z.users]),E(z.nextCursor||null)}catch(z){console.error("Failed to load users",z)}finally{R(!1)}},K=async(Y=!1)=>{try{W(!0);const z=await s.admin.listAvatarsAdmin({limit:12,q:P||void 0,cursor:Y?void 0:U||void 0});D(Y?z.avatars:[...N,...z.avatars]),_(z.nextCursor||null)}catch(z){console.error("Failed to load avatars",z)}finally{W(!1)}},re=async Y=>{if(window.confirm(`"${Y.name}" zu Admin befrdern?`))try{await s.admin.updateUser({id:Y.id,role:"admin"}),v(y.map(z=>z.id===Y.id?{...z,role:"admin"}:z))}catch(z){console.error("Failed to promote user",z),alert("Fehler beim Aktualisieren der Rolle.")}},Q=async(Y,z)=>{try{await s.admin.updateUser({id:Y.id,subscription:z}),v(y.map(X=>X.id===Y.id?{...X,subscription:z}:X))}catch(X){console.error("Failed to change subscription",X),alert("Fehler beim Aktualisieren des Abos.")}},B=async Y=>{if(window.confirm(`Benutzer "${Y.name}" wirklich lschen? Alle Avatare und Stories werden entfernt.`))try{await s.admin.deleteUser({id:Y.id}),v(y.filter(z=>z.id!==Y.id))}catch(z){console.error("Failed to delete user",z),alert("Fehler beim Lschen.")}},L=async()=>{p(!0);try{const Y=await s.admin.promoteToAdmin();alert(Y.message),window.location.reload()}catch(Y){console.error("Failed to promote to admin",Y),alert(`Promotion failed: ${Y.message}`)}finally{p(!1)}},V=b.useMemo(()=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.md,justifyContent:"space-between",marginBottom:w.lg},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.md},children:[o.jsx($u,{size:28,style:{color:S.primary}}),o.jsxs("div",{children:[o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.textPrimary},children:"Admin Dashboard"}),o.jsx("div",{style:{...ee.textStyles.caption,color:S.textSecondary},children:"Versteckter Bereich  nur fr Admins"})]})]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:w.md},children:o.jsx(ea,{children:o.jsx(Fj,{})})})]}),[]);return c?o.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:S.appBackground},children:o.jsxs("div",{children:[o.jsx("div",{style:{width:56,height:56,border:"4px solid rgba(0,0,0,0.08)",borderTop:`4px solid ${S.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),o.jsx("style",{children:"@keyframes spin{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}"})]})}):o.jsxs("div",{style:{minHeight:"100vh",background:S.appBackground,padding:w.xl},children:[o.jsx(za,{children:o.jsxs(Ee,{variant:"glass",style:{maxWidth:640,margin:"0 auto",padding:w.xl,textAlign:"center"},children:[o.jsx($u,{size:32,style:{color:S.primary,marginBottom:w.md}}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.textPrimary,marginBottom:w.sm},children:"Admin-Bereich (Anmeldung erforderlich)"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.textSecondary,marginBottom:w.lg},children:"Bitte melde dich an: /auth"})]})}),o.jsx(ea,{children:r?o.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[V,o.jsx(Se,{delay:50,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:w.xl,padding:w.xl},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.md},children:[o.jsx(yD,{size:20,style:{color:S.primary}}),o.jsx("div",{style:{...ee.textStyles.label,color:S.textPrimary,fontSize:16},children:"System-Statistiken"}),o.jsx("button",{onClick:H,title:"Aktualisieren",style:{marginLeft:"auto",padding:w.sm,borderRadius:fe.lg,background:S.glass.buttonBackground,border:`1px solid ${S.glass.border}`},children:o.jsx(bk,{size:16})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:w.md},children:[o.jsx(Ai,{label:"Benutzer",value:(m==null?void 0:m.totals.users)??0}),o.jsx(Ai,{label:"Avatare",value:(m==null?void 0:m.totals.avatars)??0}),o.jsx(Ai,{label:"Geschichten",value:(m==null?void 0:m.totals.stories)??0})]}),o.jsxs("div",{style:{marginTop:w.lg,display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:w.md},children:[o.jsx(Ai,{label:"Starter",value:(m==null?void 0:m.subscriptions.starter)??0}),o.jsx(Ai,{label:"Familie",value:(m==null?void 0:m.subscriptions.familie)??0}),o.jsx(Ai,{label:"Premium",value:(m==null?void 0:m.subscriptions.premium)??0})]})]})}),o.jsx(Se,{delay:150,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:w.xl,padding:w.xl},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.md},children:[o.jsx(na,{size:20,style:{color:S.primary}}),o.jsx("div",{style:{...ee.textStyles.label,color:S.textPrimary,fontSize:16},children:"Benutzerverwaltung"})]}),o.jsxs("div",{style:{display:"flex",gap:w.sm,marginBottom:w.md},children:[o.jsxs("div",{style:{position:"relative",flex:1},children:[o.jsx(L1,{size:16,style:{position:"absolute",top:12,left:12,color:S.textSecondary}}),o.jsx("input",{value:j,onChange:Y=>A(Y.target.value),placeholder:"Suche nach Name oder E-Mail...",style:{width:"100%",padding:`${w.md}px ${w.md}px ${w.md}px ${w.xl+8}px`,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:S.glass.cardBackground}})]}),o.jsx("button",{onClick:()=>{E(null),se(!0)},style:{padding:`${w.md}px ${w.lg}px`,borderRadius:fe.lg,background:S.primary,color:S.textInverse,border:"none"},children:"Suchen"})]}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{textAlign:"left",color:S.textSecondary},children:[o.jsx("th",{style:{padding:w.sm},children:"Name"}),o.jsx("th",{style:{padding:w.sm},children:"E-Mail"}),o.jsx("th",{style:{padding:w.sm},children:"Abo"}),o.jsx("th",{style:{padding:w.sm},children:"Rolle"}),o.jsx("th",{style:{padding:w.sm,textAlign:"right"},children:"Aktionen"})]})}),o.jsx("tbody",{children:y.map(Y=>o.jsxs("tr",{style:{borderTop:`1px solid ${S.glass.border}`},children:[o.jsx("td",{style:{padding:w.sm,color:S.textPrimary},children:Y.name}),o.jsx("td",{style:{padding:w.sm,color:S.textSecondary},children:Y.email}),o.jsx("td",{style:{padding:w.sm},children:o.jsxs("select",{value:Y.subscription,onChange:z=>Q(Y,z.target.value),style:{padding:w.sm,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:S.surface},children:[o.jsx("option",{value:"starter",children:"starter"}),o.jsx("option",{value:"familie",children:"familie"}),o.jsx("option",{value:"premium",children:"premium"})]})}),o.jsx("td",{style:{padding:w.sm},children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:`${w.xs}px ${w.sm}px`,borderRadius:fe.lg,background:Y.role==="admin"?"rgba(255, 107, 157, 0.12)":S.glass.badgeBackground,border:`1px solid ${S.glass.border}`,color:S.textPrimary},children:[Y.role==="admin"&&o.jsx(RD,{size:14,style:{color:S.primary}}),Y.role]})}),o.jsxs("td",{style:{padding:w.sm,textAlign:"right"},children:[Y.role!=="admin"&&o.jsx("button",{onClick:()=>re(Y),title:"Zu Admin machen",style:{padding:w.sm,borderRadius:fe.lg,background:S.glass.buttonBackground,border:`1px solid ${S.glass.border}`,marginRight:w.sm},children:o.jsx(Xg,{size:16})}),o.jsx("button",{onClick:()=>B(Y),title:"Lschen",style:{padding:w.sm,borderRadius:fe.lg,background:"rgba(245, 101, 101, 0.9)",color:S.textInverse,border:"none"},children:o.jsx(ds,{size:16})})]})]},Y.id))})]})}),o.jsx("div",{style:{marginTop:w.md,textAlign:"center"},children:o.jsx("button",{disabled:!k||C,onClick:()=>se(!1),style:{padding:`${w.md}px ${w.lg}px`,borderRadius:fe.lg,background:S.glass.buttonBackground,border:`1px solid ${S.glass.border}`,opacity:k?1:.5,cursor:k?"pointer":"not-allowed"},children:C?"Lade...":k?"Mehr laden":"Ende erreicht"})})]})}),o.jsx(Se,{delay:200,children:o.jsxs(Ee,{variant:"glass",style:{marginBottom:w.xl,padding:w.xl},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.md},children:o.jsx("div",{style:{...ee.textStyles.label,color:S.textPrimary,fontSize:16},children:"Avatare durchsuchen"})}),o.jsxs("div",{style:{display:"flex",gap:w.sm,marginBottom:w.md},children:[o.jsxs("div",{style:{position:"relative",flex:1},children:[o.jsx(L1,{size:16,style:{position:"absolute",top:12,left:12,color:S.textSecondary}}),o.jsx("input",{value:P,onChange:Y=>M(Y.target.value),placeholder:"Name/Beschreibung...",style:{width:"100%",padding:`${w.md}px ${w.md}px ${w.md}px ${w.xl+8}px`,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:S.glass.cardBackground}})]}),o.jsx("button",{onClick:()=>{_(null),K(!0)},style:{padding:`${w.md}px ${w.lg}px`,borderRadius:fe.lg,background:S.primary,color:S.textInverse,border:"none"},children:"Suchen"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:w.md},children:N.map(Y=>o.jsxs(Ee,{variant:"glass",style:{padding:w.md},children:[o.jsx("div",{style:{width:"100%",height:140,borderRadius:fe.lg,background:S.glass.cardBackground,border:`1px solid ${S.glass.border}`,overflow:"hidden",marginBottom:w.sm,display:"flex",alignItems:"center",justifyContent:"center"},children:Y.imageUrl?o.jsx("img",{src:Y.imageUrl,alt:Y.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("span",{style:{fontSize:28},children:""})}),o.jsx("div",{style:{...ee.textStyles.label,color:S.textPrimary},children:Y.name}),o.jsxs("div",{style:{...ee.textStyles.caption,color:S.textSecondary},children:[Y.creationType,"  ",Y.userId.slice(0,6),""]})]},Y.id))}),o.jsx("div",{style:{marginTop:w.md,textAlign:"center"},children:o.jsx("button",{disabled:!U||I,onClick:()=>K(!1),style:{padding:`${w.md}px ${w.lg}px`,borderRadius:fe.lg,background:S.glass.buttonBackground,border:`1px solid ${S.glass.border}`,opacity:U?1:.5,cursor:U?"pointer":"not-allowed"},children:I?"Lade...":U?"Mehr laden":"Ende erreicht"})})]})})]}):o.jsxs(Ee,{variant:"glass",style:{maxWidth:640,margin:"0 auto",padding:w.xl,textAlign:"center"},children:[o.jsx($u,{size:32,style:{color:S.error,marginBottom:w.md}}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.textPrimary,marginBottom:w.sm},children:"Kein Admin-Zugriff"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.textSecondary,marginBottom:w.lg},children:"Dein Konto verfgt nicht ber Admin-Rechte. Wenn noch kein Admin existiert, kannst du dich hier zum ersten Admin machen."}),o.jsx(Ve,{title:h?"Wird ausgefhrt...":"Erster Admin werden",onPress:L,loading:h,icon:o.jsx(LP,{size:16}),variant:"fun"})]})})]})},Ai=({label:e,value:t})=>o.jsxs("div",{style:{padding:w.lg,background:S.glass.cardBackground,border:`1px solid ${S.glass.border}`,borderRadius:fe.lg,textAlign:"center"},children:[o.jsx("div",{style:{...ee.textStyles.caption,color:S.textSecondary,marginBottom:w.xs},children:e}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.textPrimary},children:t.toLocaleString()})]}),PC=()=>{const{user:e,isSignedIn:t}=Yi(),s=yt(),[r,i]=b.useState(""),[c,u]=b.useState("6-8"),[h,p]=b.useState("standard"),[m,g]=b.useState("science"),[y,v]=b.useState("medium"),[j,A]=b.useState("curious"),[k,E]=b.useState(!0),[C,R]=b.useState(3),[N,D]=b.useState(1),[P,M]=b.useState(!1),[U,_]=b.useState([]),[I,W]=b.useState(!1);b.useEffect(()=>{t&&H()},[t]);const H=async()=>{try{W(!0);const Q=await s.doku.listDokus();_(Q.dokus)}catch(Q){console.error("Failed to load dokus",Q)}finally{W(!1)}},se=async()=>{if(e){if(!r.trim()){alert("Bitte gib ein Thema ein.");return}try{M(!0);const Q={topic:r.trim(),ageGroup:c,depth:h,perspective:m,includeInteractive:k,quizQuestions:k?C:0,handsOnActivities:k?N:0,tone:j,length:y},B=await s.doku.generateDoku({userId:e.id,config:Q});i(""),await H(),window.location.href=`/doku-reader/${B.id}`}catch(Q){console.error("Fehler bei Doku-Generierung",Q),alert("Die Doku konnte nicht erstellt werden. Bitte versuche es erneut.")}finally{M(!1)}}},K=async Q=>{if(window.confirm("Doku wirklich lschen?"))try{await s.doku.deleteDoku(Q),_(U.filter(B=>B.id!==Q))}catch(B){console.error("Failed to delete doku",B),alert("Lschen fehlgeschlagen.")}},re={...ee.textStyles.headingMd,color:S.textPrimary,marginBottom:w.sm};return o.jsx("div",{style:{minHeight:"100vh",background:S.appBackground,paddingBottom:"120px"},children:o.jsxs("div",{style:{padding:w.xl},children:[o.jsx(za,{children:o.jsxs(Ee,{variant:"glass",style:{maxWidth:720,margin:"0 auto",padding:w.xl,textAlign:"center"},children:[o.jsx(Ar,{size:32,style:{color:S.primary,marginBottom:w.md}}),o.jsx("div",{style:re,children:"Doku Modus (Anmeldung erforderlich)"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.textSecondary},children:"Bitte melde dich an, um den Doku-Modus zu verwenden."})]})}),o.jsxs(ea,{children:[o.jsx(Se,{delay:50,children:o.jsxs(Ee,{variant:"glass",style:{maxWidth:960,margin:"0 auto",padding:w.xl,marginBottom:w.xl},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.md},children:[o.jsx(Ar,{size:22,style:{color:S.primary}}),o.jsx("div",{style:re,children:"Neues Lern-Dossier erstellen"})]}),o.jsxs("div",{style:{marginBottom:w.lg},children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.textPrimary,display:"block",marginBottom:w.sm},children:"Thema"}),o.jsx("input",{value:r,onChange:Q=>i(Q.target.value),placeholder:'z.B. "Vulkane", "Nils Fluss", "Bienen", "Regenbogen"',style:{width:"100%",padding:w.lg,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:S.surface}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:w.md},children:[o.jsx(ol,{label:"Altersgruppe",value:c,onChange:u,options:[{value:"3-5",label:"3-5 Jahre"},{value:"6-8",label:"6-8 Jahre"},{value:"9-12",label:"9-12 Jahre"},{value:"13+",label:"13+ Jahre"}]}),o.jsx(ol,{label:"Tiefe",value:h,onChange:p,options:[{value:"basic",label:"Einfach"},{value:"standard",label:"Standard"},{value:"deep",label:"Tief"}]}),o.jsx(ol,{label:"Perspektive",value:m,onChange:g,options:[{value:"science",label:"Wissenschaft"},{value:"history",label:"Geschichte"},{value:"technology",label:"Technologie"},{value:"nature",label:"Natur"},{value:"culture",label:"Kultur"}]}),o.jsx(ol,{label:"Lnge",value:y,onChange:v,options:[{value:"short",label:"Kurz"},{value:"medium",label:"Mittel"},{value:"long",label:"Lang"}]}),o.jsx(ol,{label:"Ton",value:j,onChange:A,options:[{value:"fun",label:"Spaig"},{value:"neutral",label:"Neutral"},{value:"curious",label:"Neugierig"}]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:w.md,marginTop:w.lg},children:[o.jsx(Y8,{label:"Interaktive Elemente",enabled:k,onToggle:()=>E(!k)}),o.jsx($S,{label:"Quizfragen",value:C,onChange:R,min:0,max:10,disabled:!k}),o.jsx($S,{label:"Aktivitten",value:N,onChange:D,min:0,max:5,disabled:!k})]}),o.jsx("div",{style:{marginTop:w.xl},children:o.jsx(Ve,{title:P?"Erstelle...":" Doku erzeugen",onPress:se,loading:P,icon:o.jsx(wt,{size:16}),variant:"fun",fullWidth:!0})})]})}),o.jsx(Se,{delay:150,children:o.jsxs(Ee,{variant:"glass",style:{maxWidth:1100,margin:"0 auto",padding:w.xl},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.md},children:[o.jsx(gn,{size:22,style:{color:S.primary}}),o.jsx("div",{style:re,children:"Deine Dokus"})]}),I?o.jsx("div",{style:{textAlign:"center",padding:w.lg},children:o.jsx(id,{className:"animate-spin"})}):U.length===0?o.jsxs("div",{style:{textAlign:"center",padding:w.xl},children:[o.jsx("div",{style:{fontSize:48,marginBottom:w.sm},children:""}),o.jsx("div",{style:{...ee.textStyles.body,color:S.textSecondary},children:"Noch keine Dokus. Erstelle deine erste Lern-Doku!"})]}):o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:w.md},children:U.map(Q=>o.jsxs(Ee,{variant:"glass",style:{padding:w.md},children:[o.jsx("div",{style:{width:"100%",height:140,borderRadius:fe.lg,background:S.glass.cardBackground,border:`1px solid ${S.glass.border}`,overflow:"hidden",marginBottom:w.sm,display:"flex",alignItems:"center",justifyContent:"center"},children:Q.coverImageUrl?o.jsx("img",{src:Q.coverImageUrl,alt:Q.title,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("span",{style:{fontSize:28},children:""})}),o.jsx("div",{style:{...ee.textStyles.label,color:S.textPrimary},children:Q.title}),o.jsx("div",{style:{...ee.textStyles.caption,color:S.textSecondary,minHeight:32},children:Q.summary||Q.topic}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:w.sm},children:[o.jsx("button",{onClick:()=>window.location.href=`/doku-reader/${Q.id}`,style:{padding:w.sm,borderRadius:fe.lg,background:S.glass.buttonBackground,border:`1px solid ${S.glass.border}`},children:"ffnen"}),o.jsx("button",{onClick:()=>K(Q.id),style:{padding:w.sm,borderRadius:fe.lg,background:"rgba(245, 101, 101, 0.9)",color:S.textInverse,border:"none"},children:o.jsx(ds,{size:16})})]})]},Q.id))})]})})]})]})})},ol=({label:e,value:t,onChange:s,options:r})=>o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.textPrimary,display:"block",marginBottom:w.sm},children:e}),o.jsx("select",{value:t,onChange:i=>s(i.target.value),style:{width:"100%",padding:w.md,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:S.surface},children:r.map(i=>o.jsx("option",{value:i.value,children:i.label},i.value))})]}),Y8=({label:e,enabled:t,onToggle:s})=>o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.textPrimary,display:"block",marginBottom:w.sm},children:e}),o.jsx("button",{onClick:s,style:{width:60,height:32,borderRadius:20,background:t?S.primary:S.border,border:"none",position:"relative",transition:"all .2s"},children:o.jsx("span",{style:{position:"absolute",top:4,left:t?32:4,width:24,height:24,borderRadius:12,background:"white",transition:"all .2s",boxShadow:$e.sm}})})]}),$S=({label:e,value:t,onChange:s,min:r,max:i,disabled:c})=>o.jsxs("div",{children:[o.jsx("label",{style:{...ee.textStyles.label,color:S.textPrimary,display:"block",marginBottom:w.sm},children:e}),o.jsx("input",{type:"number",value:t,onChange:u=>s(Math.max(r,Math.min(i,parseInt(u.target.value||"0",10)))),min:r,max:i,disabled:c,style:{width:"100%",padding:w.md,borderRadius:fe.lg,border:`1px solid ${S.glass.border}`,background:c?"#f3f4f6":S.surface}})]}),J8=()=>{const e=yt(),[t,s]=b.useState(!1);return{analyzeStoryCompletion:async(u,h,p,m,g)=>{try{s(!0),console.log(" Starting KI personality analysis for story completion:",{avatarId:u.id,storyId:h,storyTitle:p});try{if((await e.ai.checkPersonalityUpdate({avatarId:u.id,contentId:h,contentType:"story"})).hasUpdates)return console.log(" Avatar already received updates from this story"),{success:!1,changes:[],summary:"Avatar hat bereits Updates von dieser Geschichte erhalten",alreadyProcessed:!0}}catch(v){console.log("Check error (continuing anyway):",v)}const y=await e.ai.analyzePersonalityDevelopment({avatarId:u.id,avatarProfile:{name:u.name,description:u.description||"",currentPersonality:u.personalityTraits||{Mut:50,Kreativitt:50,Empathie:50,Intelligenz:50,Sozialitt:50,Energie:50}},contentType:"story",contentData:{title:p,storyContent:m,learningMode:g?{enabled:g.enabled,subjects:g.subjects,difficulty:g.difficulty,objectives:g.learningObjectives||[]}:void 0}});if(y.success&&y.changes.length>0){try{await e.ai.trackPersonalityUpdate({avatarId:u.id,contentId:h,contentType:"story",contentTitle:p,changes:y.changes})}catch(v){console.log("Track error (continuing anyway):",v)}console.log(" KI personality analysis completed:",y.changes.length,"changes")}return{success:y.success,changes:y.changes||[],summary:y.summary||"KI-Analyse abgeschlossen"}}catch(y){return console.error(" Error in KI personality analysis:",y),{success:!1,changes:[],summary:"Fehler bei der KI-Analyse"}}finally{s(!1)}},analyzeDokuCompletion:async(u,h,p,m,g)=>{try{s(!0),console.log(" Starting KI personality analysis for doku completion:",{avatarId:u.id,dokuId:h,dokuTitle:p});try{if((await e.ai.checkPersonalityUpdate({avatarId:u.id,contentId:h,contentType:"doku"})).hasUpdates)return console.log(" Avatar already received updates from this doku"),{success:!1,changes:[],summary:"Avatar hat bereits Updates von dieser Doku erhalten",alreadyProcessed:!0}}catch(v){console.log("Check error (continuing anyway):",v)}const y=await e.ai.analyzePersonalityDevelopment({avatarId:u.id,avatarProfile:{name:u.name,description:u.description||"",currentPersonality:u.personalityTraits||{Mut:50,Kreativitt:50,Empathie:50,Intelligenz:50,Sozialitt:50,Energie:50}},contentType:"doku",contentData:{title:p,dokuSections:m,learningMode:g}});if(y.success&&y.changes.length>0){try{await e.ai.trackPersonalityUpdate({avatarId:u.id,contentId:h,contentType:"doku",contentTitle:p,changes:y.changes})}catch(v){console.log("Track error (continuing anyway):",v)}console.log(" KI doku analysis completed:",y.changes.length,"changes")}return{success:y.success,changes:y.changes||[],summary:y.summary||"KI-Analyse abgeschlossen"}}catch(y){return console.error(" Error in KI doku analysis:",y),{success:!1,changes:[],summary:"Fehler bei der KI-Analyse"}}finally{s(!1)}},analyzeQuizCompletion:async(u,h,p,m,g)=>{try{s(!0);const y=`${h}_quiz_${p}`;console.log(" Starting KI personality analysis for quiz completion:",{avatarId:u.id,quizId:y,quizTopic:p,score:g});try{if((await e.ai.checkPersonalityUpdate({avatarId:u.id,contentId:y,contentType:"quiz"})).hasUpdates)return console.log(" Avatar already received updates from this quiz"),{success:!1,changes:[],summary:"Avatar hat bereits Updates von diesem Quiz erhalten",alreadyProcessed:!0}}catch(j){console.log("Check error (continuing anyway):",j)}const v=await e.ai.analyzePersonalityDevelopment({avatarId:u.id,avatarProfile:{name:u.name,description:u.description||"",currentPersonality:u.personalityTraits||{Mut:50,Kreativitt:50,Empathie:50,Intelligenz:50,Sozialitt:50,Energie:50}},contentType:"quiz",contentData:{title:`Quiz: ${p}`,quizData:{topic:p,questions:m,score:g}}});if(v.success&&v.changes.length>0){try{await e.ai.trackPersonalityUpdate({avatarId:u.id,contentId:y,contentType:"quiz",contentTitle:`Quiz: ${p}`,changes:v.changes})}catch(j){console.log("Track error (continuing anyway):",j)}console.log(" KI quiz analysis completed:",v.changes.length,"changes")}return{success:v.success,changes:v.changes||[],summary:v.summary||"KI-Analyse abgeschlossen"}}catch(y){return console.error(" Error in KI quiz analysis:",y),{success:!1,changes:[],summary:"Fehler bei der KI-Analyse"}}finally{s(!1)}},loading:t}},zC=({section:e,avatarId:t,dokuTitle:s,dokuId:r,onPersonalityChange:i})=>{var _;const c=(_=e.interactive)==null?void 0:_.quiz,u=yt(),{addMemory:h,updatePersonality:p}=gC(),{analyzeQuizCompletion:m}=J8(),[g,y]=b.useState(0),[v,j]=b.useState(()=>c?Array(c.questions.length).fill(null):[]),[A,k]=b.useState(!1),[E,C]=b.useState(!1);if(!c||!c.enabled||c.questions.length===0)return null;const R=c.questions[g],N=I=>{if(A)return;const W=[...v];W[g]=I,j(W)},D=()=>{k(!0)},P=async()=>{g<c.questions.length-1?(y(g+1),k(!1)):E||await M()},M=async()=>{if(!(!t||!s||!r||E))try{C(!0),console.log(" Starting KI quiz analysis...");const I=await u.avatar.get(t);if(!I){console.error(" Avatar not found for quiz analysis");return}const W=c.questions.reduce((re,Q,B)=>v[B]===Q.answerIndex?re+1:re,0),H=Math.round(W/c.questions.length*100),se=c.questions.map((re,Q)=>({question:re.question,correctAnswer:re.options[re.answerIndex],userAnswer:re.options[v[Q]||0],isCorrect:v[Q]===re.answerIndex})),K=await m(I,r,e.title,se,H);if(K.alreadyProcessed){console.log(" Avatar already received updates from this quiz"),ft(async()=>{const{showWarningToast:re}=await import("./toastUtils-Bu-OBlOz.js");return{showWarningToast:re}},[]).then(({showWarningToast:re})=>{re("Du hast bereits Persnlichkeitsupdates von diesem Quiz erhalten!")});return}if(K.success&&K.changes.length>0){console.log(" KI quiz analysis successful, applying",K.changes.length,"personality changes");const re=K.changes.map(B=>({trait:B.trait,change:B.change})),Q=`Ich habe ein Quiz zu "${e.title}" in "${s}" absolviert und ${H}% der Fragen richtig beantwortet. ${K.summary}`;await h(t,{storyId:r,storyTitle:`Quiz: ${s}`,experience:Q,emotionalImpact:H>=70?"positive":H>=40?"neutral":"negative",personalityChanges:re}),await p(t,re,`KI-Analyse: Quiz "${e.title}" (${H}% korrekt)`,r),i&&i(re),console.log(` KI quiz completed: ${H}% correct, personality changes:`,re),ft(async()=>{const{showQuizCompletionToast:B,showPersonalityUpdateToast:L}=await import("./toastUtils-Bu-OBlOz.js");return{showQuizCompletionToast:B,showPersonalityUpdateToast:L}},[]).then(({showQuizCompletionToast:B,showPersonalityUpdateToast:L})=>{B(H),L(re)})}else console.log(" KI quiz analysis completed but no personality changes suggested"),ft(async()=>{const{showQuizCompletionToast:re}=await import("./toastUtils-Bu-OBlOz.js");return{showQuizCompletionToast:re}},[]).then(({showQuizCompletionToast:re})=>{re(H)})}catch(I){console.error(" Error processing quiz completion with KI:",I),ft(async()=>{const{showErrorToast:W}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:W}},[]).then(({showErrorToast:W})=>{W("Fehler beim Verarbeiten der Persnlichkeitsentwicklung")})}},U=I=>{if(!A)return v[g]===I?"bg-blue-200 dark:bg-blue-800 border-blue-500":"bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600";const W=I===R.answerIndex,H=I===v[g];return W?"bg-green-200 dark:bg-green-800 border-green-500":H&&!W?"bg-red-200 dark:bg-red-800 border-red-500":"bg-white dark:bg-gray-700 opacity-60"};return c.questions.length-1,o.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 md:p-8 bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30",children:o.jsxs("div",{className:"w-full max-w-3xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"inline-block p-3 bg-white/50 dark:bg-gray-800/50 rounded-full shadow-md mb-4",children:o.jsx(CD,{className:"w-10 h-10 text-blue-500"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Quiz Time!"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Teste dein Wissen"})]}),o.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-xl",children:[o.jsxs("p",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-4",children:["Frage ",g+1," von ",c.questions.length,": ",R.question]}),o.jsx("div",{className:"space-y-3",children:R.options.map((I,W)=>o.jsxs(je.div,{onClick:()=>N(W),className:`flex items-center p-4 rounded-lg border-2 cursor-pointer transition-all duration-300 ${U(W)}`,whileTap:{scale:A?1:.98},children:[o.jsxs("div",{className:"w-6 h-6 rounded-full border-2 border-gray-400 flex items-center justify-center mr-4 flex-shrink-0",children:[A&&(v[g]===W||W===R.answerIndex)&&(W===R.answerIndex?o.jsx(mk,{className:"w-5 h-5 text-green-600"}):o.jsx(_d,{className:"w-5 h-5 text-red-600"})),!A&&v[g]===W&&o.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"})]}),o.jsx("span",{className:"flex-1",children:I})]},W))}),A&&R.explanation&&o.jsxs(je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg text-sm text-gray-600 dark:text-gray-300",children:[o.jsx("strong",{children:"Erklrung:"})," ",R.explanation]}),o.jsx("div",{className:"mt-6 text-right",children:A?o.jsx("button",{onClick:P,disabled:E,className:`px-6 py-2 text-white font-bold rounded-full shadow-lg transition-all ${g===c.questions.length-1?"bg-purple-600 hover:bg-purple-700":"bg-green-600 hover:bg-green-700"} disabled:bg-gray-400 disabled:cursor-not-allowed`,children:g===c.questions.length-1?E?"Quiz abgeschlossen!":"Quiz abschlieen":"Nchste Frage"}):o.jsx("button",{onClick:D,disabled:v[g]===null,className:"px-6 py-2 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-all",children:"Antworten"})})]})]})})},LC=({section:e})=>{const t=e.keyFacts;return!t||t.length===0?null:o.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 md:p-8 bg-gradient-to-br from-yellow-50 to-orange-100 dark:from-yellow-900/30 dark:to-orange-900/30",children:o.jsxs("div",{className:"w-full max-w-3xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"inline-block p-3 bg-white/50 dark:bg-gray-800/50 rounded-full shadow-md mb-4",children:o.jsx(Qg,{className:"w-10 h-10 text-yellow-500"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Wichtige Fakten"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Die Kernaussagen zusammengefasst"})]}),o.jsx("div",{className:"space-y-4",children:t.map((s,r)=>o.jsxs(je.div,{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg flex items-start",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.1+.2,type:"spring",stiffness:200,damping:20},children:[o.jsx(ls,{className:"w-6 h-6 text-green-500 mr-4 mt-1 flex-shrink-0"}),o.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-200",children:s})]},r))})]})})},UC=({section:e})=>{var s;const t=(s=e.interactive)==null?void 0:s.activities;return!t||!t.enabled||!t.items||t.items.length===0?null:o.jsx("div",{className:"w-full h-full flex flex-col items-center justify-center p-4 md:p-8 bg-gradient-to-br from-green-50 to-teal-100 dark:from-green-900/30 dark:to-teal-900/30",children:o.jsxs("div",{className:"w-full max-w-3xl",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"inline-block p-3 bg-white/50 dark:bg-gray-800/50 rounded-full shadow-md mb-4",children:o.jsx(oD,{className:"w-10 h-10 text-green-500"})}),o.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Aktivitten & Experimente"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Zeit, aktiv zu werden!"})]}),o.jsx("div",{className:"space-y-6",children:t.items.map((r,i)=>o.jsxs(je.div,{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-lg",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:i*.15+.2},children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-3",children:r.title}),o.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:r.description}),o.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[r.materials&&r.materials.length>0&&o.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-200",children:[o.jsx(JD,{className:"w-5 h-5 text-blue-500 mr-2"}),o.jsx("strong",{children:"Material:"}),o.jsx("span",{className:"ml-1.5",children:r.materials.join(", ")})]}),r.durationMinutes&&o.jsxs("div",{className:"flex items-center text-gray-700 dark:text-gray-200",children:[o.jsx(Dr,{className:"w-5 h-5 text-purple-500 mr-2"}),o.jsx("strong",{children:"Dauer:"}),o.jsxs("span",{className:"ml-1.5",children:[r.durationMinutes," Minuten"]})]})]})]},i))})]})})},X8=({changes:e,visible:t,onClose:s})=>{const r={Mut:$u,Kreativitt:wt,Empathie:Md,Intelligenz:rd,Sozialitt:na,Energie:kk};return b.useEffect(()=>{if(t){const i=setTimeout(s,4e3);return()=>clearTimeout(i)}},[t,s]),o.jsx(or,{children:t&&o.jsx(je.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{type:"spring",stiffness:300,damping:25},className:"fixed bottom-20 left-1/2 transform -translate-x-1/2 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 p-6 min-w-80 max-w-md",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-400 to-pink-400 rounded-full flex items-center justify-center mr-3",children:o.jsx(wt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-800",children:"Persnlichkeitsentwicklung!"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Dein Avatar hat sich verndert"})]})]}),o.jsx("div",{className:"space-y-3",children:e.map((i,c)=>{const u=r[i.trait]||rd,h=i.change>0;return o.jsxs(je.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:c*.1},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(u,{className:"w-5 h-5 mr-3 text-gray-600"}),o.jsx("span",{className:"font-medium text-gray-800",children:i.trait})]}),o.jsxs("div",{className:"flex items-center",children:[h?o.jsx(ey,{className:"w-4 h-4 text-green-500 mr-1"}):o.jsx(MP,{className:"w-4 h-4 text-red-500 mr-1"}),o.jsxs("span",{className:`font-bold ${h?"text-green-600":"text-red-600"}`,children:[h?"+":"",i.change]})]})]},`${i.trait}-${c}`)})}),o.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:o.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Diese nderungen spiegeln die Entscheidungen in der Geschichte wider"})})]})})})},Z8=()=>{const{dokuId:e}=Pa(),t=Gt();lr();const s=yt(),{getToken:r}=vr(),[i,c]=b.useState(null),[u,h]=b.useState(!0),[p,m]=b.useState(null),[g,y]=b.useState(!1),[v,j]=b.useState(0),[A,k]=b.useState(!1),[E,C]=b.useState(1),[R,N]=b.useState(null),[D,P]=b.useState([]),[M,U]=b.useState(!1),_=b.useRef(null),I=b.useMemo(()=>{var Y;if(!((Y=i==null?void 0:i.content)!=null&&Y.sections))return[];const V=[];return i.content.sections.forEach((z,X)=>{var Z,F,ie,oe,he,ye;z.content&&V.push({type:"content",originalSection:z,id:`content-${X}`}),z.keyFacts&&z.keyFacts.length>0&&V.push({type:"facts",originalSection:z,id:`facts-${X}`}),(F=(Z=z.interactive)==null?void 0:Z.activities)!=null&&F.enabled&&((ie=z.interactive.activities.items)==null?void 0:ie.length)>0&&V.push({type:"activity",originalSection:z,id:`activity-${X}`}),(he=(oe=z.interactive)==null?void 0:oe.quiz)!=null&&he.enabled&&((ye=z.interactive.quiz.questions)==null?void 0:ye.length)>0&&V.push({type:"quiz",originalSection:z,id:`quiz-${X}`})}),V},[i]);b.useEffect(()=>{e&&W()},[e]),b.useEffect(()=>{const V=_.current;if(!V){k(!0);return}const Y=()=>{const z=V.scrollHeight-V.scrollTop<=V.clientHeight+5;k(z)};return V.addEventListener("scroll",Y),Y(),()=>V.removeEventListener("scroll",Y)},[v,g]);const W=async()=>{if(e)try{h(!0),m(null);const V=await s.doku.getDoku(e);c(V)}catch(V){console.error("Error loading doku:",V),m(V.message||"Doku konnte nicht geladen werden.")}finally{h(!1)}},H=()=>{y(!0),k(!1)},se=V=>{V>=0&&V<I.length&&(C(V>v?1:-1),j(V),k(!1),V===I.length-1&&re())},K=V=>{P(V),U(!0),ft(async()=>{const{showPersonalityUpdateToast:Y}=await import("./toastUtils-Bu-OBlOz.js");return{showPersonalityUpdateToast:Y}},[]).then(({showPersonalityUpdateToast:Y})=>{Y(V)}),setTimeout(()=>{U(!1)},4e3)},re=async()=>{if(!(!i||!e)){console.log(" Doku completed - triggering personality updates for all eligible avatars");try{const V=await r(),{getBackendUrl:Y}=await ft(async()=>{const{getBackendUrl:Z}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:Z}},void 0),z=Y(),X=await fetch(`${z}/doku/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",...V?{Authorization:`Bearer ${V}`}:{}},credentials:"include",body:JSON.stringify({dokuId:e,dokuTitle:i.title,topic:i.topic})});if(X.ok){let Z=function(ie){const oe=ie.split("."),he=oe.length>1?oe[1]:null,ye=oe[0],pe={knowledge:"Wissen",creativity:"Kreativitt",vocabulary:"Wortschatz",courage:"Mut",curiosity:"Neugier",teamwork:"Teamgeist",empathy:"Empathie",persistence:"Ausdauer",logic:"Logik",history:"Geschichte",science:"Wissenschaft",geography:"Geografie",physics:"Physik",biology:"Biologie",chemistry:"Chemie",mathematics:"Mathematik",kindness:"Freundlichkeit",humor:"Humor",determination:"Entschlossenheit",wisdom:"Weisheit"};return he?pe[he.toLowerCase()]||he:pe[ye.toLowerCase()]||ie};const F=await X.json();console.log(" Personality updates applied:",F),ft(async()=>{const{showSuccessToast:ie}=await import("./toastUtils-Bu-OBlOz.js");return{showSuccessToast:ie}},[]).then(({showSuccessToast:ie})=>{let oe=` Doku abgeschlossen! ${F.updatedAvatars} Avatare entwickelt.

`;F.personalityChanges&&F.personalityChanges.length>0&&F.personalityChanges.forEach(he=>{const ye=he.changes.map(pe=>`${pe.change>0?`+${pe.change}`:`${pe.change}`} ${Z(pe.trait)}`).join(", ");oe+=`${he.avatarName}: ${ye}
`}),ie(oe.trim())})}else{const Z=await X.text();console.warn(" Failed to apply personality updates:",X.statusText,Z),ft(async()=>{const{showErrorToast:F}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:F}},[]).then(({showErrorToast:F})=>{F(" Fehler bei der Persnlichkeitsentwicklung")})}}catch(V){console.error(" Error applying personality updates:",V),ft(async()=>{const{showErrorToast:Y}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:Y}},[]).then(({showErrorToast:Y})=>{Y(" Netzwerkfehler bei der Persnlichkeitsentwicklung")})}}},Q={enter:V=>({opacity:0,filter:"blur(10px)",x:V*50}),center:{opacity:1,filter:"blur(0px)",x:0,transition:{duration:.4}},exit:V=>({opacity:0,filter:"blur(10px)",x:V*-50,transition:{duration:.2}})},B=V=>{switch(V.type){case"content":return o.jsxs("div",{className:"w-full h-full flex flex-col pt-20 pb-32",children:[o.jsxs("div",{className:"text-center px-4",children:[o.jsx("img",{src:(i==null?void 0:i.coverImageUrl)||"/placeholder-doku.jpg",alt:V.originalSection.title||"",className:"w-full max-w-4xl max-h-[40vh] object-cover rounded-lg shadow-lg mx-auto mb-4"}),o.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-800 dark:text-white mb-6",children:V.originalSection.title})]}),o.jsx("div",{ref:_,className:"flex-1 overflow-y-auto px-4 md:px-12",children:o.jsx("div",{className:"max-w-3xl mx-auto text-lg md:text-xl text-gray-700 dark:text-gray-300 leading-relaxed space-y-6",children:V.originalSection.content.split(`
`).map((Y,z)=>o.jsx("p",{children:Y},z))})})]});case"quiz":return o.jsx(zC,{section:V.originalSection,avatarId:R==null?void 0:R.id,dokuTitle:i==null?void 0:i.title,dokuId:e,onPersonalityChange:K});case"facts":return o.jsx(LC,{section:V.originalSection});case"activity":return o.jsx(UC,{section:V.originalSection});default:return o.jsx("div",{children:"Unknown section type"})}},L=I[v];return o.jsxs("div",{className:"w-screen h-screen bg-gray-100 dark:bg-gray-900 overflow-hidden",children:[o.jsx("button",{onClick:()=>g?y(!1):t("/dokus"),className:"absolute top-4 left-4 z-20 p-2 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-full shadow-md hover:scale-105 transition-transform",children:o.jsx(yn,{className:"w-6 h-6 text-gray-700 dark:text-gray-200"})}),o.jsx(or,{initial:!1,children:g?o.jsxs("div",{className:"w-full h-full flex flex-col",children:[o.jsx(or,{initial:!1,custom:E,children:o.jsx(je.div,{custom:E,variants:Q,initial:"enter",animate:"center",exit:"exit",className:"w-full h-full absolute inset-0",children:L&&B(L)},v)}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"max-w-3xl mx-auto flex items-center justify-between gap-4",children:[o.jsx(je.button,{onClick:()=>se(v-1),disabled:v===0,className:"p-3 rounded-full disabled:opacity-30",whileHover:{scale:1.1},whileTap:{scale:.9},animate:{opacity:A||v>0?1:0},children:o.jsx(gk,{className:"w-8 h-8"})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[o.jsx("div",{className:"w-full bg-gray-300/50 dark:bg-gray-600/50 rounded-full h-2.5",children:o.jsx(je.div,{className:"bg-teal-600 h-2.5 rounded-full",initial:{width:"0%"},animate:{width:`${(v+1)/(I.length||1)*100}%`},transition:{ease:"easeInOut"}})}),o.jsxs("span",{className:"text-xs mt-1.5",children:["Abschnitt ",v+1," / ",I.length||1]})]}),o.jsx(je.button,{onClick:()=>se(v+1),disabled:v===I.length-1,className:"p-3 rounded-full disabled:opacity-30",whileHover:{scale:1.1},whileTap:{scale:.9},animate:{opacity:A||v<I.length-1?1:0},children:o.jsx(Rd,{className:"w-8 h-8"})})]})})]},"reader"):o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full h-full flex flex-col items-center justify-center p-8 text-center",children:[o.jsx("img",{src:(i==null?void 0:i.coverImageUrl)||"/placeholder-doku.jpg",alt:i==null?void 0:i.title,className:"w-48 h-48 md:w-64 md:h-64 rounded-lg shadow-2xl mb-6 object-cover"}),o.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-gray-800 dark:text-white mb-4",children:i==null?void 0:i.title}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mb-8",children:i==null?void 0:i.summary}),o.jsx("button",{onClick:H,className:"px-8 py-3 bg-teal-600 text-white font-bold rounded-full shadow-lg hover:bg-teal-700 transition-transform hover:scale-105",children:"Lesen"})]},"summary")}),o.jsx(or,{children:!1}),o.jsx(or,{children:M&&D.length>0&&o.jsx(X8,{changes:D,visible:M,onClose:()=>U(!1)})})]})},Q8=()=>{var R,N,D,P;const{dokuId:e}=Pa(),t=Gt(),s=yt(),{getToken:r}=vr(),[i,c]=b.useState(null),[u,h]=b.useState(!0),[p,m]=b.useState(null),[g,y]=b.useState(!1),[v,j]=b.useState(!1);b.useEffect(()=>{e&&A()},[e]);const A=async()=>{if(e)try{h(!0),m(null);const M=await s.doku.getDoku(e);c(M)}catch(M){console.error("Error loading doku:",M),m(M.message||"Doku konnte nicht geladen werden.")}finally{h(!1)}},k=()=>{y(!0)},E=async()=>{if(console.log(" Doku completed - triggering personality updates for all eligible avatars"),!i||!e||v){console.log("Doku completion aborted - missing requirements or already completed");return}try{j(!0);const M=await r(),{getBackendUrl:U}=await ft(async()=>{const{getBackendUrl:W}=await Promise.resolve().then(()=>Ji);return{getBackendUrl:W}},void 0),_=U(),I=await fetch(`${_}/doku/mark-read`,{method:"POST",headers:{"Content-Type":"application/json",...M?{Authorization:`Bearer ${M}`}:{}},credentials:"include",body:JSON.stringify({dokuId:e,dokuTitle:i.title,topic:i.topic})});if(I.ok){const W=await I.json();console.log(" Personality updates applied:",W),ft(async()=>{const{showSuccessToast:H}=await import("./toastUtils-Bu-OBlOz.js");return{showSuccessToast:H}},[]).then(({showSuccessToast:H})=>{let se=` Doku abgeschlossen! ${W.updatedAvatars} Avatare entwickelt.

`;W.personalityChanges&&W.personalityChanges.length>0&&W.personalityChanges.forEach(K=>{const re=K.changes.map(Q=>`${Q.change>0?`+${Q.change}`:`${Q.change}`} ${C(Q.trait)}`).join(", ");se+=`${K.avatarName}: ${re}
`}),H(se.trim())})}else{const W=await I.text();console.warn(" Failed to apply personality updates:",I.statusText,W),ft(async()=>{const{showErrorToast:H}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:H}},[]).then(({showErrorToast:H})=>{H(" Fehler bei der Persnlichkeitsentwicklung")})}}catch(M){console.error(" Error during doku completion processing:",M),ft(async()=>{const{showErrorToast:U}=await import("./toastUtils-Bu-OBlOz.js");return{showErrorToast:U}},[]).then(({showErrorToast:U})=>{U(" Netzwerkfehler bei der Persnlichkeitsentwicklung")})}};function C(M){const U=M.split("."),_=U.length>1?U[1]:null,I=U[0],W={knowledge:"Wissen",creativity:"Kreativitt",vocabulary:"Wortschatz",courage:"Mut",curiosity:"Neugier",teamwork:"Teamgeist",empathy:"Empathie",persistence:"Ausdauer",logic:"Logik",history:"Geschichte",science:"Wissenschaft",geography:"Geografie",physics:"Physik",biology:"Biologie",chemistry:"Chemie",mathematics:"Mathematik",kindness:"Freundlichkeit",humor:"Humor",determination:"Entschlossenheit",wisdom:"Weisheit"};return _?W[_.toLowerCase()]||_:W[I.toLowerCase()]||M}return u?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Lade Doku..."})]})}):p||!i?o.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100 dark:bg-gray-900",children:o.jsxs("div",{className:"text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-xl",children:[o.jsx("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Fehler"}),o.jsx("p",{className:"text-gray-700 dark:text-gray-200 mb-6",children:p||"Die Doku konnte nicht gefunden werden."}),o.jsxs("button",{onClick:()=>t("/doku"),className:"px-4 py-2 bg-teal-500 text-white rounded hover:bg-teal-600 transition-colors flex items-center mx-auto",children:[o.jsx(yn,{size:18,className:"mr-2"})," Zurck"]})]})}):o.jsxs("div",{className:"min-h-screen w-full bg-gray-100 dark:bg-gray-900",children:[o.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-b border-gray-200 dark:border-gray-700",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>g?y(!1):t("/doku"),className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:[o.jsx(yn,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:"Zurck"})]}),g&&o.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-300",children:[o.jsx(gn,{className:"w-5 h-5"}),o.jsxs("span",{className:"text-sm font-medium",children:[((N=(R=i.content)==null?void 0:R.sections)==null?void 0:N.length)||0," Abschnitte"]})]})]})}),o.jsx(or,{mode:"wait",children:g?o.jsx(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-full",children:o.jsx("div",{className:"pt-24 pb-32",children:o.jsx(MC,{className:"px-6",children:o.jsxs("div",{className:"max-w-3xl mx-auto antialiased",children:[(P=(D=i.content)==null?void 0:D.sections)==null?void 0:P.map((M,U)=>{var _,I,W,H,se,K;return o.jsxs("div",{children:[M.content&&o.jsxs("div",{className:"mb-16",children:[o.jsxs("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white rounded-full text-sm w-fit px-6 py-2 mb-6 font-semibold shadow-lg",children:["Abschnitt ",U+1]}),o.jsx("h2",{className:"text-3xl md:text-4xl mb-6 font-bold text-gray-800 dark:text-white",children:M.title}),i.coverImageUrl&&o.jsx("img",{src:i.coverImageUrl,alt:M.title,className:"rounded-2xl mb-8 w-full object-cover shadow-2xl",style:{maxHeight:"500px"}}),o.jsx("div",{className:"text-lg md:text-xl prose prose-lg dark:prose-invert max-w-none leading-relaxed",children:M.content.split(`
`).map((re,Q)=>re.trim()&&o.jsx("div",{className:"mb-6",children:o.jsx(OC,{text:re,type:"word",textOpacity:"soft",className:"text-gray-700 dark:text-gray-300"})},`p-${U}-${Q}`))})]}),M.keyFacts&&M.keyFacts.length>0&&o.jsx("div",{className:"mb-16",children:o.jsx(LC,{section:M})}),((I=(_=M.interactive)==null?void 0:_.activities)==null?void 0:I.enabled)&&((W=M.interactive.activities.items)==null?void 0:W.length)>0&&o.jsx("div",{className:"mb-16",children:o.jsx(UC,{section:M})}),((se=(H=M.interactive)==null?void 0:H.quiz)==null?void 0:se.enabled)&&((K=M.interactive.quiz.questions)==null?void 0:K.length)>0&&o.jsx("div",{className:"mb-16",children:o.jsx(zC,{section:M,dokuTitle:i.title,dokuId:e,onPersonalityChange:re=>{ft(async()=>{const{showPersonalityUpdateToast:Q}=await import("./toastUtils-Bu-OBlOz.js");return{showPersonalityUpdateToast:Q}},[]).then(({showPersonalityUpdateToast:Q})=>{Q(re)})}})})]},`section-${U}`)}),o.jsxs("div",{className:"flex flex-col items-center justify-center py-16 border-t-2 border-dashed border-gray-300 dark:border-gray-600",children:[o.jsx(je.button,{onClick:E,disabled:v,className:`px-12 py-5 rounded-full font-bold text-xl text-white transition-all shadow-2xl ${v?"bg-gradient-to-r from-green-500 to-emerald-600 cursor-default":"bg-gradient-to-r from-teal-600 to-cyan-600 hover:shadow-teal-500/50 hover:scale-105"}`,whileHover:v?{}:{scale:1.05},whileTap:v?{}:{scale:.95},children:v?" Doku abgeschlossen!":" Doku abschlieen"}),v&&o.jsx(je.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 text-gray-600 dark:text-gray-300 text-center",children:"Deine Avatare haben neues Wissen erlangt! "})]})]})})})},"reader"):o.jsxs(je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex flex-col items-center justify-center p-8 pt-24 text-center",children:[o.jsx(je.img,{src:i.coverImageUrl||"/placeholder-doku.jpg",alt:i.title,className:"w-64 h-64 md:w-80 md:h-80 rounded-2xl shadow-2xl mb-8 object-cover",layoutId:`doku-cover-${i.id}`}),o.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-gray-800 dark:text-white mb-6 max-w-4xl",children:i.title}),o.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mb-10 leading-relaxed",children:i.summary}),o.jsx(je.button,{onClick:k,className:"px-10 py-4 bg-gradient-to-r from-teal-600 to-cyan-600 text-white font-bold text-lg rounded-full shadow-xl hover:shadow-2xl transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:" Lesen"})]},"cover")})]})},e7=({doku:e,onRead:t,onDelete:s})=>{const r=()=>{console.log("DokuCard clicked:",e.title,e.id),t(e)},i=R=>{R.stopPropagation(),s&&s(e.id,e.title)},c={background:S.glass.background,backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",border:`2px solid ${S.border.light}`,borderRadius:`${fe.xl}px`,overflow:"hidden",boxShadow:$e.md,transition:`all ${_e.duration.normal} ${_e.easing.smooth}`,cursor:"pointer"},u={position:"relative",height:"220px",overflow:"hidden",background:S.gradients.ocean},h={width:"100%",height:"100%",objectFit:"cover",transition:`transform ${_e.duration.slow} ${_e.easing.smooth}`},p={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},m={position:"absolute",top:w.md,left:w.md,background:S.glass.background,backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.xs}px ${w.md}px`,...ee.textStyles.caption,fontWeight:"700",color:e.status==="complete"?S.semantic.success:S.semantic.warning,border:`2px solid ${e.status==="complete"?S.semantic.success+"40":S.semantic.warning+"40"}`},g={position:"absolute",top:w.md,right:w.md,background:S.semantic.error+"90",backdropFilter:"blur(10px)",borderRadius:`${fe.pill}px`,padding:`${w.sm}px`,border:"none",cursor:"pointer",transition:`all ${_e.duration.fast} ${_e.easing.smooth}`},y={position:"absolute",inset:0,background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%)"},v={padding:`${w.lg}px`},j={...ee.textStyles.headingMd,color:S.text.primary,marginBottom:w.xs,transition:`color ${_e.duration.fast} ${_e.easing.smooth}`},A={...ee.textStyles.bodySm,color:S.text.secondary,marginBottom:w.md},k={display:"inline-flex",alignItems:"center",gap:w.xs,padding:`${w.xs}px ${w.md}px`,background:S.mint[50],color:S.mint[700],borderRadius:`${fe.pill}px`,...ee.textStyles.caption,fontWeight:"600",border:`1px solid ${S.mint[200]}`,marginTop:w.sm},E={display:"flex",alignItems:"center",gap:w.md,marginTop:w.md},C={display:"flex",alignItems:"center",gap:w.xs,...ee.textStyles.caption,color:S.text.tertiary};return o.jsxs("div",{onClick:r,style:c,onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-8px)",R.currentTarget.style.boxShadow=$e.xl;const N=R.currentTarget.querySelector("img");N&&(N.style.transform="scale(1.1)");const D=R.currentTarget.querySelector("[data-title]");D&&(D.style.color=S.mint[600])},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow=$e.md;const N=R.currentTarget.querySelector("img");N&&(N.style.transform="scale(1)");const D=R.currentTarget.querySelector("[data-title]");D&&(D.style.color=S.text.primary)},children:[o.jsxs("div",{style:u,children:[e.coverImageUrl?o.jsx("img",{src:e.coverImageUrl,alt:e.title,style:h}):o.jsx("div",{style:p,children:o.jsx(Ar,{size:72,style:{color:S.text.inverse,opacity:.6}})}),o.jsx("div",{style:y}),e.status==="generating"&&o.jsx("div",{style:m,children:" Wird erstellt..."}),s&&o.jsx("button",{onClick:i,style:g,title:"Doku lschen",onMouseEnter:R=>{R.currentTarget.style.transform="scale(1.15)",R.currentTarget.style.background=S.semantic.error},onMouseLeave:R=>{R.currentTarget.style.transform="scale(1)",R.currentTarget.style.background=S.semantic.error+"90"},children:o.jsx(ds,{size:16,style:{color:S.text.inverse}})})]}),o.jsxs("div",{style:v,children:[o.jsx("h3",{style:j,"data-title":!0,children:e.title}),o.jsx("p",{style:A,children:e.topic}),o.jsxs("div",{style:k,children:[o.jsx(KD,{size:14}),o.jsx("span",{children:"Lehrreich & Spannend"})]}),o.jsxs("div",{style:E,children:[o.jsxs("div",{style:C,children:[o.jsx(Dr,{size:14}),o.jsx("span",{children:new Date(e.createdAt).toLocaleDateString("de-DE")})]}),e.pages&&o.jsxs("div",{style:C,children:[o.jsx(Ar,{size:14}),o.jsxs("span",{children:[e.pages.length," Seiten"]})]})]})]})]})};function BS({trigger:e}){const[t,s]=b.useState(!1);return o.jsxs(Vd,{open:t,onOpenChange:s,children:[o.jsx(Fy,{asChild:!0,children:e||o.jsx(Gd,{children:"Neue Doku"})}),o.jsx(Hd,{children:o.jsx("div",{className:"h-full overflow-y-auto",children:o.jsx(PC,{})})})]})}const t7=()=>{const e=Gt(),t=yt(),[s,r]=b.useState([]),[i,c]=b.useState(!0),[u,h]=b.useState(!1),[p,m]=b.useState(!0),[g,y]=b.useState(0),v=b.useRef(null),j=async()=>{try{c(!0);const H=await t.doku.listDokus({limit:10,offset:0});r(H.dokus),y(H.total),m(H.hasMore)}catch(H){console.error("Error loading dokus:",H)}finally{c(!1)}},A=b.useCallback(async()=>{if(u||!p){console.log("Skipping load more dokus:",{loadingMore:u,hasMore:p});return}console.log("Starting to load more dokus. Current count:",s.length);try{h(!0);const H=await t.doku.listDokus({limit:10,offset:s.length});console.log("Loaded more dokus:",H.dokus.length,"hasMore:",H.hasMore),r(se=>[...se,...H.dokus]),m(H.hasMore)}catch(H){console.error("Error loading more dokus:",H)}finally{h(!1)}},[t,s.length,p,u,s]);b.useEffect(()=>{j()},[]),b.useEffect(()=>{const H=new IntersectionObserver(K=>{K[0].isIntersecting&&p&&!u&&!i&&A()},{threshold:.1}),se=v.current;return se&&H.observe(se),()=>{se&&H.unobserve(se)}},[p,u,i,A]);const k=H=>{console.log("Navigating to doku reader:",H.id,`/doku-reader/${H.id}`),e(`/doku-reader/${H.id}`)},E=async(H,se)=>{if(window.confirm(`Mchtest du die Doku "${se}" wirklich lschen? Diese Aktion kann nicht rckgngig gemacht werden.`))try{await t.doku.deleteDoku(H),r(s.filter(K=>K.id!==H)),alert(`Doku "${se}" wurde erfolgreich gelscht.`)}catch(K){console.error("Error deleting doku:",K),alert("Fehler beim Lschen der Doku. Bitte versuche es erneut.")}},C={minHeight:"100vh",background:S.background.primary,paddingBottom:"120px",position:"relative"},R={position:"absolute",filter:"blur(60px)",opacity:.6,borderRadius:"50%",transform:"translate(-50%, -50%)"},N={padding:`${w.xl}px`,marginBottom:`${w.lg}px`},D={borderRadius:`${fe.xl}px`,padding:`${w.xl}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,boxShadow:S.glass.shadowStrong,backdropFilter:"blur(18px) saturate(160%)",WebkitBackdropFilter:"blur(18px) saturate(160%)",position:"relative"},P={...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.sm,textShadow:"0 1px 1px rgba(255,255,255,0.35)",display:"flex",alignItems:"center",gap:w.md},M={...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},U={position:"absolute",top:w.lg,right:w.lg},_={padding:`0 ${w.xl}px`},I={textAlign:"center",padding:`${w.xxl}px`},W={display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.xxl}px`};return i?o.jsxs("div",{style:C,children:[o.jsx("div",{style:W,children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"60px",height:"60px",border:"4px solid rgba(255,255,255,0.6)",borderTop:`4px solid ${S.primary[500]}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:`0 auto ${w.lg}px auto`}}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary,fontSize:"18px"},children:"Lade deine Dokumentationen... "})]})}),o.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]}):o.jsxs("div",{style:C,children:[o.jsx("div",{style:{...R,width:320,height:320,top:120,left:120,background:hs.primary}}),o.jsx("div",{style:{...R,width:280,height:280,top:240,right:-40,background:hs.cool}}),o.jsx("div",{style:{...R,width:240,height:240,bottom:-40,left:"50%",background:hs.warm}}),o.jsx(za,{children:o.jsxs("div",{style:{textAlign:"center",padding:`${w.xxxl}px ${w.xl}px`},children:[o.jsx(Se,{delay:100,children:o.jsx("h1",{style:{...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.md},children:"Melde dich an, um deine Dokumentationen zu sehen"})}),o.jsx(Se,{delay:200,children:o.jsx(Ve,{title:"Anmelden",onPress:()=>e("/auth"),variant:"primary",size:"lg"})})]})}),o.jsxs(ea,{children:[o.jsx(Se,{delay:0,children:o.jsx("div",{style:N,children:o.jsxs("div",{style:D,children:[o.jsxs("div",{style:P,children:[o.jsx(Ar,{size:36,style:{color:S.primary[500]}}),"Deine Dokumentationen"]}),o.jsxs("div",{style:M,children:["Entdecke alle deine lehrreichen Wissensinhalte (",g," Dokus)"]}),o.jsx("div",{style:U,children:o.jsx(BS,{})})]})})}),o.jsx(Se,{delay:100,children:o.jsx("div",{style:_,children:s.length===0?o.jsxs(Ee,{variant:"glass",style:I,children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:`${w.lg}px`},children:""}),o.jsx("div",{style:{...ee.textStyles.headingMd,color:S.text.primary,marginBottom:`${w.sm}px`},children:"Noch keine Dokumentationen"}),o.jsx("div",{style:{...ee.textStyles.body,color:S.text.secondary,marginBottom:`${w.lg}px`,fontSize:"16px"},children:"Erstelle deine erste lehrreiche Dokumentation!"}),o.jsx(BS,{})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:s.map(H=>o.jsx(e7,{doku:H,onRead:k,onDelete:E},H.id))}),p&&o.jsx("div",{ref:v,style:{height:"20px",margin:`${w.lg}px 0`},children:u&&o.jsx("div",{style:{textAlign:"center"},children:o.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.6)",borderTop:`3px solid ${S.primary[500]}`,borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}})})})]})})})]})]})};function _u(e){if(!e)return null;if(typeof e=="string"){const t=e.trim();return t.length?t:null}if(typeof e=="object"){const t=e.id;if(typeof t=="string"&&t.trim().length>0)return t.trim();const s=e.value;if(typeof s=="string"&&s.trim().length>0)return s.trim()}return console.warn("[CharacterPool] Unable to resolve character identifier",e),null}const n7={minHeight:"100vh",padding:`${w.xl}px ${w.xl}px ${w.xxl}px`,color:S.text.primary,background:S.gradients.background,fontFamily:'"Nunito", system-ui, sans-serif'},r7={display:"flex",flexDirection:"column",gap:w.sm,marginBottom:w.xl},s7={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:w.lg},a7={width:"100%",height:180,borderRadius:`${fe.lg}px`,overflow:"hidden",background:S.glass.backgroundAlt,border:`1px solid ${S.border.light}`,display:"flex",alignItems:"center",justifyContent:"center"},i7={position:"fixed",inset:0,background:"rgba(12, 10, 25, 0.75)",backdropFilter:"blur(8px)",zIndex:1050,display:"flex",alignItems:"center",justifyContent:"center",padding:`${w.xl}px`},o7={width:"min(960px, 100%)",maxHeight:"90vh",overflowY:"auto",background:S.glass.backgroundAlt,borderRadius:`${fe.xl}px`,border:`2px solid ${S.border.light}`,boxShadow:$e.xl,padding:`${w.xl}px`},l7={display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:w.lg},c7={marginBottom:w.xl,display:"grid",gap:w.lg},IS={...ee.textStyles.headingSm,marginBottom:w.sm},Fn={fontSize:14,fontWeight:600,color:S.text.secondary,marginBottom:w.xxs,display:"block"},nr={width:"100%",padding:`${w.sm}px`,borderRadius:`${fe.md}px`,border:`1px solid ${S.border.light}`,background:S.glass.background,color:S.text.primary,fontSize:14,outline:"none",transition:"border 120ms ease, box-shadow 120ms ease"},FS={...nr,minHeight:80,resize:"vertical"},Ou={display:"grid",gap:w.lg,gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))"},u7={width:"100%",maxWidth:240,aspectRatio:"1 / 1",borderRadius:`${fe.lg}px`,overflow:"hidden",border:`1px solid ${S.border.light}`},d7=()=>{const e=yt(),[t,s]=b.useState([]),[r,i]=b.useState(!0),[c,u]=b.useState(null),[h,p]=b.useState(null),[m,g]=b.useState(!1),[y,v]=b.useState(null),[j,A]=b.useState(!1),[k,E]=b.useState(!1),[C,R]=b.useState(!1),[N,D]=b.useState(!1),[P,M]=b.useState(!1),[U,_]=b.useState(!1),[I,W]=b.useState(!1),H=b.useRef(null);b.useEffect(()=>{se()},[]);const se=async()=>{try{i(!0),u(null);const F=await e.story.listCharacters();s(F.characters)}catch(F){console.error("Failed to load characters",F),u("Charaktere konnten nicht geladen werden."),Ft.error("Charaktere konnten nicht geladen werden.")}finally{i(!1)}},K=async F=>{const ie=_u(F);if(!ie){Ft.error("Charakter konnte nicht identifiziert werden.");return}try{D(!0);const oe=await e.story.getCharacter(ie);p(oe),g(!1),v(hp(oe)),A(!0)}catch(oe){console.error("Failed to load character details",oe),Ft.error("Charakterdetails konnten nicht geladen werden.")}finally{D(!1)}},re=()=>{v(h7()),p(null),g(!0),A(!0)},Q=()=>{A(!1),p(null),g(!1),v(null)},B=async()=>{if(m){Ft.info("Bitte speichere den Charakter zuerst, bevor ein Bild generiert wird.");return}if(!h||!y)return;const F=_u(h);if(!F){Ft.error("Charakter konnte nicht identifiziert werden.");return}try{E(!0);const ie=await e.story.generateCharacterImage(F,{});v(oe=>oe&&{...oe,imageUrl:ie.imageUrl}),Ft.success("Neues Charakterbild erstellt. Vergiss nicht zu speichern.")}catch(ie){console.error("Failed to generate character image",ie),Ft.error("Bild konnte nicht generiert werden.")}finally{E(!1)}},L=async()=>{if(!y)return;if(m&&(!y.name.trim()||!y.role.trim()||!y.archetype.trim())){Ft.error("Bitte Name, Rolle und Archetyp ausfuellen.");return}let F=null,ie=null;if(!m){if(!h)return;if(ie=_u(h),!ie){Ft.error("Charakter konnte nicht identifiziert werden.");return}if(F=m7(h,y),Object.keys(F).length===0){Ft.info("Keine Aenderungen erkannt.");return}}try{if(R(!0),m){const oe=f7(y),he=await e.story.addCharacter({character:oe});p(he),v(hp(he)),g(!1),Ft.success("Charakter erfolgreich erstellt.")}else if(h&&F&&ie){await e.story.updateCharacter(ie,{updates:F});const oe=await e.story.getCharacter(ie);p(oe),v(hp(oe)),Ft.success("Charakter erfolgreich aktualisiert.")}await se()}catch(oe){console.error("Failed to save character",oe),Ft.error("Charakter konnte nicht gespeichert werden.")}finally{R(!1)}},V=b.useMemo(()=>r||I,[I,r]),Y=async()=>{try{_(!0);const F=await e.story.exportCharacters(),ie=new Blob([JSON.stringify(F.characters,null,2)],{type:"application/json"}),oe=URL.createObjectURL(ie),he=new Date().toISOString().replace(/[:.]/g,"-"),ye=document.createElement("a");ye.href=oe,ye.download=`talea-characters-${he}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(oe),Ft.success("Charaktere exportiert.")}catch(F){console.error("Failed to export characters",F),Ft.error("Charaktere konnten nicht exportiert werden.")}finally{_(!1)}},z=()=>{var F;(F=H.current)==null||F.click()},X=async F=>{var oe;const ie=(oe=F.target.files)==null?void 0:oe[0];if(ie)try{const he=await ie.text();let ye;try{ye=JSON.parse(he)}catch{throw new Error("Die ausgewaehlte Datei enthaelt kein gueltiges JSON.")}const pe=Array.isArray(ye)?ye:Array.isArray(ye==null?void 0:ye.characters)?ye.characters:null;if(!pe||pe.length===0)throw new Error("Die JSON-Datei enthaelt keine Charaktere.");if(!window.confirm(`Vorhandene Charaktere werden durch ${pe.length} importierte Eintraege ersetzt. Fortfahren?`))return;W(!0),await e.story.importCharacters({characters:pe}),Ft.success("Charaktere erfolgreich importiert."),Q(),await se()}catch(he){console.error("Failed to import characters",he);const ye=he instanceof Error?he.message:"Charaktere konnten nicht importiert werden.";Ft.error(ye)}finally{F.target.value="",W(!1)}},Z=async()=>{if(!h||m){Q();return}if(!window.confirm(`Soll der Charakter "${h.name}" wirklich geloescht werden?`))return;const ie=_u(h);if(!ie){Ft.error("Charakter konnte nicht identifiziert werden.");return}try{M(!0),await e.story.deleteCharacter(ie),Ft.success("Charakter wurde geloescht."),Q(),await se()}catch(oe){console.error("Failed to delete character",oe),Ft.error("Charakter konnte nicht geloescht werden.")}finally{M(!1)}};return o.jsxs("div",{style:n7,children:[o.jsx("input",{ref:H,type:"file",accept:"application/json",onChange:X,style:{display:"none"}}),o.jsxs("header",{style:r7,children:[o.jsxs("div",{children:[o.jsx("h1",{style:{...ee.textStyles.headingLg,marginBottom:w.xs},children:"Charaktere"}),o.jsx("p",{style:{color:S.text.secondary,maxWidth:640},children:"Verwalte alle verfuegbaren Charaktervorlagen. Du kannst Eigenschaften anpassen, Kapitelzuordnungen aendern und neue Bilder direkt aus dem visuellen Profil generieren."})]}),o.jsxs("div",{style:{display:"flex",gap:w.sm,flexWrap:"wrap"},children:[o.jsx(Ve,{title:U?"Exportiert...":"Exportieren",onPress:()=>void Y(),icon:o.jsx(ad,{size:16}),variant:"outline",disabled:U}),o.jsx(Ve,{title:I?"Importiert...":"Importieren",onPress:z,icon:o.jsx(jk,{size:16}),variant:"outline",disabled:I}),o.jsx(Ve,{title:"Neuer Charakter",onPress:re,icon:o.jsx(wt,{size:16}),variant:"primary",disabled:I||U}),o.jsx(Ve,{title:r?"Laedt...":"Aktualisieren",onPress:()=>void se(),disabled:V,icon:o.jsx(dP,{size:16}),variant:"secondary"})]})]}),r&&o.jsx("div",{style:{color:S.text.secondary},children:"Charaktere werden geladen..."}),!r&&c&&o.jsx("div",{style:{color:S.semantic.error},children:c}),!r&&!c&&t.length===0&&o.jsx("div",{style:{color:S.text.secondary},children:"Keine Charaktere gefunden."}),!r&&!c&&t.length>0&&o.jsx("div",{style:s7,children:t.map(F=>o.jsxs(Ee,{variant:"glass",style:{padding:w.lg},children:[o.jsx("div",{style:a7,children:F.imageUrl?o.jsx("img",{src:F.imageUrl,alt:F.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("span",{style:{color:S.text.secondary,fontSize:14},children:"Kein Bild"})}),o.jsxs("div",{style:{marginTop:w.md},children:[o.jsx("h3",{style:{...ee.textStyles.headingSm,marginBottom:w.xs},children:F.name}),o.jsxs("p",{style:{color:S.text.secondary,fontSize:14},children:[F.role," - ",F.archetype]})]}),o.jsxs("div",{style:{marginTop:w.md,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:12,color:F.isActive?S.semantic.success:S.text.secondary},children:F.isActive?"Aktiv":"Inaktiv"}),o.jsx(Ve,{title:N&&(h==null?void 0:h.id)===F.id?"Laedt...":"Bearbeiten",onPress:()=>void K(F.id),icon:o.jsx(Xg,{size:16}),variant:"primary",disabled:N&&(h==null?void 0:h.id)===F.id})]})]},F.id))}),j&&y&&o.jsx("div",{style:i7,role:"dialog","aria-modal":"true",children:o.jsxs("div",{style:o7,children:[o.jsxs("div",{style:l7,children:[o.jsxs("div",{children:[o.jsx("h2",{style:ee.textStyles.headingMd,children:y.name.trim()||(m?"Neuer Charakter":(h==null?void 0:h.name)??"Charakter")}),o.jsx("p",{style:{color:S.text.secondary,fontSize:14},children:m?"Noch nicht gespeichert":(h==null?void 0:h.id)??""})]}),o.jsx(Ve,{title:"Schliessen",onPress:Q,variant:"outline",icon:o.jsx(_d,{size:16})})]}),o.jsxs("div",{style:{display:"flex",gap:w.xl,alignItems:"flex-start",flexWrap:"wrap",marginBottom:w.xl},children:[o.jsx("div",{style:{flex:"1 1 360px",minWidth:300},children:o.jsxs("div",{style:c7,children:[o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"name",children:"Name"}),o.jsx("input",{id:"name",style:nr,value:y.name,onChange:F=>v({...y,name:F.target.value})})]}),o.jsxs("div",{style:Ou,children:[o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"role",children:"Rolle"}),o.jsx("input",{id:"role",style:nr,value:y.role,onChange:F=>v({...y,role:F.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"archetype",children:"Archetyp"}),o.jsx("input",{id:"archetype",style:nr,value:y.archetype,onChange:F=>v({...y,archetype:F.target.value})})]})]}),o.jsxs("div",{style:Ou,children:[o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"maxScreenTime",children:"Screen Time (%)"}),o.jsx("input",{id:"maxScreenTime",style:nr,value:y.maxScreenTime,onChange:F=>v({...y,maxScreenTime:F.target.value}),inputMode:"numeric"})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"availableChapters",children:"Kapitel (kommagetrennt)"}),o.jsx("input",{id:"availableChapters",style:nr,value:y.availableChapters,onChange:F=>v({...y,availableChapters:F.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"canonSettings",children:"Canon Settings (kommagetrennt)"}),o.jsx("input",{id:"canonSettings",style:nr,value:y.canonSettings,onChange:F=>v({...y,canonSettings:F.target.value})})]}),o.jsxs("div",{children:[o.jsx("span",{style:IS,children:"Emotionen"}),o.jsxs("div",{style:Ou,children:[o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"dominantEmotion",children:"Dominant"}),o.jsx("input",{id:"dominantEmotion",style:nr,value:y.dominantEmotion,onChange:F=>v({...y,dominantEmotion:F.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"secondaryEmotions",children:"Sekundaer (kommagetrennt)"}),o.jsx("input",{id:"secondaryEmotions",style:nr,value:y.secondaryEmotions,onChange:F=>v({...y,secondaryEmotions:F.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"triggers",children:"Trigger (kommagetrennt)"}),o.jsx("input",{id:"triggers",style:nr,value:y.triggers,onChange:F=>v({...y,triggers:F.target.value})})]})]}),o.jsxs("div",{children:[o.jsx("span",{style:IS,children:"Visual Profile"}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"visualDescription",children:"Beschreibung"}),o.jsx("textarea",{id:"visualDescription",style:FS,value:y.visualDescription,onChange:F=>v({...y,visualDescription:F.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"visualPrompt",children:"Prompt"}),o.jsx("textarea",{id:"visualPrompt",style:FS,value:y.visualPrompt,onChange:F=>v({...y,visualPrompt:F.target.value})})]}),o.jsxs("div",{style:Ou,children:[o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"species",children:"Spezies"}),o.jsx("input",{id:"species",style:nr,value:y.species,onChange:F=>v({...y,species:F.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{style:Fn,htmlFor:"colorPalette",children:"Farben (kommagetrennt)"}),o.jsx("input",{id:"colorPalette",style:nr,value:y.colorPalette,onChange:F=>v({...y,colorPalette:F.target.value})})]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm},children:[o.jsx("input",{id:"isActive",type:"checkbox",checked:y.isActive,onChange:F=>v({...y,isActive:F.target.checked})}),o.jsx("label",{htmlFor:"isActive",style:{color:S.text.secondary,fontSize:14},children:"Charakter ist aktiv"})]})]})}),o.jsxs("div",{style:{flex:"0 0 260px",display:"flex",flexDirection:"column",gap:w.md},children:[o.jsx("div",{style:u7,children:y.imageUrl?o.jsx("img",{src:y.imageUrl,alt:`${y.name} Vorschau`,style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",color:S.text.secondary},children:"Kein Bild vorhanden"})}),o.jsx(Ve,{title:k?"Generiere...":"Charakter Bild generieren",onPress:B,icon:o.jsx(wt,{size:16}),variant:"secondary",disabled:k})]})]}),o.jsxs("div",{style:{display:"flex",gap:w.md,alignItems:"center",flexWrap:"wrap"},children:[!m&&h&&o.jsx(Ve,{title:P?"Loeschen...":"Loeschen",onPress:Z,disabled:P,variant:"outline",icon:o.jsx(ds,{size:16})}),o.jsxs("div",{style:{display:"flex",gap:w.md,marginLeft:"auto"},children:[o.jsx(Ve,{title:"Schliessen",onPress:Q,variant:"outline"}),o.jsx(Ve,{title:C?"Speichert...":"Speichern",onPress:L,icon:o.jsx(wk,{size:16}),variant:"primary",disabled:C})]})]})]})})]})};function hp(e){var t,s,r,i,c,u,h;return{name:e.name,role:e.role,archetype:e.archetype,dominantEmotion:((t=e.emotionalNature)==null?void 0:t.dominant)??"",secondaryEmotions:(((s=e.emotionalNature)==null?void 0:s.secondary)??[]).join(", "),triggers:(((r=e.emotionalNature)==null?void 0:r.triggers)??[]).join(", "),visualDescription:((i=e.visualProfile)==null?void 0:i.description)??"",visualPrompt:((c=e.visualProfile)==null?void 0:c.imagePrompt)??"",species:((u=e.visualProfile)==null?void 0:u.species)??"",colorPalette:(((h=e.visualProfile)==null?void 0:h.colorPalette)??[]).join(", "),maxScreenTime:String(e.maxScreenTime??0),availableChapters:(e.availableChapters??[]).join(", "),canonSettings:(e.canonSettings??[]).join(", "),isActive:e.isActive??!0,imageUrl:e.imageUrl}}function h7(){return{name:"",role:"",archetype:"",dominantEmotion:"",secondaryEmotions:"",triggers:"",visualDescription:"",visualPrompt:"",species:"",colorPalette:"",maxScreenTime:"50",availableChapters:"1,2,3,4,5",canonSettings:"",isActive:!0,imageUrl:void 0}}function Zs(e){return e.split(",").map(t=>t.trim()).filter(t=>t.length>0)}function $C(e){return e.split(",").map(t=>parseInt(t.trim(),10)).filter(t=>Number.isFinite(t))}function f7(e){const t=Zs(e.secondaryEmotions),s=Zs(e.triggers),r={dominant:e.dominantEmotion.trim(),secondary:t};s.length>0&&(r.triggers=s);const i=Zs(e.colorPalette),c={description:e.visualDescription.trim(),imagePrompt:e.visualPrompt.trim(),species:e.species.trim(),colorPalette:i},u=parseInt(e.maxScreenTime,10),h=Number.isNaN(u)?50:u,p=$C(e.availableChapters);return{name:e.name.trim(),role:e.role.trim(),archetype:e.archetype.trim(),emotionalNature:r,visualProfile:c,imageUrl:e.imageUrl,maxScreenTime:h,availableChapters:p.length>0?p:[1,2,3,4,5],canonSettings:Zs(e.canonSettings),isActive:e.isActive}}function m7(e,t){const s={};t.name.trim()!==e.name&&(s.name=t.name.trim()),t.role.trim()!==e.role&&(s.role=t.role.trim()),t.archetype.trim()!==e.archetype&&(s.archetype=t.archetype.trim());const r=Zs(t.secondaryEmotions),i=Zs(t.triggers),c={dominant:t.dominantEmotion.trim(),secondary:r};i.length>0&&(c.triggers=i),JSON.stringify(c)!==JSON.stringify(e.emotionalNature??{})&&(s.emotionalNature=c);const u={description:t.visualDescription.trim(),imagePrompt:t.visualPrompt.trim(),species:t.species.trim(),colorPalette:Zs(t.colorPalette)};JSON.stringify(u)!==JSON.stringify(e.visualProfile??{})&&(s.visualProfile=u);const h=parseInt(t.maxScreenTime,10);!Number.isNaN(h)&&h!==e.maxScreenTime&&(s.maxScreenTime=h);const p=$C(t.availableChapters);JSON.stringify(p)!==JSON.stringify(e.availableChapters??[])&&(s.availableChapters=p);const m=Zs(t.canonSettings);return JSON.stringify(m)!==JSON.stringify(e.canonSettings??[])&&(s.canonSettings=m),t.imageUrl!==e.imageUrl&&(s.imageUrl=t.imageUrl??null),(e.isActive??!0)!==t.isActive&&(s.isActive=t.isActive),s}const p7=()=>{const e=yt(),[t,s]=b.useState([]),[r,i]=b.useState(!0),[c,u]=b.useState(null),[h,p]=b.useState({}),[m,g]=b.useState(new Set);b.useEffect(()=>{y()},[]);const y=async()=>{try{i(!0);const Z=await e.fairytales.listFairyTales({limit:100});s(Z.tales||[])}catch(Z){console.error("Error loading fairy tales:",Z),alert("Fehler beim Laden der Mrchen")}finally{i(!1)}},v=async Z=>{if(!h[Z])try{const F=await e.fairytales.getFairyTale({id:Z,includeRoles:!0,includeScenes:!0});p(ie=>({...ie,[Z]:{roles:F.roles||[],scenes:F.scenes||[]}}))}catch(F){console.error("Error loading tale details:",F)}},j=Z=>{const F=new Set(m);F.has(Z)?F.delete(Z):(F.add(Z),v(Z)),g(F)},A=async()=>{try{const Z=await e.fairytales.exportFairyTales({});E(Z.tales,"fairytales-export-all.json")}catch(Z){console.error("Error exporting fairy tales:",Z),alert("Fehler beim Exportieren der Mrchen")}},k=async()=>{if(!c){alert("Bitte whle zuerst ein Mrchen aus");return}try{const Z=await e.fairytales.exportFairyTales({taleIds:[c]}),F=t.find(oe=>oe.id===c),ie=`fairytale-${F==null?void 0:F.title.replace(/\s+/g,"-").toLowerCase()}.json`;E(Z.tales,ie)}catch(Z){console.error("Error exporting fairy tale:",Z),alert("Fehler beim Exportieren des Mrchens")}},E=(Z,F)=>{const ie=new Blob([JSON.stringify(Z,null,2)],{type:"application/json"}),oe=URL.createObjectURL(ie),he=document.createElement("a");he.href=oe,he.download=F,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(oe)},C=async()=>{const Z=document.createElement("input");Z.type="file",Z.accept="application/json,.json",Z.onchange=async F=>{const ie=F.target.files[0];if(ie)try{const oe=await ie.text(),he=JSON.parse(oe),ye=window.confirm(`Vorhandene Mrchen mit gleicher ID berschreiben?

Ja = berschreiben
Nein = Nur neue hinzufgen`),pe=await e.fairytales.importFairyTales({tales:he,overwriteExisting:ye}),Qe=`Import abgeschlossen:

 ${pe.imported} neu importiert
 ${pe.updated} aktualisiert
 ${pe.skipped} bersprungen
`+(pe.errors.length>0?` ${pe.errors.length} Fehler`:"");alert(Qe),pe.errors.length>0&&console.error("Import errors:",pe.errors),y()}catch(oe){console.error("Error importing fairy tales:",oe),alert("Fehler beim Importieren der Mrchen. Bitte berprfe das JSON-Format.")}},Z.click()},R=Z=>{switch(Z){case"protagonist":return"#10b981";case"antagonist":return"#ef4444";case"helper":return"#3b82f6";case"love_interest":return"#ec4899";default:return"#6b7280"}},N={minHeight:"100vh",background:S.background.primary,paddingBottom:"120px"},D={padding:`${w.xl}px`,marginBottom:`${w.lg}px`},P={borderRadius:`${fe.xl}px`,padding:`${w.xl}px`,background:S.glass.background,border:`1px solid ${S.glass.border}`,boxShadow:S.glass.shadowStrong,backdropFilter:"blur(18px) saturate(160%)",WebkitBackdropFilter:"blur(18px) saturate(160%)"},M={...ee.textStyles.displayLg,color:S.text.primary,marginBottom:w.sm,display:"flex",alignItems:"center",gap:w.md},U={display:"flex",gap:w.md,marginTop:w.lg,flexWrap:"wrap"},_={padding:`0 ${w.xl}px`},I={display:"grid",gap:`${w.md}px`},W={borderRadius:`${fe.lg}px`,padding:`${w.lg}px`,background:S.glass.background,border:`2px solid ${S.glass.border}`,boxShadow:S.glass.shadow,backdropFilter:"blur(12px) saturate(140%)",WebkitBackdropFilter:"blur(12px) saturate(140%)",transition:"all 0.2s ease",cursor:"pointer"},H={display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:w.md},se={flex:1},K={...ee.textStyles.h3,color:S.text.primary,marginBottom:w.xs,display:"flex",alignItems:"center",gap:w.sm},re={display:"flex",flexWrap:"wrap",gap:w.md,marginTop:w.sm,fontSize:"14px",color:S.text.secondary},Q={display:"flex",alignItems:"center",gap:w.xs},B={display:"flex",flexWrap:"wrap",gap:w.xs,marginTop:w.sm},L={padding:`${w.xs}px ${w.sm}px`,borderRadius:`${fe.md}px`,background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",fontSize:"12px",color:"#a78bfa"},V={marginTop:w.lg,paddingTop:w.lg,borderTop:`1px solid ${S.glass.border}`},Y={...ee.textStyles.h4,color:S.text.primary,marginBottom:w.md},z={padding:w.md,borderRadius:fe.md,background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:w.sm},X={padding:w.md,borderRadius:fe.md,background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",marginBottom:w.sm};return o.jsxs("div",{style:N,children:[o.jsx("div",{style:D,children:o.jsxs("div",{style:P,children:[o.jsxs("h1",{style:M,children:[o.jsx(gn,{size:40}),"Mrchen-Verwaltung"]}),o.jsx("p",{style:{...ee.textStyles.body,color:S.text.secondary},children:"Verwalte die ffentlichen Mrchen-Vorlagen fr Story-Generierung"}),o.jsxs("div",{style:U,children:[o.jsx(Ve,{variant:"primary",onClick:A,icon:o.jsx(ad,{size:18}),children:"Alle exportieren"}),o.jsx(Ve,{variant:"secondary",onClick:k,icon:o.jsx(ad,{size:18}),disabled:!c,children:"Auswahl exportieren"}),o.jsx(Ve,{variant:"accent",onClick:C,icon:o.jsx(jk,{size:18}),children:"JSON importieren"})]})]})}),o.jsx("div",{style:_,children:r?o.jsx("div",{style:{textAlign:"center",padding:w.xxl},children:o.jsx("p",{style:{color:S.text.secondary},children:"Lade Mrchen..."})}):t.length===0?o.jsxs("div",{style:{textAlign:"center",padding:w.xxl},children:[o.jsx(gn,{size:48,style:{color:S.text.tertiary,margin:"0 auto"}}),o.jsx("p",{style:{color:S.text.secondary,marginTop:w.md},children:"Keine Mrchen gefunden. Importiere eine JSON-Datei."})]}):o.jsx("div",{style:I,children:t.map(Z=>{const F=m.has(Z.id),ie=h[Z.id];return o.jsxs(je.div,{style:{...W,borderColor:c===Z.id?"#8b5cf6":S.glass.border},onClick:()=>u(Z.id),whileHover:{scale:1.01},children:[o.jsxs("div",{style:H,children:[o.jsxs("div",{style:se,children:[o.jsxs("h3",{style:K,children:[Z.title,Z.englishTranslation&&o.jsxs("span",{style:{fontSize:"14px",color:S.text.tertiary},children:["(",Z.englishTranslation,")"]})]}),o.jsxs("div",{style:re,children:[o.jsxs("div",{style:Q,children:[o.jsx(na,{size:16}),o.jsx("span",{children:Z.source})]}),o.jsxs("div",{style:Q,children:[o.jsx(Dr,{size:16}),o.jsxs("span",{children:[Z.durationMinutes," Min"]})]}),o.jsxs("div",{style:Q,children:[o.jsx(AP,{size:16}),o.jsxs("span",{children:["Ab ",Z.ageRecommendation," Jahren"]})]})]}),Z.genreTags&&Z.genreTags.length>0&&o.jsx("div",{style:B,children:Z.genreTags.map((oe,he)=>o.jsx("span",{style:L,children:oe},he))}),Z.moralLesson&&o.jsxs("p",{style:{...ee.textStyles.small,color:S.text.secondary,marginTop:w.sm,fontStyle:"italic"},children:["Moral: ",Z.moralLesson]})]}),o.jsx(Ve,{variant:"ghost",size:"sm",onClick:oe=>{oe.stopPropagation(),j(Z.id)},icon:F?o.jsx(pk,{size:20}):o.jsx(Rd,{size:20})})]}),o.jsx(or,{children:F&&ie&&o.jsx(je.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},style:{overflow:"hidden"},children:o.jsxs("div",{style:V,children:[o.jsxs("div",{children:[o.jsxs("h4",{style:Y,children:["Rollen (",ie.roles.length,")"]}),ie.roles.map(oe=>o.jsxs("div",{style:z,children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",background:R(oe.roleType),color:"white",fontSize:"12px",marginRight:w.sm},children:oe.roleType}),o.jsx("strong",{style:{color:S.text.primary},children:oe.roleName||"Unnamed"}),oe.required&&o.jsx("span",{style:{marginLeft:w.xs,fontSize:"12px",color:"#ef4444"},children:"*"})]}),o.jsxs("span",{style:{fontSize:"14px",color:S.text.tertiary},children:[" ",oe.roleCount]})]}),oe.description&&o.jsx("p",{style:{...ee.textStyles.small,color:S.text.secondary,marginTop:w.xs},children:oe.description})]},oe.id))]}),o.jsxs("div",{style:{marginTop:w.lg},children:[o.jsxs("h4",{style:Y,children:["Szenen (",ie.scenes.length,")"]}),ie.scenes.map(oe=>o.jsx("div",{style:X,children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:w.sm,marginBottom:w.xs},children:[o.jsx("span",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#8b5cf6",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},children:oe.sceneNumber}),oe.sceneTitle&&o.jsx("strong",{style:{color:S.text.primary},children:oe.sceneTitle})]}),o.jsx("p",{style:{...ee.textStyles.small,color:S.text.secondary,marginTop:w.xs},children:oe.sceneDescription}),oe.setting&&o.jsxs("div",{style:{marginTop:w.xs,fontSize:"12px",color:S.text.tertiary},children:["Setting: ",oe.setting," | Mood: ",oe.mood]})]}),o.jsxs("span",{style:{fontSize:"12px",color:S.text.tertiary},children:[oe.durationSeconds,"s"]})]})},oe.id))]})]})})})]},Z.id)})})})]})},g7=()=>o.jsx(yR,{children:o.jsxs("div",{style:{minHeight:"100vh",background:S.gradients.background},children:[o.jsxs(KN,{children:[o.jsx(Et,{path:"/",element:o.jsx(U1,{})}),o.jsx(Et,{path:"/avatar",element:o.jsx($I,{})}),o.jsx(Et,{path:"/avatar/create",element:o.jsx(h2,{})}),o.jsx(Et,{path:"/avatar/:avatarId",element:o.jsx(HI,{})}),o.jsx(Et,{path:"/avatar/edit/:avatarId",element:o.jsx(pU,{})}),o.jsx(Et,{path:"/story",element:o.jsx(b8,{})}),o.jsx(Et,{path:"/story/wizard-old",element:o.jsx(RC,{})}),o.jsx(Et,{path:"/story/fairytale-selection",element:o.jsx(M8,{})}),o.jsx(Et,{path:"/story/fairytale/:taleId/map-characters",element:o.jsx(_8,{})}),o.jsx(Et,{path:"/story-reader/:storyId",element:o.jsx(E8,{})}),o.jsx(Et,{path:"/story-reader-old/:storyId",element:o.jsx(S8,{})}),o.jsx(Et,{path:"/stories",element:o.jsx(R8,{})}),o.jsx(Et,{path:"/community",element:o.jsx(U1,{})}),o.jsx(Et,{path:"/logs",element:o.jsx(V8,{})}),o.jsx(Et,{path:"/doku",element:o.jsx(t7,{})}),o.jsx(Et,{path:"/characters",element:o.jsx(d7,{})}),o.jsx(Et,{path:"/fairytales",element:o.jsx(p7,{})}),o.jsx(Et,{path:"/doku/create",element:o.jsx(PC,{})}),o.jsx(Et,{path:"/doku-reader/:dokuId",element:o.jsx(Q8,{})}),o.jsx(Et,{path:"/doku-reader-old/:dokuId",element:o.jsx(Z8,{})}),o.jsx(Et,{path:"/auth",element:o.jsx(q8,{})}),o.jsx(Et,{path:"/_admin",element:o.jsx(K8,{})})]}),o.jsx(H8,{}),o.jsx(W8,{}),o.jsx(lO,{position:"top-right",richColors:!0,closeButton:!0,toastOptions:{style:{background:S.glass.backgroundAlt,backdropFilter:"blur(20px)",border:`2px solid ${S.border.light}`,borderRadius:"16px",color:S.text.primary}}})]})}),y7=()=>o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",background:S.gradients.background,padding:"2rem",textAlign:"center",fontFamily:'"Nunito", system-ui, sans-serif'},children:o.jsxs("div",{style:{maxWidth:"600px",padding:"2.5rem",borderRadius:"24px",background:S.glass.backgroundAlt,border:`2px solid ${S.border.light}`,boxShadow:"0 20px 60px rgba(169, 137, 242, 0.2)"},children:[o.jsx("div",{style:{fontSize:"64px",marginBottom:"1.5rem"},children:""}),o.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",color:S.text.primary,marginBottom:"1rem",fontFamily:'"Fredoka", "Nunito", system-ui, sans-serif'},children:"Clerk Publishable Key fehlt"}),o.jsx("p",{style:{color:S.text.secondary,marginBottom:"1.5rem",fontSize:"16px"},children:"Um die Authentifizierung zu nutzen, bentigst du einen Clerk Publishable Key."}),o.jsxs("p",{style:{color:S.text.secondary,fontSize:"15px"},children:["Bitte ffne die Datei ",o.jsx("code",{style:{background:S.lavender[100],padding:"0.3rem 0.6rem",borderRadius:"8px",color:S.lavender[700],fontFamily:"monospace"},children:"frontend/config.ts"})," und setze den Wert von ",o.jsx("code",{style:{background:S.lavender[100],padding:"0.3rem 0.6rem",borderRadius:"8px",color:S.lavender[700],fontFamily:"monospace"},children:"clerkPublishableKey"}),"."]}),o.jsxs("p",{style:{color:S.text.secondary,marginTop:"1.5rem",fontSize:"14px"},children:["Du erhltst deinen Key im ",o.jsx("a",{href:"https://dashboard.clerk.com",target:"_blank",rel:"noopener noreferrer",style:{color:S.lavender[600],textDecoration:"none",fontWeight:"600"},children:"Clerk Dashboard"}),"."]})]})});function x7(){return Kp?o.jsx(IR,{store:YO,children:o.jsx(Zj,{publishableKey:Kp,children:o.jsx(g7,{})})}):o.jsx(y7,{})}sN.createRoot(document.getElementById("root")).render(o.jsx($.StrictMode,{children:o.jsx(x7,{})}));export{rd as B,ls as C,gs as U,_d as X,ft as _,sd as a,gn as b,xe as c,G7 as d,o as j,je as m,Ft as t};
